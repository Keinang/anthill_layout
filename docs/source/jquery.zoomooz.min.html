<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">function Matrix(){}var Sylvester={version:&quot;0.1.3&quot;,precision:1e-6};Matrix.prototype={dup:function(){return Matrix.create(this.elements)},canMultiplyFromLeft:function(e){var t=e.elements||e;return t[0][0]===void 0&amp;&amp;(t=Matrix.create(t).elements),this.elements[0].length==t.length},multiply:function(e){var t=e.modulus?!0:!1,n=e.elements||e;if(n[0][0]===void 0&amp;&amp;(n=Matrix.create(n).elements),!this.canMultiplyFromLeft(n))return null;var r,o,a,i,s,l,u=this.elements.length,c=u,f=n[0].length,m=this.elements[0].length,d=[];do{r=c-u,d[r]=[],o=f;do{a=f-o,i=0,s=m;do l=m-s,i+=this.elements[r][l]*n[l][a];while(--s);d[r][a]=i}while(--o)}while(--u);return n=Matrix.create(d),t?n.col(1):n},isSquare:function(){return this.elements.length==this.elements[0].length},toRightTriangular:function(){var e,t,n,r,o=this.dup(),a=this.elements.length,i=a,s=this.elements[0].length;do{if(t=i-a,0===o.elements[t][t])for(j=t+1;i&gt;j;j++)if(0!==o.elements[j][t]){e=[],n=s;do r=s-n,e.push(o.elements[t][r]+o.elements[j][r]);while(--n);o.elements[t]=e;break}if(0!==o.elements[t][t])for(j=t+1;i&gt;j;j++){var l=o.elements[j][t]/o.elements[t][t];e=[],n=s;do r=s-n,e.push(t&gt;=r?0:o.elements[j][r]-o.elements[t][r]*l);while(--n);o.elements[j]=e}}while(--a);return o},determinant:function(){if(!this.isSquare())return null;var e,t=this.toRightTriangular(),n=t.elements[0][0],r=t.elements.length-1,o=r;do e=o-r+1,n*=t.elements[e][e];while(--r);return n},isSingular:function(){return this.isSquare()&amp;&amp;0===this.determinant()},augment:function(e){var t=e.elements||e;t[0][0]===void 0&amp;&amp;(t=Matrix.create(t).elements);var n,r,o,a=this.dup(),i=a.elements[0].length,s=a.elements.length,l=s,u=t[0].length;if(s!=t.length)return null;do{n=l-s,r=u;do o=u-r,a.elements[n][i+o]=t[n][o];while(--r)}while(--s);return a},inverse:function(){if(!this.isSquare()||this.isSingular())return null;var e,t,n,r,o,a,i,s=this.elements.length,l=s,u=this.augment(Matrix.I(s)).toRightTriangular(),c=u.elements[0].length,f=[];do{e=s-1,o=[],n=c,f[e]=[],a=u.elements[e][e];do r=c-n,i=u.elements[e][r]/a,o.push(i),r&gt;=l&amp;&amp;f[e].push(i);while(--n);for(u.elements[e]=o,t=0;e&gt;t;t++){o=[],n=c;do r=c-n,o.push(u.elements[t][r]-u.elements[e][r]*u.elements[t][e]);while(--n);u.elements[t]=o}}while(--s);return Matrix.create(f)},setElements:function(e){var t,n=e.elements||e;if(n[0][0]!==void 0){var r,o,a,i=n.length,s=i;this.elements=[];do{t=s-i,r=n[t].length,o=r,this.elements[t]=[];do a=o-r,this.elements[t][a]=n[t][a];while(--r)}while(--i);return this}var l=n.length,u=l;this.elements=[];do t=u-l,this.elements.push([n[t]]);while(--l);return this}},Matrix.create=function(e){var t=new Matrix;return t.setElements(e)},Matrix.I=function(e){var t,n,r,o=[],a=e;do{t=a-e,o[t]=[],n=a;do r=a-n,o[t][r]=t==r?1:0;while(--n)}while(--e);return Matrix.create(o)},PureCSSMatrix=function(){&quot;use strict&quot;;function e(e){e&amp;&amp;null!==e&amp;&amp;&quot;none&quot;!=e?e instanceof Matrix?this.setMatrix(e):this.setMatrixValue(e):this.m=Matrix.I(3)}function t(e){var t=parseFloat(n(e));return e.match(o)&amp;&amp;(t=2*Math.PI*t/360),t}function n(e){return e.match(a)}function r(e){return Number(e).toFixed(6)}var o=/deg$/,a=/([0-9.\-e]+)/g,i=/([a-zA-Z]+)\(([^\)]+)\)/g;return e.prototype.setMatrix=function(e){this.m=e},e.prototype.setMatrixValue=function(e){for(var r,o=Matrix.I(3);null!==(r=i.exec(e));){var a,s=r[1].toLowerCase(),l=r[2].split(&quot;,&quot;);if(&quot;matrix&quot;==s)a=Matrix.create([[parseFloat(l[0]),parseFloat(l[2]),parseFloat(n(l[4]))],[parseFloat(l[1]),parseFloat(l[3]),parseFloat(n(l[5]))],[0,0,1]]);else if(&quot;translate&quot;==s)a=Matrix.I(3),a.elements[0][2]=parseFloat(n(l[0])),a.elements[1][2]=parseFloat(n(l[1]));else if(&quot;scale&quot;==s){var u,c=parseFloat(l[0]);u=l.length&gt;1?parseFloat(l[1]):c,a=Matrix.create([[c,0,0],[0,u,0],[0,0,1]])}else&quot;rotate&quot;==s?a=Matrix.RotationZ(t(l[0])):&quot;skew&quot;==s||&quot;skewx&quot;==s?(a=Matrix.I(3),a.elements[0][1]=Math.tan(t(l[0]))):&quot;skewy&quot;==s?(a=Matrix.I(3),a.elements[1][0]=Math.tan(t(l[0]))):console.log(&quot;Problem with setMatrixValue&quot;,s,l);o=o.multiply(a)}this.m=o},e.prototype.multiply=function(t){return new e(this.m.multiply(t.m))},e.prototype.inverse=function(){return 1e-6&gt;Math.abs(this.m.elements[0][0])&amp;&amp;(this.m.elements[0][0]=0),new e(this.m.inverse())},e.prototype.translate=function(t,n){var r=Matrix.I(3);return r.elements[0][2]=t,r.elements[1][2]=n,new e(this.m.multiply(r))},e.prototype.scale=function(t,n){var r=Matrix.create([[t,0,0],[0,n,0],[0,0,1]]);return new e(this.m.multiply(r))},e.prototype.rotate=function(t){var n=Matrix.RotationZ(t);return new e(this.m.multiply(n))},e.prototype.toString=function(){var e=this.m.elements,t=&quot;&quot;;return($.browser.mozilla||$.browser.opera)&amp;&amp;(t=&quot;px&quot;),&quot;matrix(&quot;+r(e[0][0])+&quot;, &quot;+r(e[1][0])+&quot;, &quot;+r(e[0][1])+&quot;, &quot;+r(e[1][1])+&quot;, &quot;+r(e[0][2])+t+&quot;, &quot;+r(e[1][2])+t+&quot;)&quot;},e.prototype.elements=function(){var e=this.m.elements;return{a:e[0][0],b:e[1][0],c:e[0][1],d:e[1][1],e:e[0][2],f:e[1][2]}},e}(),$.zoomooz||($.zoomooz={}),$.zoomooz.helpers=function(e,t){&quot;use strict&quot;;var n=[&quot;-moz-&quot;,&quot;-webkit-&quot;,&quot;-o-&quot;,&quot;-ms-&quot;];return t.forEachPrefix=function(e,t){for(var r=0;n.length&gt;r;r++)e(n[r]);t&amp;&amp;e(&quot;&quot;)},t.getElementTransform=function(n){var r;return t.forEachPrefix(function(t){r=r||e(n).css(t+&quot;transform&quot;)},!0),r},t}(jQuery,{}),function(e){&quot;use strict&quot;;function t(e,t,n){var r={};if(b.forEachPrefix(function(t){r[t+&quot;transform&quot;]=e},!0),t){var o=d(t/1e3,6)+&quot;s&quot;;r[&quot;-webkit-transition-duration&quot;]=o,r[&quot;-o-transition-duration&quot;]=o,r[&quot;-moz-transition-duration&quot;]=o}if(n){var a=i(n);r[&quot;-webkit-transition-timing-function&quot;]=a,r[&quot;-o-transition-timing-function&quot;]=a,r[&quot;-moz-transition-timing-function&quot;]=a}return r}function n(e,t,n,a,i,l){t||(t=o(new PureCSSMatrix)),p=(new Date).getTime(),v&amp;&amp;(clearInterval(v),v=null),a.easing&amp;&amp;(a.easingfunction=s(a.easing,a.duration)),r(e,t,n,a,i),l&amp;&amp;l(),v=setInterval(function(){r(e,t,n,a,i)},1)}function r(e,n,r,o,i){var s,l=(new Date).getTime()-p;s=o.easingfunction?o.easingfunction(l/o.duration):l/o.duration,e.css(t(a(m(n,r,s)))),l&gt;o.duration&amp;&amp;(clearInterval(v),v=null,s=1,i&amp;&amp;i())}function o(e){var t=e.elements(),n=t.a,r=t.b,o=t.c,a=t.d,i=t.e,s=t.f;if(.01&gt;Math.abs(n*a-r*o))return console.log(&quot;fail!&quot;),void 0;var l=i,u=s,c=Math.sqrt(n*n+r*r);n/=c,r/=c;var f=n*o+r*a;o-=n*f,a-=r*f;var m=Math.sqrt(o*o+a*a);o/=m,a/=m,f/=m,0&gt;n*a-r*o&amp;&amp;(n=-n,r=-r,o=-o,a=-a,c=-c,m=-m);var d=Math.atan2(r,n);return{tx:l,ty:u,r:d,k:Math.atan(f),sx:c,sy:m}}function a(e){var t=&quot;&quot;;return t+=&quot;translate(&quot;+d(e.tx,6)+&quot;px,&quot;+d(e.ty,6)+&quot;px) &quot;,t+=&quot;rotate(&quot;+d(e.r,6)+&quot;rad) skewX(&quot;+d(e.k,6)+&quot;rad) &quot;,t+=&quot;scale(&quot;+d(e.sx,6)+&quot;,&quot;+d(e.sy,6)+&quot;)&quot;}function i(e){return e instanceof Array?&quot;cubic-bezier(&quot;+d(e[0],6)+&quot;,&quot;+d(e[1],6)+&quot;,&quot;+d(e[2],6)+&quot;,&quot;+d(e[3],6)+&quot;)&quot;:e}function s(e,t){var n=[];if(e instanceof Array)n=e;else switch(e){case&quot;linear&quot;:n=[0,0,1,1];break;case&quot;ease&quot;:n=[.25,.1,.25,1];break;case&quot;ease-in&quot;:n=[.42,0,1,1];break;case&quot;ease-out&quot;:n=[0,0,.58,1];break;case&quot;ease-in-out&quot;:n=[.42,0,.58,1]}var r=function(e){return l(e,n[0],n[1],n[2],n[3],t)};return r}function l(e,t,n,r,o,a){function i(e){return((m*e+d)*e+h)*e}function s(e){return((p*e+v)*e+g)*e}function l(e){return(3*m*e+2*d)*e+h}function u(e){return 1/(200*e)}function c(e,t){return s(f(e,t))}function f(e,t){function n(e){return e&gt;=0?e:0-e}var r,o,a,s,u,c;for(a=e,c=0;8&gt;c;c++){if(s=i(a)-e,t&gt;n(s))return a;if(u=l(a),1e-6&gt;n(u))break;a-=s/u}if(r=0,o=1,a=e,r&gt;a)return r;if(a&gt;o)return o;for(;o&gt;r;){if(s=i(a),t&gt;n(s-e))return a;e&gt;s?r=a:o=a,a=.5*(o-r)+r}return a}var m=0,d=0,h=0,p=0,v=0,g=0;return h=3*t,d=3*(r-t)-h,m=1-h-d,g=3*n,v=3*(o-n)-g,p=1-g-v,c(e,u(a))}function u(e,t){var n,r=b.getElementTransform(e);n=r?new PureCSSMatrix(r):new PureCSSMatrix,t&amp;&amp;(n=n.translate(t.x,t.y));var a=o(n);return a.r=c(r),a}function c(e){for(var t,n=0;null!==(t=y.exec(e));){var r=t[1].toLowerCase(),a=t[2].split(&quot;,&quot;);if(&quot;matrix&quot;==r){var i=r+&quot;(&quot;+t[2]+&quot;)&quot;;n+=o(new PureCSSMatrix(i)).r}else if(&quot;rotate&quot;==r){var s=a[0],l=parseFloat(h(s));s.match(z)&amp;&amp;(l=2*Math.PI*l/360),n+=l}}return n}function f(e,t){if(Math.abs(e.r-t.r)&gt;Math.PI)if(t.r&lt;e.r)for(;Math.abs(e.r-t.r)&gt;Math.PI;)t.r+=2*Math.PI;else for(;Math.abs(e.r-t.r)&gt;Math.PI;)t.r-=2*Math.PI;return t}function m(e,t,n){var r={};for(var o in e)e.hasOwnProperty(o)&amp;&amp;(r[o]=e[o]+(t[o]-e[o])*n);return r}function d(e,t){t=Math.abs(parseInt(t,10))||0;var n=Math.pow(10,t);return Math.round(e*n)/n}function h(e){return e.match(x)}var p,v,g,x=/([0-9.\-e]+)/g,y=/([a-z]+)\(([^\)]+)\)/g,z=/deg$/,b=e.zoomooz.helpers,w={duration:450,easing:&quot;ease&quot;,nativeanimation:!1};jQuery.cssHooks.MsTransform={set:function(e,t){e.style.msTransform=t}},jQuery.cssHooks.MsTransformOrigin={set:function(e,t){e.style.msTransformOrigin=t}},e.fn.animateTransformation=function(r,i,s,l,c){i=jQuery.extend({},w,i),g&amp;&amp;(clearTimeout(g),g=null),i.nativeanimation&amp;&amp;l&amp;&amp;(g=setTimeout(l,i.duration)),this.each(function(){var m=e(this);r||(r=new PureCSSMatrix);var d=u(m,s),h=f(d,o(r));i.nativeanimation?(m.css(t(a(h),i.duration,i.easing)),c&amp;&amp;c()):n(m,d,h,i,l,c)})},e.fn.setTransformation=function(n){this.each(function(){var r=e(this),i=u(r),s=f(i,o(n));r.css(t(a(s)))})}}(jQuery),function(e){&quot;use strict&quot;;function t(t,n){var r=jQuery.extend({},n);e.zoomooz.defaultSettings||e.zoomooz.setup();var o,a=e.zoomooz.defaultSettings,i=jQuery.extend({},r);for(o in a)a.hasOwnProperty(o)&amp;&amp;!i[o]&amp;&amp;(i[o]=t.data(o));for(var s=0;v.length&gt;s;s++)o=v[s],i[o]||(i[o]=t.data(o));return jQuery.extend({},a,i)}function n(){var t=document.createElement(&quot;style&quot;);t.type=&quot;text/css&quot;;var n=&quot;&quot;;p.forEachPrefix(function(e){n+=e+&quot;transform-origin: 0 0;&quot;},!0),t.innerHTML=&quot;html {height:100%;}.noScroll{overflow:hidden !important;}* {&quot;+n+&quot;}&quot;,document.getElementsByTagName(&quot;head&quot;)[0].appendChild(t),e(document).ready(function(){var n=window.innerWidth-e(&quot;body&quot;).width();t.innerHTML+=&quot;body.noScroll,html.noScroll body{margin-right:&quot;+n+&quot;px;}&quot;})}function r(){var t={targetsize:.9,scalemode:&quot;both&quot;,root:e(document.body),debug:!1,animationendcallback:null,closeclick:!1},n=void 0!==window.mozInnerScreenX;return t.scrollresetbeforezoom=n,t}function o(t,n){var r,o=n.scrollresetbeforezoom,u=null;(function(){var e=n.root,s=e.parent();t[0]===e[0]?u=a(e,s):e.data(&quot;original-scroll&quot;)?o||(u=a(e,s)):(r=!0,u=i(e,s,o))})();var c,f=null;s(n.root);var d=null;if(t[0]!==n.root[0]){var h=m(t,n.root).inverse();o||(d=u),c=l(t,h,d,n),n.animationendcallback&amp;&amp;(f=function(){n.animationendcallback.call(t[0])})}else o&amp;&amp;(c=(new PureCSSMatrix).translate(-u.x,-u.y)),f=function(){var r=e(n.root),a=u.elem;a.removeClass(&quot;noScroll&quot;),r.setTransformation(new PureCSSMatrix),r.data(&quot;original-scroll&quot;,null),e(document).off(&quot;touchmove&quot;),o&amp;&amp;(a[0]==document.body||a[0]==window?window.scrollTo(u.x,u.y):(a.scrollLeft(u.x),a.scrollTop(u.y))),n.animationendcallback&amp;&amp;n.animationendcallback.call(t[0])};var p=null;o&amp;&amp;u&amp;&amp;u.animationstartedcallback&amp;&amp;(p=u.animationstartedcallback),r||(d=!1),e(n.root).animateTransformation(c,n,d,f,p)}function a(e,t){var n=e.data(&quot;original-scroll&quot;);return n||(n={elem:t,x:0,&quot;y:&quot;:0}),n}function i(t,n,r){var o=t.scrollTop(),a=t.scrollLeft(),i=t;o||(o=n.scrollTop(),a=n.scrollLeft(),i=n);var s={elem:i,x:a,y:o};t.data(&quot;original-scroll&quot;,s),e(document).on(&quot;touchmove&quot;,function(e){e.preventDefault()});var l=&quot;translate(-&quot;+a+&quot;px,-&quot;+o+&quot;px)&quot;;return p.forEachPrefix(function(e){t.css(e+&quot;transform&quot;,l)}),i.addClass(&quot;noScroll&quot;),r&amp;&amp;(s.animationstartedcallback=function(){i[0]==document.body||i[0]==document?window.scrollTo(0,0):(i.scrollLeft(0),i.scrollTop(0))}),s}function s(t){var n=e(t).parent(),r=n.width(),o=n.height(),a=r/2,i=o/2,s=d(a)+&quot;px &quot;+d(i)+&quot;px&quot;;p.forEachPrefix(function(e){t.css(e+&quot;transform-origin&quot;,s)})}function l(t,n,r,o){var a,i=o.targetsize,s=o.scalemode,l=o.root,u=e(l).parent(),c=u.width(),f=u.height(),m=c/t.outerWidth(),d=f/t.outerHeight();if(&quot;width&quot;==s)a=i*m;else if(&quot;height&quot;==s)a=i*d;else if(&quot;both&quot;==s)a=i*Math.min(m,d);else{if(&quot;scale&quot;!=s)return console.log(&quot;wrong zoommode&quot;),void 0;a=i}var h=(c-t.outerWidth()*a)/2,p=(f-t.outerHeight()*a)/2,v=c/2,g=f/2,x=-parseFloat(l.css(&quot;margin-left&quot;))||0,y=-parseFloat(l.css(&quot;margin-top&quot;))||0,z=new PureCSSMatrix;r&amp;&amp;(z=z.translate(r.x,r.y));var b=z.translate(x,y).translate(-v,-g).translate(h,p).scale(a,a).multiply(n).translate(v,g);return b}function u(e,t,n){return[e.a*t+e.c*n+e.e,e.b*t+e.d*n+e.f]}function c(e,t){var n=m(e,t.root).elements();f(u(n,0,0)),f(u(n,0,e.outerHeight())),f(u(n,e.outerWidth(),e.outerHeight())),f(u(n,e.outerWidth(),0))}function f(t){var n=&quot;width:4px;height:4px;background-color:red;position:absolute;margin-left:-2px;margin-top:-2px;&quot;;n+=&quot;left:&quot;+t[0]+&quot;px;top:&quot;+t[1]+&quot;px;&quot;;var r=&#39;&lt;div class=&quot;debuglabel&quot; style=&quot;&#39;+n+&#39;&quot;&gt;&lt;/div&gt;&#39;;e(&quot;#debug&quot;).append(r)}function m(t,n){var r=t[0];if(!r||!r.ownerDocument)return null;var o,a=new PureCSSMatrix;if(r===r.ownerDocument.body){var i=jQuery.offset.bodyOffset(r);return o=new PureCSSMatrix,o=o.translate(i.left,i.top),a=a.multiply(o)}var s;jQuery.offset.initialize?(jQuery.offset.initialize(),s={fixedPosition:jQuery.offset.supportsFixedPosition,doesNotAddBorder:jQuery.offset.doesNotAddBorder,doesAddBorderForTableAndCells:jQuery.support.doesAddBorderForTableAndCells,subtractsBorderForOverflowNotVisible:jQuery.offset.subtractsBorderForOverflowNotVisible}):s=jQuery.support;var l,u,c=r.offsetParent,f=r.ownerDocument,m=f.documentElement,d=f.body,p=n[0],v=f.defaultView;u=v?v.getComputedStyle(r,null):r.currentStyle;var g=r.offsetTop,x=r.offsetLeft,y=h().translate(x,g);for(y=y.multiply(h(r)),a=y.multiply(a);(r=r.parentNode)&amp;&amp;r!==p&amp;&amp;(g=0,x=0,!s.fixedPosition||&quot;fixed&quot;!==u.position);)l=v?v.getComputedStyle(r,null):r.currentStyle,g-=r.scrollTop,x-=r.scrollLeft,r===c&amp;&amp;(g+=r.offsetTop,x+=r.offsetLeft,!s.doesNotAddBorder||s.doesAddBorderForTableAndCells&amp;&amp;/^t(able|d|h)$/i.test(r.nodeName)||(g+=parseFloat(l.borderTopWidth)||0,x+=parseFloat(l.borderLeftWidth)||0),c=r.offsetParent),s.subtractsBorderForOverflowNotVisible&amp;&amp;&quot;visible&quot;!==l.overflow&amp;&amp;(g+=parseFloat(l.borderTopWidth)||0,x+=parseFloat(l.borderLeftWidth)||0),u=l,r.offsetParent==p&amp;&amp;(g-=parseFloat(e(r.offsetParent).css(&quot;margin-top&quot;))||0,x-=parseFloat(e(r.offsetParent).css(&quot;margin-left&quot;))||0),y=h().translate(x,g),y=y.multiply(h(r)),a=y.multiply(a);g=0,x=0,(&quot;relative&quot;===u.position||&quot;static&quot;===u.position)&amp;&amp;(g+=d.offsetTop,x+=d.offsetLeft),s.fixedPosition&amp;&amp;&quot;fixed&quot;===u.position&amp;&amp;(g+=Math.max(m.scrollTop,d.scrollTop),x+=Math.max(m.scrollLeft,d.scrollLeft));var z=(new PureCSSMatrix).translate(x,g);return a=a.multiply(z)}function d(e){return Number(e).toFixed(6)}function h(e){var t=p.getElementTransform(e);return t?new PureCSSMatrix(t):new PureCSSMatrix}var p=e.zoomooz.helpers,v=[&quot;duration&quot;,&quot;easing&quot;,&quot;nativeanimation&quot;];n(),e.zoomooz||(e.zoomooz={}),e.zoomooz.setup=function(t){e.zoomooz.defaultSettings=jQuery.extend(r(),t)},e.fn.zoomSettings=function(n){var r;return this.each(function(){var o=e(this);r=t(o,n)}),r},e.fn.zoomTo=function(t,n){return this.each(function(){var r=e(this);n||(t=r.zoomSettings(t)),o(r,t),t.debug?(0===e(&quot;#debug&quot;).length?e(t.root).append(&#39;&lt;div id=&quot;debug&quot;&gt;&lt;div&gt;&#39;):e(&quot;#debug&quot;).html(&quot;&quot;),c(r,t)):0!==e(&quot;#debug&quot;).length&amp;&amp;e(&quot;#debug&quot;).html(&quot;&quot;)}),this}}(jQuery),function(e){&quot;use strict&quot;;function t(n,r,o){n.addClass(&quot;zoomTarget&quot;),o.animationendcallback||(o.animationendcallback=o.closeclick?function(){e(&quot;.selectedZoomTarget&quot;).removeClass(&quot;selectedZoomTarget zoomNotClickable&quot;),n.addClass(&quot;selectedZoomTarget&quot;)}:function(){e(&quot;.selectedZoomTarget&quot;).removeClass(&quot;selectedZoomTarget zoomNotClickable&quot;),n.addClass(&quot;selectedZoomTarget zoomNotClickable&quot;)});var a=r.closest(&quot;.zoomContainer&quot;);0!==a.length&amp;&amp;(o.root=a);var i=o.root;if(!i.hasClass(&quot;zoomTarget&quot;)){var s=i.zoomSettings({});s.animationendcallback=function(){var t=e(this);e(&quot;.selectedZoomTarget&quot;).removeClass(&quot;selectedZoomTarget zoomNotClickable&quot;),t.addClass(&quot;selectedZoomTarget zoomNotClickable&quot;),t.parent().addClass(&quot;selectedZoomTarget zoomNotClickable&quot;)},t(i,i,s),t(i.parent(),i,s),i.click()}n.on(&quot;click&quot;,function(e){o.closeclick&amp;&amp;r.hasClass(&quot;selectedZoomTarget&quot;)?o.root.click():r.zoomTo(o),e.stopPropagation()})}function n(){function e(e){var t=&quot;-webkit-touch-callout: &quot;+(e?&quot;default&quot;:&quot;none&quot;)+&quot;;&quot;;return r.forEachPrefix(function(n){t+=n+&quot;user-select:&quot;+(e?&quot;text&quot;:&quot;none&quot;)+&quot;;&quot;},!0),t}var t=document.createElement(&quot;style&quot;);t.type=&quot;text/css&quot;,t.innerHTML=&quot;.zoomTarget{&quot;+e(!1)+&quot;}&quot;+&quot;.zoomTarget:hover{cursor:pointer!important;}&quot;+&quot;.zoomNotClickable{&quot;+e(!0)+&quot;}&quot;+&quot;.zoomNotClickable:hover{cursor:auto!important;}&quot;+&quot;.zoomContainer{position:relative;padding:1px;margin:-1px;}&quot;,document.getElementsByTagName(&quot;head&quot;)[0].appendChild(t)}e.zoomooz||(e.zoomooz={});var r=e.zoomooz.helpers;e.fn.zoomTarget=function(n){this.each(function(){var r=e(this).zoomSettings(n);t(e(this),e(this),r)})},n(),e(document).ready(function(){e(&quot;.zoomTarget&quot;).zoomTarget()})}(jQuery),function(e){&quot;use strict&quot;;e.zoomooz||(e.zoomooz={}),e.fn.zoomContainer=function(){},e(document).ready(function(){e(&quot;.zoomContainer&quot;).zoomContainer()})}(jQuery),function(e){function t(t,r){var o=n(),a=jQuery.extend({},r);for(var i in o)o.hasOwnProperty(i)&amp;&amp;!a[i]&amp;&amp;(a[i]=o[i]instanceof jQuery?e(t.data(i)):t.data(i));return jQuery.extend({},o,a)}function n(){return{type:&quot;next&quot;,root:e(document.body),wrap:&quot;true&quot;}}function r(e,t){e.addClass(&quot;zoomButton&quot;);var n;n=t.root.hasClass(&quot;zoomContainer&quot;)?t.root:t.root.find(&quot;.zoomContainer&quot;);var r=function(){function e(e){return i.indexOf(e)}function t(t){var n=e(t)+1;return i.length&gt;n&amp;&amp;0!==n?i[n]:null}function r(t){var n=e(t)-1;return 0&gt;n?null:i[n]}function o(){return i[0]}function a(){return i[i.length-1]}var i=jQuery.makeArray(n.find(&quot;.zoomTarget&quot;));return{next:t,prev:r,last:a,first:o}}();e.on(&quot;click&quot;,function(e){var o,a=!0,i=n.find(&quot;.selectedZoomTarget&quot;);0===i.length&amp;&amp;(i=r.first()),0===t.type.indexOf(&quot;prev&quot;)?(o=r.prev(i[0]),null===o&amp;&amp;(t.wrap?o=r.last():a=!1)):(o=r.next(i[0]),null===o&amp;&amp;(t.wrap?o=r.first():a=!1)),a&amp;&amp;o.click(),e.stopPropagation()})}e.zoomooz||(e.zoomooz={}),e.zoomooz.helpers,e.fn.zoomButton=function(n){this.each(function(){var o=t(e(this),n);r(e(this),o)})},e(document).ready(function(){e(&quot;.zoomButton&quot;).zoomButton()})}(jQuery);</pre>
</body>
</html>
