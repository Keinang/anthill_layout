<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">tinymce.PluginManager.add(&quot;autolink&quot;,function(a){function b(a){e(a,-1,&quot;(&quot;,!0)}function c(a){e(a,0,&quot;&quot;,!0)}function d(a){e(a,-1,&quot;&quot;,!1)}function e(a,b,c){function d(a,b){if(0&gt;b&amp;&amp;(b=0),3==a.nodeType){var c=a.data.length;b&gt;c&amp;&amp;(b=c)}return b}function e(a,b){1!=a.nodeType||a.hasChildNodes()?g.setStart(a,d(a,b)):g.setStartBefore(a)}function f(a,b){1!=a.nodeType||a.hasChildNodes()?g.setEnd(a,d(a,b)):g.setEndAfter(a)}var g,h,i,j,k,l,m,n,o,p;if(g=a.selection.getRng(!0).cloneRange(),g.startOffset&lt;5){if(n=g.endContainer.previousSibling,!n){if(!g.endContainer.firstChild||!g.endContainer.firstChild.nextSibling)return;n=g.endContainer.firstChild.nextSibling}if(o=n.length,e(n,o),f(n,o),g.endOffset&lt;5)return;h=g.endOffset,j=n}else{if(j=g.endContainer,3!=j.nodeType&amp;&amp;j.firstChild){for(;3!=j.nodeType&amp;&amp;j.firstChild;)j=j.firstChild;3==j.nodeType&amp;&amp;(e(j,0),f(j,j.nodeValue.length))}h=1==g.endOffset?2:g.endOffset-1-b}i=h;do e(j,h&gt;=2?h-2:0),f(j,h&gt;=1?h-1:0),h-=1,p=g.toString();while(&quot; &quot;!=p&amp;&amp;&quot;&quot;!==p&amp;&amp;160!=p.charCodeAt(0)&amp;&amp;h-2&gt;=0&amp;&amp;p!=c);g.toString()==c||160==g.toString().charCodeAt(0)?(e(j,h),f(j,i),h+=1):0===g.startOffset?(e(j,0),f(j,i)):(e(j,h),f(j,i)),l=g.toString(),&quot;.&quot;==l.charAt(l.length-1)&amp;&amp;f(j,i-1),l=g.toString(),m=l.match(/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i),m&amp;&amp;(&quot;www.&quot;==m[1]?m[1]=&quot;http://www.&quot;:/@$/.test(m[1])&amp;&amp;!/^mailto:/.test(m[1])&amp;&amp;(m[1]=&quot;mailto:&quot;+m[1]),k=a.selection.getBookmark(),a.selection.setRng(g),a.execCommand(&quot;createlink&quot;,!1,m[1]+m[2]),a.selection.moveToBookmark(k),a.nodeChanged())}var f;return a.on(&quot;keydown&quot;,function(b){return 13==b.keyCode?d(a):void 0}),tinymce.Env.ie?void a.on(&quot;focus&quot;,function(){if(!f){f=!0;try{a.execCommand(&quot;AutoUrlDetect&quot;,!1,!0)}catch(b){}}}):(a.on(&quot;keypress&quot;,function(c){return 41==c.keyCode?b(a):void 0}),void a.on(&quot;keyup&quot;,function(b){return 32==b.keyCode?c(a):void 0}))});</pre>
</body>
</html>
