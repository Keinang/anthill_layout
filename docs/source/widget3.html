<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='global-property-'>/**
</span> * Created with JetBrains RubyMine.
 * User: teamco
 * Date: 5/6/13
 * Time: 9:03 PM
 */
define([], function defineDebuggerWidget() {

<span id='Widget-method-constructor'><span id='Widget'>    /**
</span></span>     * Define Debugger Widget
     * @param {*} debug
     * @constructor
     */
    var Widget = function Widget(debug) {

<span id='Widget-property-debugger'>        /**
</span>         * Define debugger
         * @type {*}
         */
        this.debugger = debug;
    };

    return Widget.extend({

<span id='Widget-method-renderWidgetInfo'>        /**
</span>         * Render widget info
         * @param {{type, timeStamp}} event
         * @param {{originalPosition, originalSize, offset, position, helper}} ui
         * @returns {string}
         */
        renderWidgetInfo: function renderWidgetInfo(event, ui) {

            var c = this.debugger.component,
                originalPosition = ui.originalPosition || {},
                originalSize = ui.originalSize || {},
                offset = ui.offset || {},
                position = ui.position || {},
                helper = ui.helper || $();

            var widget = this.debugger.scopes.widget,
                widgetDOM = widget.map.getDOM(),
                columnAllowLeft = widget.map.checkWidgetPositionColumnLeft(widgetDOM.column),
                columnAllowRight = widget.map.checkWidgetPositionColumnRight(widgetDOM),
                rowAllowTop = widget.map.checkWidgetPositionRowTop(widgetDOM.row);

<span id='Widget-method-getAllowedColumn'>            /**
</span>             * Get allowed column
             * @returns {string}
             */
            function getAllowedColumn() {
                return [
                    &#39;&lt;span class=&quot;left-&#39;, columnAllowLeft, &#39;&quot;&gt;Left&lt;/span&gt;|&#39;,
                    &#39;&lt;span class=&quot;right-&#39;, columnAllowRight, &#39;&quot;&gt;Right&lt;/span&gt;&#39;
                ].join(&#39;&#39;);
            }

<span id='Widget-method-getAllowedRow'>            /**
</span>             * Get allowed row
             * @returns {string}
             */
            function getAllowedRow() {
                return [&#39;&lt;span class=&quot;top-&#39;, rowAllowTop, &#39;&quot;&gt;Top&lt;/span&gt;&#39;].join(&#39;&#39;);
            }

            return [
                c.renderInline(&#39;UUID&#39;, this.debugger.scopes.widget.config.uuid),
                c.renderInline(&#39;On&#39;, (event.type + &#39;&#39;).toUpperCase()),
                &#39;&lt;li&gt;&lt;table&gt;&#39;,
                c.renderTableRow(&#39;Location&#39;, &#39;Left&#39;, &#39;Top&#39;, true),
                c.renderTableRow(&#39;Offset&#39;, Number(offset.left).toFixed(3), Number(offset.top).toFixed(3), false),
                c.renderTableRow(&#39;Original position&#39;, Number(originalPosition.left).toFixed(3), Number(originalPosition.top).toFixed(3), false),
                c.renderTableRow(&#39;Position&#39;, Number(position.left).toFixed(3), Number(position.top).toFixed(3), false),
                c.renderTableRow(&#39;Dimensions&#39;, &#39;Width&#39;, &#39;Height&#39;, true),
                c.renderTableRow(&#39;Original size&#39;, originalSize.width, originalSize.height, false),
                c.renderTableRow(&#39;Size&#39;, helper.width(), helper.height(), false),
                c.renderTableRow(&#39;Grid&#39;, &#39;Column&#39;, &#39;Row&#39;, true),
                c.renderTableRow(&#39;Position&#39;, widgetDOM.column, widgetDOM.row, false),
                c.renderTableRow(&#39;Relative dimensions&#39;, widgetDOM.relWidth, widgetDOM.relHeight, false),
                c.renderTableRow(&#39;Position&#39;, &#39;Column&#39;, &#39;Row&#39;, true),
                c.renderTableRow(&#39;Allowed&#39;, getAllowedColumn(), getAllowedRow(), false),
                &#39;&lt;/li&gt;&lt;/table&gt;&#39;,
                c.renderInline(&#39;Timestamp&#39;, event.timeStamp)
            ].join(&#39;&#39;)
        },

<span id='Widget-method-updateWidgetInfo'>        /**
</span>         * Update widget info
         * @param {{map, config}} widget
         * @param {{type, timeStamp}} event
         * @param {{originalPosition, offset, position, helper}} ui
         */
        updateWidgetInfo: function updateWidgetInfo(widget, event, ui) {
            this.debugger.scopes.widget = widget;
            $(&#39;.widget-info ul&#39;).empty().append(this.renderWidgetInfo(event, ui));
        }

    });

});
</pre>
</body>
</html>
