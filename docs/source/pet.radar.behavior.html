<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define([
    &#39;modules/Geolocation&#39;
], function definePetRadarBehavior(BaseGeolocation) {

<span id='PetRadarBehavior-method-constructor'><span id='PetRadarBehavior'>    /**
</span></span>     * Define Pet Radar Behavior
     * @class PetRadarBehavior
     * @extends BaseGeolocation
     * @constructor
     */
    var PetRadarBehavior = function PetRadarBehavior() {

<span id='PetRadarBehavior-property-usersContainer'>        /**
</span>         * Define user container
         * @member PetRadarBehavior
         * @type {*|jQuery|HTMLElement}
         */
        this.usersContainer = $(&#39;.close_friends_container&#39;);

<span id='PetRadarBehavior-property-circlesAmount'>        /**
</span>         * Define amount
         * @member PetRadarBehavior\
         * @type {number}
         */
        this.circlesAmount = 0;

<span id='PetRadarBehavior-property-images'>        /**
</span>         * Define images
         * @member PetRadarBehavior
         * @type {string[]}
         */
        this.images = [
            &#39;imggg/download.jpg&#39;,
            &#39;imggg/download2.jpg&#39;,
            &#39;imggg/images3.jpg&#39;,
            &#39;imggg/images4.jpg&#39;,
            &#39;imggg/images5.jpg&#39;,
            &#39;imggg/images6.jpg&#39;,
            &#39;imggg/images7.jpg&#39;,
            &#39;imggg/images8.jpg&#39;,
            &#39;imggg/images9.jpg&#39;,
            &#39;imggg/images10.jpg&#39;,
            &#39;imggg/images11.jpg&#39;,
            &#39;imggg/images12.jpg&#39;,
            &#39;imggg/images13.jpg&#39;,
            &#39;imggg/images14.jpg&#39;,
            &#39;imggg/images15.jpg&#39;,
            &#39;imggg/images16.jpg&#39;,
            &#39;imggg/images17.jpg&#39;,
            &#39;imggg/images18.jpg&#39;,
            &#39;imggg/images19.jpg&#39;,
            &#39;imggg/images20.jpg&#39;
        ];

<span id='PetRadarBehavior-property-screenWidth'>        /**
</span>         * Define container width
         * @member PetRadarBehavior
         * @type {Number}
         */
        this.screenWidth = window.outerWidth;

        this.initialize();
    };

    return PetRadarBehavior.extend(&#39;PetRadarBehavior&#39;, {

<span id='PetRadarBehavior-method-initialize'>        /**
</span>         * Define init
         * @member PetRadarBehavior
         */
        initialize: function initialize() {

            this.getPosition(

                function _setLocation(position) {

                    var myPosition = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
                    var map_canvas = document.getElementById(&#39;map_canvas&#39;);
                    var map_options = {
                        center: myPosition,
                        zoom: 16,
                        mapTypeId: google.maps.MapTypeId.ROADMAP,
                        scrollwheel: false,
                        navigationControl: false,
                        mapTypeControl: false,
                        scaleControl: false,
                        draggable: false,
                        disableDoubleClickZoom: true,
                        disableDefaultUI: true
                    }

                    var map = new google.maps.Map(map_canvas, map_options)

                    this.addPetsToMap();

                }
            );

        },

        addPetsToMap: function addPetsToMap() {
            var interval = setInterval(function () {
                createUserCircle();
                circlesAmount++;
                if (circlesAmount == 20) {
                    clearInterval(interval);
                }
                ;
            }, 100);
        },

        createUserCircle: function createUserCircle() {
            if (screenWidth &lt; 1400) {
                var x = Math.floor(Math.random() * 400);
                var y = Math.floor(Math.random() * 300);
            } else {
                var x = Math.floor(Math.random() * 550);
                var y = Math.floor(Math.random() * 550);
            }
            //console.log(y + &quot; &quot; + x);
            usersContainer.append(&#39;&lt;div class=&quot;pet_account animated pulse&quot; style=&quot;top:&#39; + y + &#39;px; left:&#39; + x + &#39;px;&#39; + &#39;&quot;&gt;&lt;img style=&quot;height:100px;&quot; src=&quot;&#39; + images[circlesAmount] + &#39;&quot;&gt;&lt;/div&gt;&#39;);
        }

    }, BaseGeolocation.prototype);
});</pre>
</body>
</html>
