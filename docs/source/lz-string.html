<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">// https://github.com/pieroxy/lz-string/blob/master/libs/lz-string-1.3.3-min.js
var LZString={_keyStr:&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=&quot;,_f:String.fromCharCode,compressToBase64:function(e){if(e==null)return&quot;&quot;;var t=&quot;&quot;;var n,r,i,s,o,u,a;var f=0;e=LZString.compress(e);while(f&lt;e.length*2){if(f%2==0){n=e.charCodeAt(f/2)&gt;&gt;8;r=e.charCodeAt(f/2)&amp;255;if(f/2+1&lt;e.length)i=e.charCodeAt(f/2+1)&gt;&gt;8;else i=NaN}else{n=e.charCodeAt((f-1)/2)&amp;255;if((f+1)/2&lt;e.length){r=e.charCodeAt((f+1)/2)&gt;&gt;8;i=e.charCodeAt((f+1)/2)&amp;255}else r=i=NaN}f+=3;s=n&gt;&gt;2;o=(n&amp;3)&lt;&lt;4|r&gt;&gt;4;u=(r&amp;15)&lt;&lt;2|i&gt;&gt;6;a=i&amp;63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+LZString._keyStr.charAt(s)+LZString._keyStr.charAt(o)+LZString._keyStr.charAt(u)+LZString._keyStr.charAt(a)}return t},decompressFromBase64:function(e){if(e==null)return&quot;&quot;;var t=&quot;&quot;,n=0,r,i,s,o,u,a,f,l,c=0,h=LZString._f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,&quot;&quot;);while(c&lt;e.length){u=LZString._keyStr.indexOf(e.charAt(c++));a=LZString._keyStr.indexOf(e.charAt(c++));f=LZString._keyStr.indexOf(e.charAt(c++));l=LZString._keyStr.indexOf(e.charAt(c++));i=u&lt;&lt;2|a&gt;&gt;4;s=(a&amp;15)&lt;&lt;4|f&gt;&gt;2;o=(f&amp;3)&lt;&lt;6|l;if(n%2==0){r=i&lt;&lt;8;if(f!=64){t+=h(r|s)}if(l!=64){r=o&lt;&lt;8}}else{t=t+h(r|i);if(f!=64){r=s&lt;&lt;8}if(l!=64){t+=h(r|o)}}n+=3}return LZString.decompress(t)},compressToUTF16:function(e){if(e==null)return&quot;&quot;;var t=&quot;&quot;,n,r,i,s=0,o=LZString._f;e=LZString.compress(e);for(n=0;n&lt;e.length;n++){r=e.charCodeAt(n);switch(s++){case 0:t+=o((r&gt;&gt;1)+32);i=(r&amp;1)&lt;&lt;14;break;case 1:t+=o(i+(r&gt;&gt;2)+32);i=(r&amp;3)&lt;&lt;13;break;case 2:t+=o(i+(r&gt;&gt;3)+32);i=(r&amp;7)&lt;&lt;12;break;case 3:t+=o(i+(r&gt;&gt;4)+32);i=(r&amp;15)&lt;&lt;11;break;case 4:t+=o(i+(r&gt;&gt;5)+32);i=(r&amp;31)&lt;&lt;10;break;case 5:t+=o(i+(r&gt;&gt;6)+32);i=(r&amp;63)&lt;&lt;9;break;case 6:t+=o(i+(r&gt;&gt;7)+32);i=(r&amp;127)&lt;&lt;8;break;case 7:t+=o(i+(r&gt;&gt;8)+32);i=(r&amp;255)&lt;&lt;7;break;case 8:t+=o(i+(r&gt;&gt;9)+32);i=(r&amp;511)&lt;&lt;6;break;case 9:t+=o(i+(r&gt;&gt;10)+32);i=(r&amp;1023)&lt;&lt;5;break;case 10:t+=o(i+(r&gt;&gt;11)+32);i=(r&amp;2047)&lt;&lt;4;break;case 11:t+=o(i+(r&gt;&gt;12)+32);i=(r&amp;4095)&lt;&lt;3;break;case 12:t+=o(i+(r&gt;&gt;13)+32);i=(r&amp;8191)&lt;&lt;2;break;case 13:t+=o(i+(r&gt;&gt;14)+32);i=(r&amp;16383)&lt;&lt;1;break;case 14:t+=o(i+(r&gt;&gt;15)+32,(r&amp;32767)+32);s=0;break}}return t+o(i+32)},decompressFromUTF16:function(e){if(e==null)return&quot;&quot;;var t=&quot;&quot;,n,r,i=0,s=0,o=LZString._f;while(s&lt;e.length){r=e.charCodeAt(s)-32;switch(i++){case 0:n=r&lt;&lt;1;break;case 1:t+=o(n|r&gt;&gt;14);n=(r&amp;16383)&lt;&lt;2;break;case 2:t+=o(n|r&gt;&gt;13);n=(r&amp;8191)&lt;&lt;3;break;case 3:t+=o(n|r&gt;&gt;12);n=(r&amp;4095)&lt;&lt;4;break;case 4:t+=o(n|r&gt;&gt;11);n=(r&amp;2047)&lt;&lt;5;break;case 5:t+=o(n|r&gt;&gt;10);n=(r&amp;1023)&lt;&lt;6;break;case 6:t+=o(n|r&gt;&gt;9);n=(r&amp;511)&lt;&lt;7;break;case 7:t+=o(n|r&gt;&gt;8);n=(r&amp;255)&lt;&lt;8;break;case 8:t+=o(n|r&gt;&gt;7);n=(r&amp;127)&lt;&lt;9;break;case 9:t+=o(n|r&gt;&gt;6);n=(r&amp;63)&lt;&lt;10;break;case 10:t+=o(n|r&gt;&gt;5);n=(r&amp;31)&lt;&lt;11;break;case 11:t+=o(n|r&gt;&gt;4);n=(r&amp;15)&lt;&lt;12;break;case 12:t+=o(n|r&gt;&gt;3);n=(r&amp;7)&lt;&lt;13;break;case 13:t+=o(n|r&gt;&gt;2);n=(r&amp;3)&lt;&lt;14;break;case 14:t+=o(n|r&gt;&gt;1);n=(r&amp;1)&lt;&lt;15;break;case 15:t+=o(n|r);i=0;break}s++}return LZString.decompress(t)},compress:function(e){if(e==null)return&quot;&quot;;var t,n,r={},i={},s=&quot;&quot;,o=&quot;&quot;,u=&quot;&quot;,a=2,f=3,l=2,c=&quot;&quot;,h=0,p=0,d,v=LZString._f;for(d=0;d&lt;e.length;d+=1){s=e.charAt(d);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=f++;i[s]=true}o=u+s;if(Object.prototype.hasOwnProperty.call(r,o)){u=o}else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)&lt;256){for(t=0;t&lt;l;t++){h=h&lt;&lt;1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t&lt;8;t++){h=h&lt;&lt;1|n&amp;1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n&gt;&gt;1}}else{n=1;for(t=0;t&lt;l;t++){h=h&lt;&lt;1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t&lt;16;t++){h=h&lt;&lt;1|n&amp;1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n&gt;&gt;1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t&lt;l;t++){h=h&lt;&lt;1|n&amp;1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n&gt;&gt;1}}a--;if(a==0){a=Math.pow(2,l);l++}r[o]=f++;u=String(s)}}if(u!==&quot;&quot;){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)&lt;256){for(t=0;t&lt;l;t++){h=h&lt;&lt;1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t&lt;8;t++){h=h&lt;&lt;1|n&amp;1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n&gt;&gt;1}}else{n=1;for(t=0;t&lt;l;t++){h=h&lt;&lt;1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t&lt;16;t++){h=h&lt;&lt;1|n&amp;1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n&gt;&gt;1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t&lt;l;t++){h=h&lt;&lt;1|n&amp;1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n&gt;&gt;1}}a--;if(a==0){a=Math.pow(2,l);l++}}n=2;for(t=0;t&lt;l;t++){h=h&lt;&lt;1|n&amp;1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n&gt;&gt;1}while(true){h=h&lt;&lt;1;if(p==15){c+=v(h);break}else p++}return c},decompress:function(e){if(e==null)return&quot;&quot;;if(e==&quot;&quot;)return null;var t=[],n,r=4,i=4,s=3,o=&quot;&quot;,u=&quot;&quot;,a,f,l,c,h,p,d,v=LZString._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(a=0;a&lt;3;a+=1){t[a]=a}l=0;h=Math.pow(2,2);p=1;while(p!=h){c=m.val&amp;m.position;m.position&gt;&gt;=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c&gt;0?1:0)*p;p&lt;&lt;=1}switch(n=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&amp;m.position;m.position&gt;&gt;=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c&gt;0?1:0)*p;p&lt;&lt;=1}d=v(l);break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&amp;m.position;m.position&gt;&gt;=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c&gt;0?1:0)*p;p&lt;&lt;=1}d=v(l);break;case 2:return&quot;&quot;}t[3]=d;f=u=d;while(true){if(m.index&gt;m.string.length){return&quot;&quot;}l=0;h=Math.pow(2,s);p=1;while(p!=h){c=m.val&amp;m.position;m.position&gt;&gt;=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c&gt;0?1:0)*p;p&lt;&lt;=1}switch(d=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&amp;m.position;m.position&gt;&gt;=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c&gt;0?1:0)*p;p&lt;&lt;=1}t[i++]=v(l);d=i-1;r--;break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&amp;m.position;m.position&gt;&gt;=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c&gt;0?1:0)*p;p&lt;&lt;=1}t[i++]=v(l);d=i-1;r--;break;case 2:return u}if(r==0){r=Math.pow(2,s);s++}if(t[d]){o=t[d]}else{if(d===i){o=f+f.charAt(0)}else{return null}}u+=o;t[i++]=f+o.charAt(0);r--;f=o;if(r==0){r=Math.pow(2,s);s++}}}};if(typeof module!==&quot;undefined&quot;&amp;&amp;module!=null){module.exports=LZString}</pre>
</body>
</html>
