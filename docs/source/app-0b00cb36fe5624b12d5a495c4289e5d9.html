<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">var CodeMirror=(function(){function v(aN,aK){var b2={},bk=v.defaults;for(var aA in bk){if(bk.hasOwnProperty(aA)){b2[aA]=(aK&amp;&amp;aK.hasOwnProperty(aA)?aK:bk)[aA]}}var aE=document.createElement(&quot;div&quot;);aE.className=&quot;CodeMirror&quot;+(b2.lineWrapping?&quot; CodeMirror-wrap&quot;:&quot;&quot;);aE.innerHTML=&#39;&lt;div style=&quot;overflow: hidden; position: relative; width: 3px; height: 0px;&quot;&gt;&lt;textarea style=&quot;position: absolute; padding: 0; width: 1px; height: 1em&quot; wrap=&quot;off&quot; autocorrect=&quot;off&quot; autocapitalize=&quot;off&quot;&gt;&lt;/textarea&gt;&lt;/div&gt;&lt;div class=&quot;CodeMirror-scroll&quot; tabindex=&quot;-1&quot;&gt;&lt;div style=&quot;position: relative&quot;&gt;&lt;div style=&quot;position: relative&quot;&gt;&lt;div class=&quot;CodeMirror-gutter&quot;&gt;&lt;div class=&quot;CodeMirror-gutter-text&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;CodeMirror-lines&quot;&gt;&lt;div style=&quot;position: relative; z-index: 0&quot;&gt;&lt;div style=&quot;position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;&quot;&gt;&lt;/div&gt;&lt;pre class=&quot;CodeMirror-cursor&quot;&gt;&amp;#160;&lt;/pre&gt;&lt;div style=&quot;position: relative; z-index: -1&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#39;;if(aN.appendChild){aN.appendChild(aE)}else{aN(aE)}var bY=aE.firstChild,bn=bY.firstChild,bl=aE.lastChild,bN=bl.firstChild,ch=bN.firstChild,aI=ch.firstChild,aZ=aI.firstChild,bv=aI.nextSibling.firstChild,aw=bv.firstChild,bd=aw.nextSibling,bh=bd.nextSibling,ar=bh.nextSibling;cE();if(t){bn.style.width=&quot;0px&quot;}if(!f){bv.draggable=true}bv.style.outline=&quot;none&quot;;if(b2.tabindex!=null){bn.tabIndex=b2.tabindex}if(b2.autofocus){bA()}if(!b2.gutter&amp;&amp;!b2.lineNumbers){aI.style.display=&quot;none&quot;}if(m){bY.style.height=&quot;1px&quot;,bY.style.position=&quot;absolute&quot;}try{cu(&quot;x&quot;)}catch(b9){if(b9.message.match(/runtime/i)){b9=new Error(&quot;A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)&quot;)}throw b9}var b8=new A(),ax=new A(),cQ;var cc,cz=new i([new ai([new e(&quot;&quot;)])]),ci,ck;bU();var cX={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var cj,br,a0,bG=0,bc,co=false,ct=false;var cq,b7,aC,cO,aQ,bg,aT,cB;var be=0,cR=0,bM=0,bO=0;var b5;var bE=&quot;&quot;,aG;var aq={};at(function(){aX(b2.value||&quot;&quot;);cq=false})();var a9=new k();s(bl,&quot;mousedown&quot;,at(cl));s(bl,&quot;dblclick&quot;,at(bX));s(bv,&quot;selectstart&quot;,U);if(!O){s(bl,&quot;contextmenu&quot;,a2)}s(bl,&quot;scroll&quot;,function(){bG=bl.scrollTop;ce([]);if(b2.fixedGutter){aI.style.left=bl.scrollLeft+&quot;px&quot;}if(b2.onScroll){b2.onScroll(ca)}});s(window,&quot;resize&quot;,function(){ce(true)});s(bn,&quot;keyup&quot;,at(cm));s(bn,&quot;input&quot;,aR);s(bn,&quot;keydown&quot;,at(cd));s(bn,&quot;keypress&quot;,at(bo));s(bn,&quot;focus&quot;,cV);s(bn,&quot;blur&quot;,aF);if(b2.dragDrop){s(bv,&quot;dragstart&quot;,aJ);function bD(c0){if(b2.onDragEvent&amp;&amp;b2.onDragEvent(ca,P(c0))){return}x(c0)}s(bl,&quot;dragenter&quot;,bD);s(bl,&quot;dragover&quot;,bD);s(bl,&quot;drop&quot;,at(ao))}s(bl,&quot;paste&quot;,function(){bA();aR()});s(bn,&quot;paste&quot;,aR);s(bn,&quot;cut&quot;,at(function(){if(!b2.readOnly){bt(&quot;&quot;)}}));if(m){s(bN,&quot;mouseup&quot;,function(){if(document.activeElement==bn){bn.blur()}bA()})}var cx;try{cx=(document.activeElement==bn)}catch(b9){}if(cx||b2.autofocus){setTimeout(cV,20)}else{aF()}function bs(c0){return c0&gt;=0&amp;&amp;c0&lt;cz.size}var ca=aE.CodeMirror={getValue:b3,setValue:at(aX),getSelection:b4,replaceSelection:at(bt),focus:function(){window.focus();bA();cV();aR()},setOption:function(c1,c2){var c0=b2[c1];b2[c1]=c2;if(c1==&quot;mode&quot;||c1==&quot;indentUnit&quot;){bU()}else{if(c1==&quot;readOnly&quot;&amp;&amp;c2==&quot;nocursor&quot;){aF();bn.blur()}else{if(c1==&quot;readOnly&quot;&amp;&amp;!c2){cD(true)}else{if(c1==&quot;theme&quot;){cE()}else{if(c1==&quot;lineWrapping&quot;&amp;&amp;c0!=c2){at(cH)()}else{if(c1==&quot;tabSize&quot;){ce(true)}}}}}}if(c1==&quot;lineNumbers&quot;||c1==&quot;gutter&quot;||c1==&quot;firstLineNumber&quot;||c1==&quot;theme&quot;){bf();ce(true)}},getOption:function(c0){return b2[c0]},undo:at(cU),redo:at(cK),indentLine:at(function(c1,c0){if(typeof c0!=&quot;string&quot;){if(c0==null){c0=b2.smartIndent?&quot;smart&quot;:&quot;prev&quot;}else{c0=c0?&quot;add&quot;:&quot;subtract&quot;}}if(bs(c1)){bz(c1,c0)}}),indentSelection:at(cC),historySize:function(){return{undo:a9.done.length,redo:a9.undone.length}},clearHistory:function(){a9=new k()},matchBrackets:at(function(){cf(true)}),getTokenAt:at(function(c0){c0=aU(c0);return cG(c0.line).getTokenAt(cc,cv(c0.line),c0.ch)}),getStateAfter:function(c0){c0=b0(c0==null?cz.size-1:c0);return cv(c0+1)},cursorCoords:function(c1,c0){if(c1==null){c1=cX.inverted}return this.charCoords(c1?cX.from:cX.to,c0)},charCoords:function(c1,c0){c1=aU(c1);if(c0==&quot;local&quot;){return cS(c1,false)}if(c0==&quot;div&quot;){return cS(c1,true)}return ap(c1)},coordsChar:function(c0){var c1=al(bv);return bI(c0.x-c1.left,c0.y-c1.top)},markText:at(bF),setBookmark:aV,findMarksAt:bp,setMarker:at(bW),clearMarker:at(av),setLineClass:at(bm),hideLine:at(function(c0){return cL(c0,true)}),showLine:at(function(c0){return cL(c0,false)}),onDeleteLine:function(c0,c1){if(typeof c0==&quot;number&quot;){if(!bs(c0)){return null}c0=cG(c0)}(c0.handlers||(c0.handlers=[])).push(c1);return c0},lineInfo:aW,addWidget:function(c4,c2,c6,c3,c8){c4=cS(aU(c4));var c5=c4.yBot,c1=c4.x;c2.style.position=&quot;absolute&quot;;bN.appendChild(c2);if(c3==&quot;over&quot;){c5=c4.y}else{if(c3==&quot;near&quot;){var c0=Math.max(bl.offsetHeight,cz.height*bQ()),c7=Math.max(bN.clientWidth,bv.clientWidth)-a6();if(c4.yBot+c2.offsetHeight&gt;c0&amp;&amp;c4.y&gt;c2.offsetHeight){c5=c4.y-c2.offsetHeight}if(c1+c2.offsetWidth&gt;c7){c1=c7-c2.offsetWidth}}}c2.style.top=(c5+cs())+&quot;px&quot;;c2.style.left=c2.style.right=&quot;&quot;;if(c8==&quot;right&quot;){c1=bN.clientWidth-c2.offsetWidth;c2.style.right=&quot;0px&quot;}else{if(c8==&quot;left&quot;){c1=0}else{if(c8==&quot;middle&quot;){c1=(bN.clientWidth-c2.offsetWidth)/2}}c2.style.left=(c1+a6())+&quot;px&quot;}if(c6){aB(c1,c5,c1+c2.offsetWidth,c5+c2.offsetHeight)}},lineCount:function(){return cz.size},clipPos:aU,getCursor:function(c0){if(c0==null){c0=cX.inverted}return ab(c0?cX.from:cX.to)},somethingSelected:function(){return !ae(cX.from,cX.to)},setCursor:at(function(c0,c2,c1){if(c2==null&amp;&amp;typeof c0.line==&quot;number&quot;){a7(c0.line,c0.ch,c1)}else{a7(c0,c2,c1)}}),setSelection:at(function(c2,c1,c0){(c0?by:bx)(aU(c2),aU(c1||c2))}),getLine:function(c0){if(bs(c0)){return cG(c0).text}},getLineHandle:function(c0){if(bs(c0)){return cG(c0)}},setLine:at(function(c0,c1){if(bs(c0)){bR(c1,{line:c0,ch:0},{line:c0,ch:cG(c0).text.length})}}),removeLine:at(function(c0){if(bs(c0)){bR(&quot;&quot;,{line:c0,ch:0},aU({line:c0+1,ch:0}))}}),replaceRange:at(bR),getRange:function(c1,c0){return cP(aU(c1),aU(c0))},triggerOnKeyDown:at(cd),execCommand:function(c0){return M[c0](ca)},moveH:at(cF),deleteH:at(cn),moveV:at(cy),toggleOverwrite:function(){if(co){co=false;bd.className=bd.className.replace(&quot; CodeMirror-overwrite&quot;,&quot;&quot;)}else{co=true;bd.className+=&quot; CodeMirror-overwrite&quot;}},posFromIndex:function(c1){var c2=0,c0;cz.iter(0,cz.size,function(c3){var c4=c3.text.length+1;if(c4&gt;c1){c0=c1;return true}c1-=c4;++c2});return aU({line:c2,ch:c0})},indexFromPos:function(c1){if(c1.line&lt;0||c1.ch&lt;0){return 0}var c0=c1.ch;cz.iter(0,c1.line,function(c2){c0+=c2.text.length+1});return c0},scrollTo:function(c0,c1){if(c0!=null){bl.scrollLeft=c0}if(c1!=null){bl.scrollTop=c1}ce([])},operation:function(c0){return at(c0)()},compoundChange:function(c0){return bP(c0)},refresh:function(){ce(true);if(bl.scrollHeight&gt;bG){bl.scrollTop=bG}},getInputField:function(){return bn},getWrapperElement:function(){return aE},getScrollerElement:function(){return bl},getGutterElement:function(){return aI}};function cG(c0){return D(cz,c0)}function a4(c1,c0){aT=true;var c2=c0-c1.height;for(var c3=c1;c3;c3=c3.parent){c3.height+=c2}}function aX(c0){var c1={line:0,ch:0};aP(c1,{line:cz.size-1,ch:cG(cz.size-1).text.length},B(c0),c1,c1);cq=true}function b3(){var c0=[];cz.iter(0,cz.size,function(c1){c0.push(c1.text)});return c0.join(&quot;\n&quot;)}function cl(c9){a5(z(c9,&quot;shiftKey&quot;));for(var c4=j(c9);c4!=aE;c4=c4.parentNode){if(c4.parentNode==bN&amp;&amp;c4!=ch){return}}for(var c4=j(c9);c4!=aE;c4=c4.parentNode){if(c4.parentNode==aZ){if(b2.onGutterClick){b2.onGutterClick(ca,r(aZ.childNodes,c4)+cR,c9)}return U(c9)}}var c0=a3(c9);switch(y(c9)){case 3:if(O&amp;&amp;!N){a2(c9)}return;case 2:if(c0){a7(c0.line,c0.ch,true)}return}if(!c0){if(j(c9)==bl){U(c9)}return}if(!ck){cV()}var c1=+new Date;if(a0&amp;&amp;a0.time&gt;c1-400&amp;&amp;ae(a0.pos,c0)){U(c9);setTimeout(bA,20);return aL(c0.line)}else{if(br&amp;&amp;br.time&gt;c1-400&amp;&amp;ae(br.pos,c0)){a0={time:c1,pos:c0};U(c9);return bJ(c0)}else{br={time:c1,pos:c0}}}var db=c0,c2;if(b2.dragDrop&amp;&amp;G&amp;&amp;!b2.readOnly&amp;&amp;!ae(cX.from,cX.to)&amp;&amp;!aa(c0,cX.from)&amp;&amp;!aa(cX.to,c0)){if(f){bv.draggable=true}function c5(dc){if(f){bv.draggable=false}bc=false;c8();c3();if(Math.abs(c9.clientX-dc.clientX)+Math.abs(c9.clientY-dc.clientY)&lt;10){U(dc);a7(c0.line,c0.ch,true);bA()}}var c8=s(document,&quot;mouseup&quot;,at(c5),true);var c3=s(bl,&quot;drop&quot;,at(c5),true);bc=true;if(bv.dragDrop){bv.dragDrop()}return}U(c9);a7(c0.line,c0.ch,true);function da(dc){var de=a3(dc,true);if(de&amp;&amp;!ae(de,db)){if(!ck){cV()}db=de;by(c0,de);cq=false;var dd=bB();if(de.line&gt;=dd.to||de.line&lt;dd.from){c2=setTimeout(at(function(){da(dc)}),150)}}}function c7(dc){clearTimeout(c2);var dd=a3(dc);if(dd){by(c0,dd)}U(dc);bA();cq=true;c6();c8()}var c6=s(document,&quot;mousemove&quot;,at(function(dc){clearTimeout(c2);U(dc);if(!J&amp;&amp;!y(dc)){c7(dc)}else{da(dc)}}),true);var c8=s(document,&quot;mouseup&quot;,at(c7),true)}function bX(c0){for(var c2=j(c0);c2!=aE;c2=c2.parentNode){if(c2.parentNode==aZ){return U(c0)}}var c1=a3(c0);if(!c1){return}a0={time:+new Date,pos:c1};U(c0);bJ(c1)}function ao(c4){if(b2.onDragEvent&amp;&amp;b2.onDragEvent(ca,P(c4))){return}c4.preventDefault();var c7=a3(c4,true),c1=c4.dataTransfer.files;if(!c7||b2.readOnly){return}if(c1&amp;&amp;c1.length&amp;&amp;window.FileReader&amp;&amp;window.File){function c3(da,c9){var c8=new FileReader;c8.onload=function(){c5[c9]=c8.result;if(++c2==c6){c7=aU(c7);at(function(){var db=bR(c5.join(&quot;&quot;),c7,c7);by(c7,db)})()}};c8.readAsText(da)}var c6=c1.length,c5=Array(c6),c2=0;for(var c0=0;c0&lt;c6;++c0){c3(c1[c0],c0)}}else{try{var c5=c4.dataTransfer.getData(&quot;Text&quot;);if(c5){bP(function(){var c9=cX.from,c8=cX.to;by(c7,c7);if(bc){bR(&quot;&quot;,c9,c8)}bt(c5);bA()})}}catch(c4){}}}function aJ(c2){var c0=b4();c2.dataTransfer.setData(&quot;Text&quot;,c0);if(O||ag){var c1=document.createElement(&quot;img&quot;);c1.scr=&quot;data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=&quot;;c2.dataTransfer.setDragImage(c1,0,0)}}function bj(c2,c0){if(typeof c2==&quot;string&quot;){c2=M[c2];if(!c2){return false}}var c1=cj;try{if(b2.readOnly){ct=true}if(c0){cj=null}c2(ca)}catch(c3){if(c3!=ac){throw c3}return false}finally{cj=c1;ct=false}return true}function cM(c6){var c0=c(b2.keyMap),c3=c0.auto;clearTimeout(bC);if(c3&amp;&amp;!R(c6)){bC=setTimeout(function(){if(c(b2.keyMap)==c0){b2.keyMap=(c3.call?c3.call(null,ca):c3)}},50)}var c1=S[z(c6,&quot;keyCode&quot;)],c5=false;if(c1==null||c6.altGraphKey){return false}if(z(c6,&quot;altKey&quot;)){c1=&quot;Alt-&quot;+c1}if(z(c6,&quot;ctrlKey&quot;)){c1=&quot;Ctrl-&quot;+c1}if(z(c6,&quot;metaKey&quot;)){c1=&quot;Cmd-&quot;+c1}var c4=false;function c2(){c4=true}if(z(c6,&quot;shiftKey&quot;)){c5=l(&quot;Shift-&quot;+c1,b2.extraKeys,b2.keyMap,function(c7){return bj(c7,true)},c2)||l(c1,b2.extraKeys,b2.keyMap,function(c7){if(typeof c7==&quot;string&quot;&amp;&amp;/^go[A-Z]/.test(c7)){return bj(c7)}},c2)}else{c5=l(c1,b2.extraKeys,b2.keyMap,bj,c2)}if(c4){c5=false}if(c5){U(c6);if(J){c6.oldKeyCode=c6.keyCode;c6.keyCode=0}}return c5}function bZ(c2,c0){var c1=l(&quot;&#39;&quot;+c0+&quot;&#39;&quot;,b2.extraKeys,b2.keyMap,function(c3){return bj(c3,true)});if(c1){U(c2)}return c1}var cJ=null,bC;function cd(c2){if(!ck){cV()}if(J&amp;&amp;c2.keyCode==27){c2.returnValue=false}if(bu){if(bL()){bu=false}}if(b2.onKeyEvent&amp;&amp;b2.onKeyEvent(ca,P(c2))){return}var c0=z(c2,&quot;keyCode&quot;);a5(c0==16||z(c2,&quot;shiftKey&quot;));var c1=cM(c2);if(window.opera){cJ=c1?c0:null;if(!c1&amp;&amp;c0==88&amp;&amp;z(c2,N?&quot;metaKey&quot;:&quot;ctrlKey&quot;)){bt(&quot;&quot;)}}}function bo(c3){if(bu){bL()}if(b2.onKeyEvent&amp;&amp;b2.onKeyEvent(ca,P(c3))){return}var c2=z(c3,&quot;keyCode&quot;),c0=z(c3,&quot;charCode&quot;);if(window.opera&amp;&amp;c2==cJ){cJ=null;U(c3);return}if(((window.opera&amp;&amp;!c3.which)||m)&amp;&amp;cM(c3)){return}var c1=String.fromCharCode(c0==null?c2:c0);if(b2.electricChars&amp;&amp;cc.electricChars&amp;&amp;b2.smartIndent&amp;&amp;!b2.readOnly){if(cc.electricChars.indexOf(c1)&gt;-1){setTimeout(at(function(){bz(cX.to.line,&quot;smart&quot;)}),75)}}if(bZ(c3,c1)){return}aR()}function cm(c0){if(b2.onKeyEvent&amp;&amp;b2.onKeyEvent(ca,P(c0))){return}if(z(c0,&quot;keyCode&quot;)==16){cj=null}}function cV(){if(b2.readOnly==&quot;nocursor&quot;){return}if(!ck){if(b2.onFocus){b2.onFocus(ca)}ck=true;if(aE.className.search(/\bCodeMirror-focused\b/)==-1){aE.className+=&quot; CodeMirror-focused&quot;}if(!bg){cD(true)}}an();cN()}function aF(){if(ck){if(b2.onBlur){b2.onBlur(ca)}ck=false;if(b5){at(function(){if(b5){b5();b5=null}})()}aE.className=aE.className.replace(&quot; CodeMirror-focused&quot;,&quot;&quot;)}clearInterval(cQ);setTimeout(function(){if(!ck){cj=null}},150)}function aP(c5,c4,c3,c1,c0){if(ct){return}if(a9){var c2=[];cz.iter(c5.line,c4.line+1,function(c6){c2.push(c6.text)});a9.addChange(c5.line,c3.length,c2);while(a9.done.length&gt;b2.undoDepth){a9.done.shift()}}au(c5,c4,c3,c1,c0)}function cb(c5,c6){if(!c5.length){return}var c7=c5.pop(),c1=[];for(var c2=c7.length-1;c2&gt;=0;c2-=1){var c4=c7[c2];var c8=[],c0=c4.start+c4.added;cz.iter(c4.start,c0,function(c9){c8.push(c9.text)});c1.push({start:c4.start,added:c4.old.length,old:c8});var c3=aU({line:c4.start+c4.old.length-1,ch:X(c8[c8.length-1],c4.old[c4.old.length-1])});au({line:c4.start,ch:0},{line:c0-1,ch:cG(c0-1).text.length},c4.old,c3,c3)}cq=true;c6.push(c1)}function cU(){cb(a9.done,a9.undone)}function cK(){cb(a9.undone,a9.done)}function au(df,c4,dl,c0,dm){if(ct){return}var dk=false,c3=bE.length;if(!b2.lineWrapping){cz.iter(df.line,c4.line+1,function(dn){if(dn.text.length==c3){dk=true;return true}})}if(df.line!=c4.line||dl.length&gt;1){aT=true}var dc=c4.line-df.line,db=cG(df.line),c1=cG(c4.line);if(df.ch==0&amp;&amp;c4.ch==0&amp;&amp;dl[dl.length-1]==&quot;&quot;){var c9=[],da=null;if(df.line){da=cG(df.line-1);da.fixMarkEnds(c1)}else{c1.fixMarkStarts()}for(var dh=0,dj=dl.length-1;dh&lt;dj;++dh){c9.push(e.inheritMarks(dl[dh],da))}if(dc){cz.remove(df.line,dc,cB)}if(c9.length){cz.insert(df.line,c9)}}else{if(db==c1){if(dl.length==1){db.replace(df.ch,c4.ch,dl[0])}else{c1=db.split(c4.ch,dl[dl.length-1]);db.replace(df.ch,null,dl[0]);db.fixMarkEnds(c1);var c9=[];for(var dh=1,dj=dl.length-1;dh&lt;dj;++dh){c9.push(e.inheritMarks(dl[dh],db))}c9.push(c1);cz.insert(df.line+1,c9)}}else{if(dl.length==1){db.replace(df.ch,null,dl[0]);c1.replace(null,c4.ch,&quot;&quot;);db.append(c1);cz.remove(df.line+1,dc,cB)}else{var c9=[];db.replace(df.ch,null,dl[0]);c1.replace(null,c4.ch,dl[dl.length-1]);db.fixMarkEnds(c1);for(var dh=1,dj=dl.length-1;dh&lt;dj;++dh){c9.push(e.inheritMarks(dl[dh],db))}if(dc&gt;1){cz.remove(df.line+1,dc-1,cB)}cz.insert(df.line+1,c9)}}}if(b2.lineWrapping){var c6=Math.max(5,bl.clientWidth/bi()-3);cz.iter(df.line,df.line+dl.length,function(dn){if(dn.hidden){return}var dp=Math.ceil(dn.text.length/c6)||1;if(dp!=dn.height){a4(dn,dp)}})}else{cz.iter(df.line,df.line+dl.length,function(dp){var dn=dp.text;if(dn.length&gt;c3){bE=dn;c3=dn.length;aG=null;dk=false}});if(dk){c3=0;bE=&quot;&quot;;aG=null;cz.iter(0,cz.size,function(dp){var dn=dp.text;if(dn.length&gt;c3){c3=dn.length;bE=dn}})}}var c2=[],c8=dl.length-dc-1;for(var dh=0,de=ci.length;dh&lt;de;++dh){var di=ci[dh];if(di&lt;df.line){c2.push(di)}else{if(di&gt;c4.line){c2.push(di+c8)}}}var dg=df.line+Math.min(dl.length,500);cI(df.line,dg);c2.push(dg);ci=c2;bH(100);aC.push({from:df.line,to:c4.line+1,diff:c8});var c7={from:df,to:c4,text:dl};if(cO){for(var c5=cO;c5.next;c5=c5.next){}c5.next=c7}else{cO=c7}function dd(dn){return dn&lt;=Math.min(c4.line,c4.line+c8)?dn:dn+c8}bx(c0,dm,dd(cX.from.line),dd(cX.to.line));if(bl.clientHeight){bN.style.height=(cz.height*bQ()+2*cs())+&quot;px&quot;}}function bR(c1,c4,c3){c4=aU(c4);if(!c3){c3=c4}else{c3=aU(c3)}c1=B(c1);function c2(c7){if(aa(c7,c4)){return c7}if(!aa(c3,c7)){return c0}var c5=c7.line+c1.length-(c3.line-c4.line)-1;var c6=c7.ch;if(c7.line==c3.line){c6+=c1[c1.length-1].length-(c3.ch-(c3.line==c4.line?c4.ch:0))}return{line:c5,ch:c6}}var c0;aD(c1,c4,c3,function(c5){c0=c5;return{from:c2(cX.from),to:c2(cX.to)}});return c0}function bt(c0,c1){aD(B(c0),cX.from,cX.to,function(c2){if(c1==&quot;end&quot;){return{from:c2,to:c2}}else{if(c1==&quot;start&quot;){return{from:cX.from,to:cX.from}}else{return{from:cX.from,to:c2}}}})}function aD(c3,c5,c4,c0){var c2=c3.length==1?c3[0].length+c5.ch:c3[c3.length-1].length;var c1=c0({line:c5.line+c3.length-1,ch:c2});aP(c5,c4,c3,c1.from,c1.to)}function cP(c4,c3){var c1=c4.line,c0=c3.line;if(c1==c0){return cG(c1).text.slice(c4.ch,c3.ch)}var c2=[cG(c1).text.slice(c4.ch)];cz.iter(c1+1,c0,function(c5){c2.push(c5.text)});c2.push(cG(c0).text.slice(0,c3.ch));return c2.join(&quot;\n&quot;)}function b4(){return cP(cX.from,cX.to)}var bu=false;function an(){if(bu){return}b8.set(b2.pollInterval,function(){aO();bL();if(ck){an()}az()})}function aR(){var c0=false;bu=true;function c1(){aO();var c2=bL();if(!c2&amp;&amp;!c0){c0=true;b8.set(60,c1)}else{bu=false;an()}az()}b8.set(20,c1)}var bb=&quot;&quot;;function bL(){if(bg||!ck||af(bn)||b2.readOnly){return false}var c1=bn.value;if(c1==bb){return false}cj=null;var c2=0,c0=Math.min(bb.length,c1.length);while(c2&lt;c0&amp;&amp;bb[c2]==c1[c2]){++c2}if(c2&lt;bb.length){cX.from={line:cX.from.line,ch:cX.from.ch-(bb.length-c2)}}else{if(co&amp;&amp;ae(cX.from,cX.to)){cX.to={line:cX.to.line,ch:Math.min(cG(cX.to.line).text.length,cX.to.ch+(c1.length-c2))}}}bt(c1.slice(c2),&quot;end&quot;);bb=c1;return true}function cD(c0){if(!ae(cX.from,cX.to)){bb=&quot;&quot;;bn.value=b4();a(bn)}else{if(c0){bb=bn.value=&quot;&quot;}}}function bA(){if(b2.readOnly!=&quot;nocursor&quot;){bn.focus()}}function cZ(){if(!bd.getBoundingClientRect){return}var c0=bd.getBoundingClientRect();if(J&amp;&amp;c0.top==c0.bottom){return}var c1=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);if(c0.top&lt;0||c0.bottom&gt;c1){bd.scrollIntoView()}}function cg(){var c1=cS(cX.inverted?cX.from:cX.to);var c0=b2.lineWrapping?Math.min(c1.x,bv.offsetWidth):c1.x;return aB(c0,c1.y,c0,c1.yBot)}function aB(c2,c8,c0,c7){var c5=a6(),dd=cs();c8+=dd;c7+=dd;c2+=c5;c0+=c5;var da=bl.clientHeight,c3=bl.scrollTop,c1=false,dc=true;if(c8&lt;c3){bl.scrollTop=Math.max(0,c8);c1=true}else{if(c7&gt;c3+da){bl.scrollTop=c7-da;c1=true}}var c9=bl.clientWidth,db=bl.scrollLeft;var c6=b2.fixedGutter?aI.clientWidth:0;var c4=c2&lt;c6+c5+10;if(c2&lt;db+c6||c4){if(c4){c2=0}bl.scrollLeft=Math.max(0,c2-10-c6);c1=true}else{if(c0&gt;c9+db-3){bl.scrollLeft=c0+10-c9;c1=true;if(c0&gt;bN.clientWidth){dc=false}}}if(c1&amp;&amp;b2.onScroll){b2.onScroll(ca)}return dc}function bB(){var c0=bQ(),c3=bl.scrollTop-cs();var c2=Math.max(0,Math.floor(c3/c0));var c1=Math.ceil((c3+bl.clientHeight)/c0);return{from:Y(cz,c2),to:Y(cz,c1)}}function ce(c8,c4){if(!bl.clientWidth){cR=bM=be=0;return}var c3=bB();if(c8!==true&amp;&amp;c8.length==0&amp;&amp;c3.from&gt;cR&amp;&amp;c3.to&lt;bM){return}var c9=Math.max(c3.from-100,0),da=Math.min(cz.size,c3.to+100);if(cR&lt;c9&amp;&amp;c9-cR&lt;20){c9=cR}if(bM&gt;da&amp;&amp;bM-da&lt;20){da=Math.min(cz.size,bM)}var dc=c8===true?[]:b1([{from:cR,to:bM,domStart:0}],c8);var c7=0;for(var c5=0;c5&lt;dc.length;++c5){var c6=dc[c5];if(c6.from&lt;c9){c6.domStart+=(c9-c6.from);c6.from=c9}if(c6.to&gt;da){c6.to=da}if(c6.from&gt;=c6.to){dc.splice(c5--,1)}else{c7+=c6.to-c6.from}}if(c7==da-c9&amp;&amp;c9==cR&amp;&amp;da==bM){return}dc.sort(function(de,dd){return de.domStart-dd.domStart});var c2=bQ(),c0=aI.style.display;ar.style.display=&quot;none&quot;;aS(c9,da,dc);ar.style.display=aI.style.display=&quot;&quot;;var c1=c9!=cR||da!=bM||bO!=bl.clientHeight+c2;if(c1){bO=bl.clientHeight+c2}cR=c9;bM=da;be=g(cz,c9);ch.style.top=(be*c2)+&quot;px&quot;;if(bl.clientHeight){bN.style.height=(cz.height*c2+2*cs())+&quot;px&quot;}if(ar.childNodes.length!=bM-cR){throw new Error(&quot;BAD PATCH! &quot;+JSON.stringify(dc)+&quot; size=&quot;+(bM-cR)+&quot; nodes=&quot;+ar.childNodes.length)}function db(){aG=bl.clientWidth;var de=ar.firstChild,dd=false;cz.iter(cR,bM,function(dg){if(!dg.hidden){var df=Math.round(de.offsetHeight/c2)||1;if(dg.height!=df){a4(dg,df);aT=dd=true}}de=de.nextSibling});if(dd){bN.style.height=(cz.height*c2+2*cs())+&quot;px&quot;}return dd}if(b2.lineWrapping){db()}else{if(aG==null){aG=cu(bE)}if(aG&gt;bl.clientWidth){bv.style.width=aG+&quot;px&quot;;bN.style.width=&quot;&quot;;bN.style.width=bl.scrollWidth+&quot;px&quot;}else{bv.style.width=bN.style.width=&quot;&quot;}}aI.style.display=c0;if(c1||aT){aM()&amp;&amp;b2.lineWrapping&amp;&amp;db()&amp;&amp;aM()}cW();if(!c4&amp;&amp;b2.onUpdate){b2.onUpdate(ca)}return true}function b1(c9,c7){for(var c4=0,c2=c7.length||0;c4&lt;c2;++c4){var c6=c7[c4],c0=[],c8=c6.diff||0;for(var c3=0,c1=c9.length;c3&lt;c1;++c3){var c5=c9[c3];if(c6.to&lt;=c5.from&amp;&amp;c6.diff){c0.push({from:c5.from+c8,to:c5.to+c8,domStart:c5.domStart})}else{if(c6.to&lt;=c5.from||c6.from&gt;=c5.to){c0.push(c5)}else{if(c6.from&gt;c5.from){c0.push({from:c5.from,to:c6.from,domStart:c5.domStart})}if(c6.to&lt;c5.to){c0.push({from:c6.to+c8,to:c5.to+c8,domStart:c5.domStart+(c6.to-c5.from)})}}}}c9=c0}return c9}function aS(c9,da,dc){if(!dc.length){ar.innerHTML=&quot;&quot;}else{function c0(de){var dd=de.nextSibling;de.parentNode.removeChild(de);return dd}var c4=0,c2=ar.firstChild,c1;for(var c5=0;c5&lt;dc.length;++c5){var db=dc[c5];while(db.domStart&gt;c4){c2=c0(c2);c4++}for(var c3=0,c7=db.to-db.from;c3&lt;c7;++c3){c2=c2.nextSibling;c4++}}while(c2){c2=c0(c2)}}var c6=dc.shift(),c2=ar.firstChild,c3=c9;var c8=document.createElement(&quot;div&quot;);cz.iter(c9,da,function(dd){if(c6&amp;&amp;c6.to==c3){c6=dc.shift()}if(!c6||c6.from&gt;c3){if(dd.hidden){var de=c8.innerHTML=&quot;&lt;pre&gt;&lt;/pre&gt;&quot;}else{var de=&quot;&lt;pre&quot;+(dd.className?&#39; class=&quot;&#39;+dd.className+&#39;&quot;&#39;:&quot;&quot;)+&quot;&gt;&quot;+dd.getHTML(ba)+&quot;&lt;/pre&gt;&quot;;if(dd.bgClassName){de=&#39;&lt;div style=&quot;position: relative&quot;&gt;&lt;pre class=&quot;&#39;+dd.bgClassName+&#39;&quot; style=&quot;position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2&quot;&gt;&amp;#160;&lt;/pre&gt;&#39;+de+&quot;&lt;/div&gt;&quot;}}c8.innerHTML=de;ar.insertBefore(c8.firstChild,c2)}else{c2=c2.nextSibling}++c3})}function aM(){if(!b2.gutter&amp;&amp;!b2.lineNumbers){return}var c1=ch.offsetHeight,c9=bl.clientHeight;aI.style.height=(c1-c9&lt;2?c9:c1)+&quot;px&quot;;var c7=[],c5=cR,c8;cz.iter(cR,Math.max(bM,cR+1),function(db){if(db.hidden){c7.push(&quot;&lt;pre&gt;&lt;/pre&gt;&quot;)}else{var da=db.gutterMarker;var dd=b2.lineNumbers?c5+b2.firstLineNumber:null;if(da&amp;&amp;da.text){dd=da.text.replace(&quot;%N%&quot;,dd!=null?dd:&quot;&quot;)}else{if(dd==null){dd=&quot;\u00a0&quot;}}c7.push((da&amp;&amp;da.style?&#39;&lt;pre class=&quot;&#39;+da.style+&#39;&quot;&gt;&#39;:&quot;&lt;pre&gt;&quot;),dd);for(var dc=1;dc&lt;db.height;++dc){c7.push(&quot;&lt;br/&gt;&amp;#160;&quot;)}c7.push(&quot;&lt;/pre&gt;&quot;);if(!da){c8=c5}}++c5});aI.style.display=&quot;none&quot;;aZ.innerHTML=c7.join(&quot;&quot;);if(c8!=null){var c3=aZ.childNodes[c8-cR];var c4=String(cz.size).length,c0=I(c3),c2=&quot;&quot;;while(c0.length+c2.length&lt;c4){c2+=&quot;\u00a0&quot;}if(c2){c3.insertBefore(document.createTextNode(c2),c3.firstChild)}}aI.style.display=&quot;&quot;;var c6=Math.abs((parseInt(bv.style.marginLeft)||0)-aI.offsetWidth)&gt;2;bv.style.marginLeft=aI.offsetWidth+&quot;px&quot;;aT=false;return c6}function cW(){var c3=ae(cX.from,cX.to);var de=cS(cX.from,true);var c9=c3?de:cS(cX.to,true);var c7=cX.inverted?de:c9,c1=bQ();var c0=al(aE),c2=al(ar);bY.style.top=Math.max(0,Math.min(bl.offsetHeight,c7.y+c2.top-c0.top))+&quot;px&quot;;bY.style.left=Math.max(0,Math.min(bl.offsetWidth,c7.x+c2.left-c0.left))+&quot;px&quot;;if(c3){bd.style.top=c7.y+&quot;px&quot;;bd.style.left=(b2.lineWrapping?Math.min(c7.x,bv.offsetWidth):c7.x)+&quot;px&quot;;bd.style.display=&quot;&quot;;bh.style.display=&quot;none&quot;}else{var dc=de.y==c9.y,c5=&quot;&quot;;var da=bv.clientWidth||bv.offsetWidth;var c6=bv.clientHeight||bv.offsetHeight;function dd(dj,di,dh,df){var dg=F?&quot;width: &quot;+(!dh?da:da-dh-dj)+&quot;px&quot;:&quot;right: &quot;+dh+&quot;px&quot;;c5+=&#39;&lt;div class=&quot;CodeMirror-selected&quot; style=&quot;position: absolute; left: &#39;+dj+&quot;px; top: &quot;+di+&quot;px; &quot;+dg+&quot;; height: &quot;+df+&#39;px&quot;&gt;&lt;/div&gt;&#39;}if(cX.from.ch&amp;&amp;de.y&gt;=0){var db=dc?da-c9.x:0;dd(de.x,de.y,db,c1)}var c4=Math.max(0,de.y+(cX.from.ch?c1:0));var c8=Math.min(c9.y,c6)-c4;if(c8&gt;0.2*c1){dd(0,c4,0,c8)}if((!dc||!cX.from.ch)&amp;&amp;c9.y&lt;c6-0.5*c1){dd(0,c9.y,da-c9.x,c1)}bh.innerHTML=c5;bd.style.display=&quot;none&quot;;bh.style.display=&quot;&quot;}}function a5(c0){if(c0){cj=cj||(cX.inverted?cX.to:cX.from)}else{cj=null}}function by(c2,c1){var c0=cj&amp;&amp;aU(cj);if(c0){if(aa(c0,c2)){c2=c0}else{if(aa(c1,c0)){c1=c0}}}bx(c2,c1);b7=true}function bx(c7,c6,c0,c5){cw=null;if(c0==null){c0=cX.from.line;c5=cX.to.line}if(ae(cX.from,c7)&amp;&amp;ae(cX.to,c6)){return}if(aa(c6,c7)){var c3=c6;c6=c7;c7=c3}if(c7.line!=c0){var c4=bS(c7,c0,cX.from.ch);if(!c4){cL(c7.line,false)}else{c7=c4}}if(c6.line!=c5){c6=bS(c6,c5,cX.to.ch)}if(ae(c7,c6)){cX.inverted=false}else{if(ae(c7,cX.to)){cX.inverted=false}else{if(ae(c6,cX.from)){cX.inverted=true}}}if(b2.autoClearEmptyLines&amp;&amp;ae(cX.from,cX.to)){var c2=cX.inverted?c7:c6;if(c2.line!=cX.from.line&amp;&amp;cX.from.line&lt;cz.size){var c1=cG(cX.from.line);if(/^\s+$/.test(c1.text)){setTimeout(at(function(){if(c1.parent&amp;&amp;/^\s+$/.test(c1.text)){var c8=Z(c1);bR(&quot;&quot;,{line:c8,ch:0},{line:c8,ch:c1.text.length})}},10))}}}cX.from=c7;cX.to=c6;aQ=true}function bS(c5,c1,c2){function c4(c8){var da=c5.line+c8,c7=c8==1?cz.size:-1;while(da!=c7){var c6=cG(da);if(!c6.hidden){var c9=c5.ch;if(c3||c9&gt;c2||c9&gt;c6.text.length){c9=c6.text.length}return{line:da,ch:c9}}da+=c8}}var c0=cG(c5.line);var c3=c5.ch==c0.text.length&amp;&amp;c5.ch!=c2;if(!c0.hidden){return c5}if(c5.line&gt;=c1){return c4(1)||c4(-1)}else{return c4(-1)||c4(1)}}function a7(c0,c2,c1){var c3=aU({line:c0,ch:c2||0});(c1?by:bx)(c3,c3)}function b0(c0){return Math.max(0,Math.min(c0,cz.size-1))}function aU(c2){if(c2.line&lt;0){return{line:0,ch:0}}if(c2.line&gt;=cz.size){return{line:cz.size-1,ch:cG(cz.size-1).text.length}}var c0=c2.ch,c1=cG(c2.line).text.length;if(c0==null||c0&gt;c1){return{line:c2.line,ch:c1}}else{if(c0&lt;0){return{line:c2.line,ch:0}}else{return c2}}}function cp(c3,c7){var c4=cX.inverted?cX.from:cX.to,c8=c4.line,c0=c4.ch;var c6=cG(c8);function c1(){for(var c9=c8+c3,db=c3&lt;0?-1:cz.size;c9!=db;c9+=c3){var da=cG(c9);if(!da.hidden){c8=c9;c6=da;return true}}}function c5(c9){if(c0==(c3&lt;0?0:c6.text.length)){if(!c9&amp;&amp;c1()){c0=c3&lt;0?c6.text.length:0}else{return false}}else{c0+=c3}return true}if(c7==&quot;char&quot;){c5()}else{if(c7==&quot;column&quot;){c5(true)}else{if(c7==&quot;word&quot;){var c2=false;for(;;){if(c3&lt;0){if(!c5()){break}}if(ah(c6.text.charAt(c0))){c2=true}else{if(c2){if(c3&lt;0){c3=1;c5()}break}}if(c3&gt;0){if(!c5()){break}}}}}}return{line:c8,ch:c0}}function cF(c0,c1){var c2=c0&lt;0?cX.from:cX.to;if(cj||ae(cX.from,cX.to)){c2=cp(c0,c1)}a7(c2.line,c2.ch,true)}function cn(c0,c1){if(!ae(cX.from,cX.to)){bR(&quot;&quot;,cX.from,cX.to)}else{if(c0&lt;0){bR(&quot;&quot;,cp(c0,c1),cX.to)}else{bR(&quot;&quot;,cX.from,cp(c0,c1))}}b7=true}var cw=null;function cy(c0,c1){var c3=0,c4=cS(cX.inverted?cX.from:cX.to,true);if(cw!=null){c4.x=cw}if(c1==&quot;page&quot;){c3=Math.min(bl.clientHeight,window.innerHeight||document.documentElement.clientHeight)}else{if(c1==&quot;line&quot;){c3=bQ()}}var c2=bI(c4.x,c4.y+c3*c0+2);if(c1==&quot;page&quot;){bl.scrollTop+=cS(c2,true).y-c4.y}a7(c2.line,c2.ch,true);cw=c4.x}function bJ(c3){var c1=cG(c3.line).text;var c2=c3.ch,c0=c3.ch;while(c2&gt;0&amp;&amp;ah(c1.charAt(c2-1))){--c2}while(c0&lt;c1.length&amp;&amp;ah(c1.charAt(c0))){++c0}by({line:c3.line,ch:c2},{line:c3.line,ch:c0})}function aL(c0){by({line:c0,ch:0},aU({line:c0+1,ch:0}))}function cC(c2){if(ae(cX.from,cX.to)){return bz(cX.from.line,c2)}var c1=cX.to.line-(cX.to.ch?0:1);for(var c0=cX.from.line;c0&lt;=c1;++c0){bz(c0,c2)}}function bz(c2,c9){if(!c9){c9=&quot;add&quot;}if(c9==&quot;smart&quot;){if(!cc.indent){c9=&quot;prev&quot;}else{var c0=cv(c2)}}var da=cG(c2),c4=da.indentation(b2.tabSize),c1=da.text.match(/^\s*/)[0],c6;if(c9==&quot;prev&quot;){if(c2){c6=cG(c2-1).indentation(b2.tabSize)}else{c6=0}}else{if(c9==&quot;smart&quot;){c6=cc.indent(c0,da.text.slice(c1.length),da.text)}else{if(c9==&quot;add&quot;){c6=c4+b2.indentUnit}else{if(c9==&quot;subtract&quot;){c6=c4-b2.indentUnit}}}}c6=Math.max(0,c6);var c8=c6-c4;if(!c8){if(cX.from.line!=c2&amp;&amp;cX.to.line!=c2){return}var c7=c1}else{var c7=&quot;&quot;,c5=0;if(b2.indentWithTabs){for(var c3=Math.floor(c6/b2.tabSize);c3;--c3){c5+=b2.tabSize;c7+=&quot;\t&quot;}}while(c5&lt;c6){++c5;c7+=&quot; &quot;}}bR(c7,{line:c2,ch:0},{line:c2,ch:c1.length})}function bU(){cc=v.getMode(b2,b2.mode);cz.iter(0,cz.size,function(c0){c0.stateAfter=null});ci=[0];bH()}function bf(){var c0=b2.gutter||b2.lineNumbers;aI.style.display=c0?&quot;&quot;:&quot;none&quot;;if(c0){aT=true}else{ar.parentNode.style.marginLeft=0}}function cH(c2,c1){if(b2.lineWrapping){aE.className+=&quot; CodeMirror-wrap&quot;;var c0=bl.clientWidth/bi()-3;cz.iter(0,cz.size,function(c3){if(c3.hidden){return}var c4=Math.ceil(c3.text.length/c0)||1;if(c4!=1){a4(c3,c4)}});bv.style.width=bN.style.width=&quot;&quot;}else{aE.className=aE.className.replace(&quot; CodeMirror-wrap&quot;,&quot;&quot;);aG=null;bE=&quot;&quot;;cz.iter(0,cz.size,function(c3){if(c3.height!=1&amp;&amp;!c3.hidden){a4(c3,1)}if(c3.text.length&gt;bE.length){bE=c3.text}})}aC.push({from:0,to:cz.size})}function ba(c1){var c0=b2.tabSize-c1%b2.tabSize,c3=aq[c0];if(c3){return c3}for(var c4=&#39;&lt;span class=&quot;cm-tab&quot;&gt;&#39;,c2=0;c2&lt;c0;++c2){c4+=&quot; &quot;}return(aq[c0]={html:c4+&quot;&lt;/span&gt;&quot;,width:c0})}function cE(){bl.className=bl.className.replace(/\s*cm-s-\S+/g,&quot;&quot;)+b2.theme.replace(/(^|\s)\s*/g,&quot; cm-s-&quot;)}function cY(){this.set=[]}cY.prototype.clear=at(function(){var c5=Infinity,c1=-Infinity;for(var c4=0,c7=this.set.length;c4&lt;c7;++c4){var c2=this.set[c4],c0=c2.marked;if(!c0||!c2.parent){continue}var c6=Z(c2);c5=Math.min(c5,c6);c1=Math.max(c1,c6);for(var c3=0;c3&lt;c0.length;++c3){if(c0[c3].marker==this){c0.splice(c3--,1)}}}if(c5!=Infinity){aC.push({from:c5,to:c1+1})}});cY.prototype.find=function(){var c5,c6;for(var c2=0,c4=this.set.length;c2&lt;c4;++c2){var c8=this.set[c2],c3=c8.marked;for(var c1=0;c1&lt;c3.length;++c1){var c0=c3[c1];if(c0.marker==this){if(c0.from!=null||c0.to!=null){var c7=Z(c8);if(c7!=null){if(c0.from!=null){c5={line:c7,ch:c0.from}}if(c0.to!=null){c6={line:c7,ch:c0.to}}}}}}}return{from:c5,to:c6}};function bF(c6,c5,c2){c6=aU(c6);c5=aU(c5);var c0=new cY();if(!aa(c6,c5)){return c0}function c4(c7,da,c9,c8){cG(c7).addMark(new L(da,c9,c8,c0))}if(c6.line==c5.line){c4(c6.line,c6.ch,c5.ch,c2)}else{c4(c6.line,c6.ch,null,c2);for(var c1=c6.line+1,c3=c5.line;c1&lt;c3;++c1){c4(c1,null,null,c2)}c4(c5.line,null,c5.ch,c2)}aC.push({from:c6.line,to:c5.line+1});return c0}function aV(c1){c1=aU(c1);var c0=new H(c1.ch);cG(c1.line).addMark(c0);return c0}function bp(c5){c5=aU(c5);var c4=[],c2=cG(c5.line).marked;if(!c2){return c4}for(var c1=0,c3=c2.length;c1&lt;c3;++c1){var c0=c2[c1];if((c0.from==null||c0.from&lt;=c5.ch)&amp;&amp;(c0.to==null||c0.to&gt;=c5.ch)){c4.push(c0.marker||c0)}}return c4}function bW(c0,c2,c1){if(typeof c0==&quot;number&quot;){c0=cG(b0(c0))}c0.gutterMarker={text:c2,style:c1};aT=true;return c0}function av(c0){if(typeof c0==&quot;number&quot;){c0=cG(b0(c0))}c0.gutterMarker=null;aT=true}function aY(c1,c3){var c2=c1,c0=c1;if(typeof c1==&quot;number&quot;){c0=cG(b0(c1))}else{c2=Z(c1)}if(c2==null){return null}if(c3(c0,c2)){aC.push({from:c2,to:c2+1})}else{return null}return c0}function bm(c1,c0,c2){return aY(c1,function(c3){if(c3.className!=c0||c3.bgClassName!=c2){c3.className=c0;c3.bgClassName=c2;return true}})}function cL(c1,c0){return aY(c1,function(c2,c5){if(c2.hidden!=c0){c2.hidden=c0;a4(c2,c0?0:1);var c4=cX.from.line,c3=cX.to.line;if(c0&amp;&amp;(c4==c5||c3==c5)){var c7=c4==c5?bS({line:c4,ch:0},c4,0):cX.from;var c6=c3==c5?bS({line:c3,ch:0},c3,0):cX.to;if(!c6){return}bx(c7,c6)}return(aT=true)}})}function aW(c1){if(typeof c1==&quot;number&quot;){if(!bs(c1)){return null}var c2=c1;c1=cG(c1);if(!c1){return null}}else{var c2=Z(c1);if(c2==null){return null}}var c0=c1.gutterMarker;return{line:c2,handle:c1,text:c1.text,markerText:c0&amp;&amp;c0.text,markerClass:c0&amp;&amp;c0.style,lineClass:c1.className,bgClass:c1.bgClassName}}function cu(c0){aw.innerHTML=&quot;&lt;pre&gt;&lt;span&gt;x&lt;/span&gt;&lt;/pre&gt;&quot;;aw.firstChild.firstChild.firstChild.nodeValue=c0;return aw.firstChild.firstChild.offsetWidth||10}function aH(dc,c6){if(c6&lt;=0){return 0}var c3=cG(dc),c9=c3.text;function da(dd){return b6(c3,dd).left}var c7=0,c5=0,c8=c9.length,c4;var c1=Math.min(c8,Math.ceil(c6/bi()));for(;;){var c2=da(c1);if(c2&lt;=c6&amp;&amp;c1&lt;c8){c1=Math.min(c8,Math.ceil(c1*1.2))}else{c4=c2;c8=c1;break}}if(c6&gt;c4){return c8}c1=Math.floor(c8*0.8);c2=da(c1);if(c2&lt;c6){c7=c1;c5=c2}for(;;){if(c8-c7&lt;=1){return(c4-c6&gt;c6-c5)?c7:c8}var db=Math.ceil((c7+c8)/2),c0=da(db);if(c0&gt;c6){c8=db;c4=c0}else{c7=db;c5=c0}}}var cA=&quot;CodeMirror-temp-&quot;+Math.floor(Math.random()*16777215).toString(16);function b6(c1,c4){if(c4==0){return{top:0,left:0}}var c0=b2.lineWrapping&amp;&amp;c4&lt;c1.text.length&amp;&amp;o.test(c1.text.slice(c4-1,c4+1));aw.innerHTML=&quot;&lt;pre&gt;&quot;+c1.getHTML(ba,c4,cA,c0)+&quot;&lt;/pre&gt;&quot;;var c3=document.getElementById(cA);var c6=c3.offsetTop,c5=c3.offsetLeft;if(J&amp;&amp;c6==0&amp;&amp;c5==0){var c2=document.createElement(&quot;span&quot;);c2.innerHTML=&quot;x&quot;;c3.parentNode.insertBefore(c2,c3.nextSibling);c6=c2.offsetTop}return{top:c6,left:c5}}function cS(c5,c3){var c0,c1=bQ(),c4=c1*(g(cz,c5.line)-(c3?be:0));if(c5.ch==0){c0=0}else{var c2=b6(cG(c5.line),c5.ch);c0=c2.left;if(b2.lineWrapping){c4+=Math.max(0,c2.top)}}return{x:c0,y:c4,yBot:c4+c1}}function bI(c9,c8){if(c8&lt;0){c8=0}var c6=bQ(),c4=bi(),df=be+Math.floor(c8/c6);var da=Y(cz,df);if(da&gt;=cz.size){return{line:cz.size-1,ch:cG(cz.size-1).text.length}}var c1=cG(da),dc=c1.text;var dh=b2.lineWrapping,c7=dh?df-g(cz,da):0;if(c9&lt;=0&amp;&amp;c7==0){return{line:da,ch:0}}function dg(dj){var dk=b6(c1,dj);if(dh){var dl=Math.round(dk.top/c6);return Math.max(0,dk.left+(dl-c7)*bl.clientWidth)}return dk.left}var de=0,dd=0,c2=dc.length,c0;var db=Math.min(c2,Math.ceil((c9+c7*bl.clientWidth*0.9)/c4));for(;;){var c5=dg(db);if(c5&lt;=c9&amp;&amp;db&lt;c2){db=Math.min(c2,Math.ceil(db*1.2))}else{c0=c5;c2=db;break}}if(c9&gt;c0){return{line:da,ch:c2}}db=Math.floor(c2*0.8);c5=dg(db);if(c5&lt;c9){de=db;dd=c5}for(;;){if(c2-de&lt;=1){return{line:da,ch:(c0-c9&gt;c9-dd)?de:c2}}var di=Math.ceil((de+c2)/2),c3=dg(di);if(c3&gt;c9){c2=di;c0=c3}else{de=di;dd=c3}}}function ap(c2){var c0=cS(c2,true),c1=al(bv);return{x:c1.left+c0.x,y:c1.top+c0.y,yBot:c1.top+c0.yBot}}var a1,ay,bV;function bQ(){if(bV==null){bV=&quot;&lt;pre&gt;&quot;;for(var c1=0;c1&lt;49;++c1){bV+=&quot;x&lt;br/&gt;&quot;}bV+=&quot;x&lt;/pre&gt;&quot;}var c0=ar.clientHeight;if(c0==ay){return a1}ay=c0;aw.innerHTML=bV;a1=aw.firstChild.offsetHeight/50||1;aw.innerHTML=&quot;&quot;;return a1}var cT,bw=0;function bi(){if(bl.clientWidth==bw){return cT}bw=bl.clientWidth;return(cT=cu(&quot;x&quot;))}function cs(){return bv.offsetTop}function a6(){return bv.offsetLeft}function a3(c4,c3){var c2=al(bl,true),c0,c5;try{c0=c4.clientX;c5=c4.clientY}catch(c4){return null}if(!c3&amp;&amp;(c0-c2.left&gt;bl.clientWidth||c5-c2.top&gt;bl.clientHeight)){return null}var c1=al(bv,true);return bI(c0-c1.left,c5-c1.top)}function a2(c1){var c6=a3(c1),c5=bl.scrollTop;if(!c6||window.opera){return}if(ae(cX.from,cX.to)||aa(c6,cX.from)||!aa(c6,cX.to)){at(a7)(c6.line,c6.ch)}var c4=bn.style.cssText;bY.style.position=&quot;absolute&quot;;bn.style.cssText=&quot;position: fixed; width: 30px; height: 30px; top: &quot;+(c1.clientY-5)+&quot;px; left: &quot;+(c1.clientX-5)+&quot;px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);&quot;;bg=true;var c3=bn.value=b4();bA();a(bn);function c0(){var c7=B(bn.value).join(&quot;\n&quot;);if(c7!=c3){at(bt)(c7,&quot;end&quot;)}bY.style.position=&quot;relative&quot;;bn.style.cssText=c4;if(C){bl.scrollTop=c5}bg=false;cD(true);an()}if(O){x(c1);var c2=s(window,&quot;mouseup&quot;,function(){c2();setTimeout(c0,20)},true)}else{setTimeout(c0,50)}}function cN(){clearInterval(cQ);var c0=true;bd.style.visibility=&quot;&quot;;cQ=setInterval(function(){bd.style.visibility=(c0=!c0)?&quot;&quot;:&quot;hidden&quot;},650)}var bq={&quot;(&quot;:&quot;)&gt;&quot;,&quot;)&quot;:&quot;(&lt;&quot;,&quot;[&quot;:&quot;]&gt;&quot;,&quot;]&quot;:&quot;[&lt;&quot;,&quot;{&quot;:&quot;}&gt;&quot;,&quot;}&quot;:&quot;{&lt;&quot;};function cf(c6){var c0=cX.inverted?cX.from:cX.to,c8=cG(c0.line),c1=c0.ch-1;var c5=(c1&gt;=0&amp;&amp;bq[c8.text.charAt(c1)])||bq[c8.text.charAt(++c1)];if(!c5){return}var c9=c5.charAt(0),c7=c5.charAt(1)==&quot;&gt;&quot;,dj=c7?1:-1,de=c8.styles;for(var dk=c1+1,dg=0,di=de.length;dg&lt;di;dg+=2){if((dk-=de[dg].length)&lt;=0){var dh=de[dg+1];break}}var c3=[c8.text.charAt(c1)],dd=/[(){}[\]]/;function db(dx,ds,dt){if(!dx.text){return}var dw=dx.styles,dr=c7?0:dx.text.length-1,du;for(var dn=c7?0:dw.length-2,dq=c7?dw.length:-2;dn!=dq;dn+=2*dj){var dv=dw[dn];if(dw[dn+1]!=null&amp;&amp;dw[dn+1]!=dh){dr+=dj*dv.length;continue}for(var dm=c7?0:dv.length-1,dl=c7?dv.length:-1;dm!=dl;dm+=dj,dr+=dj){if(dr&gt;=ds&amp;&amp;dr&lt;dt&amp;&amp;dd.test(du=dv.charAt(dm))){var dp=bq[du];if(dp.charAt(1)==&quot;&gt;&quot;==c7){c3.push(du)}else{if(c3.pop()!=dp.charAt(0)){return{pos:dr,match:false}}else{if(!c3.length){return{pos:dr,match:true}}}}}}}}for(var dg=c0.line,di=c7?Math.min(dg+100,cz.size):Math.max(-1,dg-100);dg!=di;dg+=dj){var c8=cG(dg),c4=dg==c0.line;var da=db(c8,c4&amp;&amp;c7?c1+1:0,c4&amp;&amp;!c7?c1:c8.text.length);if(da){break}}if(!da){da={pos:null,match:false}}var dh=da.match?&quot;CodeMirror-matchingbracket&quot;:&quot;CodeMirror-nonmatchingbracket&quot;;var df=bF({line:c0.line,ch:c1},{line:c0.line,ch:c1+1},dh),c2=da.pos!=null&amp;&amp;bF({line:dg,ch:da.pos},{line:dg,ch:da.pos+1},dh);var dc=at(function(){df.clear();c2&amp;&amp;c2.clear()});if(c6){setTimeout(dc,800)}else{b5=dc}}function a8(c6){var c5,c2;for(var c1=c6,c3=c6-40;c1&gt;c3;--c1){if(c1==0){return 0}var c0=cG(c1-1);if(c0.stateAfter){return c1}var c4=c0.indentation(b2.tabSize);if(c2==null||c5&gt;c4){c2=c1-1;c5=c4}}return c2}function cv(c2){var c1=a8(c2),c0=c1&amp;&amp;cG(c1-1).stateAfter;if(!c0){c0=W(cc)}else{c0=p(cc,c0)}cz.iter(c1,c2,function(c3){c3.highlight(cc,c0,b2.tabSize);c3.stateAfter=p(cc,c0)});if(c1&lt;c2){aC.push({from:c1,to:c2})}if(c2&lt;cz.size&amp;&amp;!cG(c2).stateAfter){ci.push(c2)}return c0}function cI(c2,c0){var c1=cv(c2);cz.iter(c2,c0,function(c3){c3.highlight(cc,c1,b2.tabSize);c3.stateAfter=p(cc,c1)})}function bT(){var c6=+new Date+b2.workTime;var c9=ci.length;while(ci.length){if(!cG(cR).stateAfter){var c3=cR}else{var c3=ci.pop()}if(c3&gt;=cz.size){continue}var c1=a8(c3),c0=c1&amp;&amp;cG(c1-1).stateAfter;if(c0){c0=p(cc,c0)}else{c0=W(cc)}var c5=0,c2=cc.compareStates,c8=false,c7=c1,c4=false;cz.iter(c7,cz.size,function(db){var dc=db.stateAfter;if(+new Date&gt;c6){ci.push(c7);bH(b2.workDelay);if(c8){aC.push({from:c3,to:c7+1})}return(c4=true)}var dd=db.highlight(cc,c0,b2.tabSize);if(dd){c8=true}db.stateAfter=p(cc,c0);var da=null;if(c2){var de=dc&amp;&amp;c2(dc,c0);if(de!=ac){da=!!de}}if(da==null){if(dd!==false||!dc){c5=0}else{if(++c5&gt;3&amp;&amp;(!cc.indent||cc.indent(dc,&quot;&quot;)==cc.indent(c0,&quot;&quot;))){da=true}}}if(da){return true}++c7});if(c4){return}if(c8){aC.push({from:c3,to:c7+1})}}if(c9&amp;&amp;b2.onHighlightComplete){b2.onHighlightComplete(ca)}}function bH(c0){if(!ci.length){return}ax.set(c0,at(bT))}function aO(){cq=b7=cO=null;aC=[];aQ=false;cB=[]}function az(){var c4=false,c1;if(aQ){c4=!cg()}if(aC.length){c1=ce(aC,true)}else{if(aQ){cW()}if(aT){aM()}}if(c4){cg()}if(aQ){cZ();cN()}if(ck&amp;&amp;!bg&amp;&amp;(cq===true||(cq!==false&amp;&amp;aQ))){cD(b7)}if(aQ&amp;&amp;b2.matchBrackets){setTimeout(at(function(){if(b5){b5();b5=null}if(ae(cX.from,cX.to)){cf(false)}}),20)}var c0=cO,c2=cB;if(aQ&amp;&amp;b2.onCursorActivity){b2.onCursorActivity(ca)}if(c0&amp;&amp;b2.onChange&amp;&amp;ca){b2.onChange(ca,c0)}for(var c3=0;c3&lt;c2.length;++c3){c2[c3](ca)}if(c1&amp;&amp;b2.onUpdate){b2.onUpdate(ca)}}var cr=0;function at(c0){return function(){if(!cr++){aO()}try{var c1=c0.apply(this,arguments)}finally{if(!--cr){az()}}return c1}}function bP(c0){a9.startCompound();try{return c0()}finally{a9.endCompound()}}for(var bK in ad){if(ad.propertyIsEnumerable(bK)&amp;&amp;!ca.propertyIsEnumerable(bK)){ca[bK]=ad[bK]}}return ca}v.defaults={value:&quot;&quot;,mode:null,theme:&quot;default&quot;,indentUnit:2,indentWithTabs:false,smartIndent:true,tabSize:4,keyMap:&quot;default&quot;,extraKeys:null,electricChars:true,autoClearEmptyLines:false,onKeyEvent:null,onDragEvent:null,lineWrapping:false,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,dragDrop:true,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null};var t=/AppleWebKit/.test(navigator.userAgent)&amp;&amp;/Mobile\/\w+/.test(navigator.userAgent);var N=t||/Mac/.test(navigator.platform);var V=/Win/.test(navigator.platform);var ak=v.modes={},T=v.mimeModes={};v.defineMode=function(an,ap){if(!v.defaults.mode&amp;&amp;an!=&quot;null&quot;){v.defaults.mode=an}if(arguments.length&gt;2){ap.dependencies=[];for(var ao=2;ao&lt;arguments.length;++ao){ap.dependencies.push(arguments[ao])}}ak[an]=ap};v.defineMIME=function(ao,an){T[ao]=an};v.resolveMode=function(an){if(typeof an==&quot;string&quot;&amp;&amp;T.hasOwnProperty(an)){an=T[an]}else{if(typeof an==&quot;string&quot;&amp;&amp;/^[\w\-]+\/[\w\-]+\+xml$/.test(an)){return v.resolveMode(&quot;application/xml&quot;)}}if(typeof an==&quot;string&quot;){return{name:an}}else{return an||{name:&quot;null&quot;}}};v.getMode=function(ao,an){var an=v.resolveMode(an);var ap=ak[an.name];if(!ap){return v.getMode(ao,&quot;text/plain&quot;)}return ap(ao,an)};v.listModes=function(){var ao=[];for(var an in ak){if(ak.propertyIsEnumerable(an)){ao.push(an)}}return ao};v.listMIMEs=function(){var ao=[];for(var an in T){if(T.propertyIsEnumerable(an)){ao.push({mime:an,mode:T[an]})}}return ao};var ad=v.extensions={};v.defineExtension=function(an,ao){ad[an]=ao};var M=v.commands={selectAll:function(an){an.setSelection({line:0,ch:0},{line:an.lineCount()-1})},killLine:function(an){var aq=an.getCursor(true),ap=an.getCursor(false),ao=!ae(aq,ap);if(!ao&amp;&amp;an.getLine(aq.line).length==aq.ch){an.replaceRange(&quot;&quot;,aq,{line:aq.line+1,ch:0})}else{an.replaceRange(&quot;&quot;,aq,ao?ap:{line:aq.line})}},deleteLine:function(an){var ao=an.getCursor().line;an.replaceRange(&quot;&quot;,{line:ao,ch:0},{line:ao})},undo:function(an){an.undo()},redo:function(an){an.redo()},goDocStart:function(an){an.setCursor(0,0,true)},goDocEnd:function(an){an.setSelection({line:an.lineCount()-1},null,true)},goLineStart:function(an){an.setCursor(an.getCursor().line,0,true)},goLineStartSmart:function(an){var aq=an.getCursor();var ap=an.getLine(aq.line),ao=Math.max(0,ap.search(/\S/));an.setCursor(aq.line,aq.ch&lt;=ao&amp;&amp;aq.ch?0:ao,true)},goLineEnd:function(an){an.setSelection({line:an.getCursor().line},null,true)},goLineUp:function(an){an.moveV(-1,&quot;line&quot;)},goLineDown:function(an){an.moveV(1,&quot;line&quot;)},goPageUp:function(an){an.moveV(-1,&quot;page&quot;)},goPageDown:function(an){an.moveV(1,&quot;page&quot;)},goCharLeft:function(an){an.moveH(-1,&quot;char&quot;)},goCharRight:function(an){an.moveH(1,&quot;char&quot;)},goColumnLeft:function(an){an.moveH(-1,&quot;column&quot;)},goColumnRight:function(an){an.moveH(1,&quot;column&quot;)},goWordLeft:function(an){an.moveH(-1,&quot;word&quot;)},goWordRight:function(an){an.moveH(1,&quot;word&quot;)},delCharLeft:function(an){an.deleteH(-1,&quot;char&quot;)},delCharRight:function(an){an.deleteH(1,&quot;char&quot;)},delWordLeft:function(an){an.deleteH(-1,&quot;word&quot;)},delWordRight:function(an){an.deleteH(1,&quot;word&quot;)},indentAuto:function(an){an.indentSelection(&quot;smart&quot;)},indentMore:function(an){an.indentSelection(&quot;add&quot;)},indentLess:function(an){an.indentSelection(&quot;subtract&quot;)},insertTab:function(an){an.replaceSelection(&quot;\t&quot;,&quot;end&quot;)},transposeChars:function(an){var ap=an.getCursor(),ao=an.getLine(ap.line);if(ap.ch&gt;0&amp;&amp;ap.ch&lt;ao.length-1){an.replaceRange(ao.charAt(ap.ch)+ao.charAt(ap.ch-1),{line:ap.line,ch:ap.ch-1},{line:ap.line,ch:ap.ch+1})}},newlineAndIndent:function(an){an.replaceSelection(&quot;\n&quot;,&quot;end&quot;);an.indentLine(an.getCursor().line)},toggleOverwrite:function(an){an.toggleOverwrite()}};var w=v.keyMap={};w.basic={Left:&quot;goCharLeft&quot;,Right:&quot;goCharRight&quot;,Up:&quot;goLineUp&quot;,Down:&quot;goLineDown&quot;,End:&quot;goLineEnd&quot;,Home:&quot;goLineStartSmart&quot;,PageUp:&quot;goPageUp&quot;,PageDown:&quot;goPageDown&quot;,Delete:&quot;delCharRight&quot;,Backspace:&quot;delCharLeft&quot;,Tab:&quot;insertTab&quot;,&quot;Shift-Tab&quot;:&quot;indentAuto&quot;,Enter:&quot;newlineAndIndent&quot;,Insert:&quot;toggleOverwrite&quot;};w.pcDefault={&quot;Ctrl-A&quot;:&quot;selectAll&quot;,&quot;Ctrl-D&quot;:&quot;deleteLine&quot;,&quot;Ctrl-Z&quot;:&quot;undo&quot;,&quot;Shift-Ctrl-Z&quot;:&quot;redo&quot;,&quot;Ctrl-Y&quot;:&quot;redo&quot;,&quot;Ctrl-Home&quot;:&quot;goDocStart&quot;,&quot;Alt-Up&quot;:&quot;goDocStart&quot;,&quot;Ctrl-End&quot;:&quot;goDocEnd&quot;,&quot;Ctrl-Down&quot;:&quot;goDocEnd&quot;,&quot;Ctrl-Left&quot;:&quot;goWordLeft&quot;,&quot;Ctrl-Right&quot;:&quot;goWordRight&quot;,&quot;Alt-Left&quot;:&quot;goLineStart&quot;,&quot;Alt-Right&quot;:&quot;goLineEnd&quot;,&quot;Ctrl-Backspace&quot;:&quot;delWordLeft&quot;,&quot;Ctrl-Delete&quot;:&quot;delWordRight&quot;,&quot;Ctrl-S&quot;:&quot;save&quot;,&quot;Ctrl-F&quot;:&quot;find&quot;,&quot;Ctrl-G&quot;:&quot;findNext&quot;,&quot;Shift-Ctrl-G&quot;:&quot;findPrev&quot;,&quot;Shift-Ctrl-F&quot;:&quot;replace&quot;,&quot;Shift-Ctrl-R&quot;:&quot;replaceAll&quot;,&quot;Ctrl-[&quot;:&quot;indentLess&quot;,&quot;Ctrl-]&quot;:&quot;indentMore&quot;,fallthrough:&quot;basic&quot;};w.macDefault={&quot;Cmd-A&quot;:&quot;selectAll&quot;,&quot;Cmd-D&quot;:&quot;deleteLine&quot;,&quot;Cmd-Z&quot;:&quot;undo&quot;,&quot;Shift-Cmd-Z&quot;:&quot;redo&quot;,&quot;Cmd-Y&quot;:&quot;redo&quot;,&quot;Cmd-Up&quot;:&quot;goDocStart&quot;,&quot;Cmd-End&quot;:&quot;goDocEnd&quot;,&quot;Cmd-Down&quot;:&quot;goDocEnd&quot;,&quot;Alt-Left&quot;:&quot;goWordLeft&quot;,&quot;Alt-Right&quot;:&quot;goWordRight&quot;,&quot;Cmd-Left&quot;:&quot;goLineStart&quot;,&quot;Cmd-Right&quot;:&quot;goLineEnd&quot;,&quot;Alt-Backspace&quot;:&quot;delWordLeft&quot;,&quot;Ctrl-Alt-Backspace&quot;:&quot;delWordRight&quot;,&quot;Alt-Delete&quot;:&quot;delWordRight&quot;,&quot;Cmd-S&quot;:&quot;save&quot;,&quot;Cmd-F&quot;:&quot;find&quot;,&quot;Cmd-G&quot;:&quot;findNext&quot;,&quot;Shift-Cmd-G&quot;:&quot;findPrev&quot;,&quot;Cmd-Alt-F&quot;:&quot;replace&quot;,&quot;Shift-Cmd-Alt-F&quot;:&quot;replaceAll&quot;,&quot;Cmd-[&quot;:&quot;indentLess&quot;,&quot;Cmd-]&quot;:&quot;indentMore&quot;,fallthrough:[&quot;basic&quot;,&quot;emacsy&quot;]};w[&quot;default&quot;]=N?w.macDefault:w.pcDefault;w.emacsy={&quot;Ctrl-F&quot;:&quot;goCharRight&quot;,&quot;Ctrl-B&quot;:&quot;goCharLeft&quot;,&quot;Ctrl-P&quot;:&quot;goLineUp&quot;,&quot;Ctrl-N&quot;:&quot;goLineDown&quot;,&quot;Alt-F&quot;:&quot;goWordRight&quot;,&quot;Alt-B&quot;:&quot;goWordLeft&quot;,&quot;Ctrl-A&quot;:&quot;goLineStart&quot;,&quot;Ctrl-E&quot;:&quot;goLineEnd&quot;,&quot;Ctrl-V&quot;:&quot;goPageUp&quot;,&quot;Shift-Ctrl-V&quot;:&quot;goPageDown&quot;,&quot;Ctrl-D&quot;:&quot;delCharRight&quot;,&quot;Ctrl-H&quot;:&quot;delCharLeft&quot;,&quot;Alt-D&quot;:&quot;delWordRight&quot;,&quot;Alt-Backspace&quot;:&quot;delWordLeft&quot;,&quot;Ctrl-K&quot;:&quot;killLine&quot;,&quot;Ctrl-T&quot;:&quot;transposeChars&quot;};function c(an){if(typeof an==&quot;string&quot;){return w[an]}else{return an}}function l(ao,an,at,aq,ap){function ar(ay){ay=c(ay);var aw=ay[ao];if(aw!=null&amp;&amp;aq(aw)){return true}if(ay.nofallthrough){if(ap){ap()}return true}var av=ay.fallthrough;if(av==null){return false}if(Object.prototype.toString.call(av)!=&quot;[object Array]&quot;){return ar(av)}for(var au=0,ax=av.length;au&lt;ax;++au){if(ar(av[au])){return true}}return false}if(an&amp;&amp;ar(an)){return true}return ar(at)}function R(ao){var an=S[z(ao,&quot;keyCode&quot;)];return an==&quot;Ctrl&quot;||an==&quot;Alt&quot;||an==&quot;Shift&quot;||an==&quot;Mod&quot;}v.fromTextArea=function(ao,aq){if(!aq){aq={}}aq.value=ao.value;if(!aq.tabindex&amp;&amp;ao.tabindex){aq.tabindex=ao.tabindex}if(aq.autofocus==null&amp;&amp;ao.getAttribute(&quot;autofocus&quot;)!=null){aq.autofocus=true}function at(){ao.value=an.getValue()}if(ao.form){var ar=s(ao.form,&quot;submit&quot;,at,true);if(typeof ao.form.submit==&quot;function&quot;){var ap=ao.form.submit;function au(){at();ao.form.submit=ap;ao.form.submit();ao.form.submit=au}ao.form.submit=au}}ao.style.display=&quot;none&quot;;var an=v(function(av){ao.parentNode.insertBefore(av,ao.nextSibling)},aq);an.save=at;an.getTextArea=function(){return ao};an.toTextArea=function(){at();ao.parentNode.removeChild(an.getWrapperElement());ao.style.display=&quot;&quot;;if(ao.form){ar();if(typeof ao.form.submit==&quot;function&quot;){ao.form.submit=ap}}};return an};function p(aq,an){if(an===true){return an}if(aq.copyState){return aq.copyState(an)}var ap={};for(var ar in an){var ao=an[ar];if(ao instanceof Array){ao=ao.concat([])}ap[ar]=ao}return ap}v.copyState=p;function W(ap,ao,an){return ap.startState?ap.startState(ao,an):true}v.startState=W;function b(an,ao){this.pos=this.start=0;this.string=an;this.tabSize=ao||8}b.prototype={eol:function(){return this.pos&gt;=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos&lt;this.string.length){return this.string.charAt(this.pos++)}},eat:function(an){var ap=this.string.charAt(this.pos);if(typeof an==&quot;string&quot;){var ao=ap==an}else{var ao=ap&amp;&amp;(an.test?an.test(ap):an(ap))}if(ao){++this.pos;return ap}},eatWhile:function(an){var ao=this.pos;while(this.eat(an)){}return this.pos&gt;ao},eatSpace:function(){var an=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos&gt;an},skipToEnd:function(){this.pos=this.string.length},skipTo:function(an){var ao=this.string.indexOf(an,this.pos);if(ao&gt;-1){this.pos=ao;return true}},backUp:function(an){this.pos-=an},column:function(){return n(this.string,this.start,this.tabSize)},indentation:function(){return n(this.string,null,this.tabSize)},match:function(aq,ao,an){if(typeof aq==&quot;string&quot;){function ar(at){return an?at.toLowerCase():at}if(ar(this.string).indexOf(ar(aq),this.pos)==this.pos){if(ao!==false){this.pos+=aq.length}return true}}else{var ap=this.string.slice(this.pos).match(aq);if(ap&amp;&amp;ao!==false){this.pos+=ap[0].length}return ap}},current:function(){return this.string.slice(this.start,this.pos)}};v.StringStream=b;function L(aq,ap,ao,an){this.from=aq;this.to=ap;this.style=ao;this.marker=an}L.prototype={attach:function(an){this.marker.set.push(an)},detach:function(ao){var an=r(this.marker.set,ao);if(an&gt;-1){this.marker.set.splice(an,1)}},split:function(aq,an){if(this.to&lt;=aq&amp;&amp;this.to!=null){return null}var ap=this.from&lt;aq||this.from==null?null:this.from-aq+an;var ao=this.to==null?null:this.to-aq+an;return new L(ap,ao,this.style,this.marker)},dup:function(){return new L(null,null,this.style,this.marker)},clipTo:function(ao,ar,an,aq,ap){if(ao&amp;&amp;aq&gt;this.from&amp;&amp;(aq&lt;this.to||this.to==null)){this.from=null}else{if(this.from!=null&amp;&amp;this.from&gt;=ar){this.from=Math.max(aq,this.from)+ap}}if(an&amp;&amp;(ar&lt;this.to||this.to==null)&amp;&amp;(ar&gt;this.from||this.from==null)){this.to=null}else{if(this.to!=null&amp;&amp;this.to&gt;ar){this.to=aq&lt;this.to?this.to+ap:ar}}},isDead:function(){return this.from!=null&amp;&amp;this.to!=null&amp;&amp;this.from&gt;=this.to},sameSet:function(an){return this.marker==an.marker}};function H(an){this.from=an;this.to=an;this.line=null}H.prototype={attach:function(an){this.line=an},detach:function(an){if(this.line==an){this.line=null}},split:function(ao,an){if(ao&lt;this.from){this.from=this.to=(this.from-ao)+an;return this}},isDead:function(){return this.from&gt;this.to},clipTo:function(ao,ar,an,aq,ap){if((ao||ar&lt;this.from)&amp;&amp;(an||aq&gt;this.to)){this.from=0;this.to=-1}else{if(this.from&gt;ar){this.from=this.to=Math.max(aq,this.from)+ap}}},sameSet:function(an){return false},find:function(){if(!this.line||!this.line.parent){return null}return{line:Z(this.line),ch:this.from}},clear:function(){if(this.line){var an=r(this.line.marked,this);if(an!=-1){this.line.marked.splice(an,1)}this.line=null}}};function e(ao,an){this.styles=an||[ao,null];this.text=ao;this.height=1;this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null;this.stateAfter=this.parent=this.hidden=null}e.inheritMarks=function(ar,av){var aq=new e(ar),an=av&amp;&amp;av.marked;if(an){for(var ap=0;ap&lt;an.length;++ap){if(an[ap].to==null&amp;&amp;an[ap].style){var ao=aq.marked||(aq.marked=[]),au=an[ap];var at=au.dup();ao.push(at);at.attach(aq)}}}return aq};e.prototype={replace:function(ar,aq,av){var aw=[],ap=this.marked,at=aq==null?this.text.length:aq;am(0,ar,this.styles,aw);if(av){aw.push(av,null)}am(at,this.text.length,this.styles,aw);this.styles=aw;this.text=this.text.slice(0,ar)+av+this.text.slice(at);this.stateAfter=null;if(ap){var au=av.length-(at-ar);for(var ao=0;ao&lt;ap.length;++ao){var an=ap[ao];an.clipTo(ar==null,ar||0,aq==null,at,au);if(an.isDead()){an.detach(this);ap.splice(ao--,1)}}}},split:function(av,at){var aq=[at,null],ao=this.marked;am(av,this.text.length,this.styles,aq);var ap=new e(at+this.text.slice(av),aq);if(ao){for(var ar=0;ar&lt;ao.length;++ar){var au=ao[ar];var an=au.split(av,at.length);if(an){if(!ap.marked){ap.marked=[]}ap.marked.push(an);an.attach(ap);if(an==au){ao.splice(ar--,1)}}}}return ap},append:function(ao){var au=this.text.length,an=ao.marked,ar=this.marked;this.text+=ao.text;am(0,ao.text.length,ao.styles,this.styles);if(ar){for(var at=0;at&lt;ar.length;++at){if(ar[at].to==null){ar[at].to=au}}}if(an&amp;&amp;an.length){if(!ar){this.marked=ar=[]}outer:for(var at=0;at&lt;an.length;++at){var av=an[at];if(!av.from){for(var aq=0;aq&lt;ar.length;++aq){var ap=ar[aq];if(ap.to==au&amp;&amp;ap.sameSet(av)){ap.to=av.to==null?null:av.to+au;if(ap.isDead()){ap.detach(this);an.splice(at--,1)}continue outer}}}ar.push(av);av.attach(this);av.from+=au;if(av.to!=null){av.to+=au}}}},fixMarkEnds:function(ao){var an=this.marked,ar=ao.marked;if(!an){return}for(var aq=0;aq&lt;an.length;++aq){var au=an[aq],at=au.to==null;if(at&amp;&amp;ar){for(var ap=0;ap&lt;ar.length;++ap){if(ar[ap].sameSet(au)){at=false;break}}}if(at){au.to=this.text.length}}},fixMarkStarts:function(){var an=this.marked;if(!an){return}for(var ao=0;ao&lt;an.length;++ao){if(an[ao].from==null){an[ao].from=0}}},addMark:function(an){an.attach(this);if(this.marked==null){this.marked=[]}this.marked.push(an);this.marked.sort(function(ap,ao){return(ap.from||0)-(ao.from||0)})},highlight:function(at,ao,au){var ax=new b(this.text,au),ay=this.styles,av=0;var ar=false,ap=ay[0],aw;if(this.text==&quot;&quot;&amp;&amp;at.blankLine){at.blankLine(ao)}while(!ax.eol()){var an=at.token(ax,ao);var aq=this.text.slice(ax.start,ax.pos);ax.start=ax.pos;if(av&amp;&amp;ay[av-1]==an){ay[av-2]+=aq}else{if(aq){if(!ar&amp;&amp;(ay[av+1]!=an||(av&amp;&amp;ay[av-2]!=aw))){ar=true}ay[av++]=aq;ay[av++]=an;aw=ap;ap=ay[av]}}if(ax.pos&gt;5000){ay[av++]=this.text.slice(ax.pos);ay[av++]=null;break}}if(ay.length!=av){ay.length=av;ar=true}if(av&amp;&amp;ay[av-2]!=aw){ar=true}return ar||(ay.length&lt;5&amp;&amp;this.text.length&lt;10?null:false)},getTokenAt:function(at,aq,ap){var an=this.text,ar=new b(an);while(ar.pos&lt;ap&amp;&amp;!ar.eol()){ar.start=ar.pos;var ao=at.token(ar,aq)}return{start:ar.start,end:ar.pos,string:ar.current(),className:ao||null,state:aq}},indentation:function(an){return n(this.text,null,an)},getHTML:function(aN,an,ap,ar){var ay=[],aw=true,au=0;function aJ(aZ,aX){if(!aZ){return}if(aw&amp;&amp;J&amp;&amp;aZ.charAt(0)==&quot; &quot;){aZ=&quot;\u00a0&quot;+aZ.slice(1)}aw=false;if(aZ.indexOf(&quot;\t&quot;)==-1){au+=aZ.length;var aY=Q(aZ)}else{var aY=&quot;&quot;;for(var a0=0;;){var aV=aZ.indexOf(&quot;\t&quot;,a0);if(aV==-1){aY+=Q(aZ.slice(a0));au+=aZ.length-a0;break}else{au+=aV-a0;var aW=aN(au);aY+=Q(aZ.slice(a0,aV))+aW.html;au+=aW.width;a0=aV+1}}}if(aX){ay.push(&#39;&lt;span class=&quot;&#39;,aX,&#39;&quot;&gt;&#39;,aY,&quot;&lt;/span&gt;&quot;)}else{ay.push(aY)}}var aM=aJ;if(an!=null){var aH=0,aC=&#39;&lt;span id=&quot;&#39;+ap+&#39;&quot;&gt;&#39;;aM=function(aX,aW){var aV=aX.length;if(an&gt;=aH&amp;&amp;an&lt;aH+aV){if(an&gt;aH){aJ(aX.slice(0,an-aH),aW);if(ar){ay.push(&quot;&lt;wbr&gt;&quot;)}}ay.push(aC);aJ(aX.slice(an-aH),aW);ay.push(&quot;&lt;/span&gt;&quot;);an--;aH+=aV}else{aH+=aV;aJ(aX,aW);if(aH==an&amp;&amp;aH==aR){ay.push(aC+&quot;&lt;/span&gt;&quot;)}else{if(aH&gt;an+10&amp;&amp;/\s/.test(aX)){aM=function(){}}}}}}var aG=this.styles,ax=this.text,aD=this.marked;var aR=ax.length;function at(aV){if(!aV){return null}return&quot;cm-&quot;+aV.replace(/ +/g,&quot; cm-&quot;)}if(!ax&amp;&amp;an==null){aM(&quot; &quot;)}else{if(!aD||!aD.length){for(var aO=0,az=0;az&lt;aR;aO+=2){var aF=aG[aO],aQ=aG[aO+1],aI=aF.length;if(az+aI&gt;aR){aF=aF.slice(0,aR-az)}az+=aI;aM(aF,at(aQ))}}else{var av=0,aO=0,aB=&quot;&quot;,aQ,aU=0;var aT=aD[0].from||0,aL=[],aS=0;function aP(){var aV;while(aS&lt;aD.length&amp;&amp;((aV=aD[aS]).from==av||aV.from==null)){if(aV.style!=null){aL.push(aV)}++aS}aT=aS&lt;aD.length?aD[aS].from:Infinity;for(var aW=0;aW&lt;aL.length;++aW){var aX=aL[aW].to||Infinity;if(aX==av){aL.splice(aW--,1)}else{aT=Math.min(aX,aT)}}}var aE=0;while(av&lt;aR){if(aT==av){aP()}var aA=Math.min(aR,aT);while(true){if(aB){var aq=av+aB.length;var ao=aQ;for(var aK=0;aK&lt;aL.length;++aK){ao=(ao?ao+&quot; &quot;:&quot;&quot;)+aL[aK].style}aM(aq&gt;aA?aB.slice(0,aA-av):aB,ao);if(aq&gt;=aA){aB=aB.slice(aA-av);av=aA;break}av=aq}aB=aG[aO++];aQ=at(aG[aO++])}}}}return ay.join(&quot;&quot;)},cleanUp:function(){this.parent=null;if(this.marked){for(var an=0,ao=this.marked.length;an&lt;ao;++an){this.marked[an].detach(this)}}}};function am(au,av,an,aw){for(var ar=0,at=0,ao=0;at&lt;av;ar+=2){var ap=an[ar],aq=at+ap.length;if(ao==0){if(aq&gt;au){aw.push(ap.slice(au-at,Math.min(ap.length,av-at)),an[ar+1])}if(aq&gt;=au){ao=1}}else{if(ao==1){if(aq&gt;av){aw.push(ap.slice(0,av-at),an[ar+1])}else{aw.push(ap,an[ar+1])}}}at=aq}}function ai(ao){this.lines=ao;this.parent=null;for(var ap=0,aq=ao.length,an=0;ap&lt;aq;++ap){ao[ap].parent=this;an+=ao[ap].height}this.height=an}ai.prototype={chunkSize:function(){return this.lines.length},remove:function(an,av,ar){for(var aq=an,au=an+av;aq&lt;au;++aq){var ao=this.lines[aq];this.height-=ao.height;ao.cleanUp();if(ao.handlers){for(var ap=0;ap&lt;ao.handlers.length;++ap){ar.push(ao.handlers[ap])}}}this.lines.splice(an,av)},collapse:function(an){an.splice.apply(an,[an.length,0].concat(this.lines))},insertHeight:function(ao,ap,an){this.height+=an;if(J){this.lines=this.lines.slice(0,ao).concat(ap).concat(this.lines.slice(ao))}else{this.lines.splice.apply(this.lines,[ao,0].concat(ap))}for(var aq=0,ar=ap.length;aq&lt;ar;++aq){ap[aq].parent=this}},iterN:function(an,aq,ap){for(var ao=an+aq;an&lt;ao;++an){if(ap(this.lines[an])){return true}}}};function i(aq){this.children=aq;var ap=0,an=0;for(var ao=0,at=aq.length;ao&lt;at;++ao){var ar=aq[ao];ap+=ar.chunkSize();an+=ar.height;ar.parent=this}this.size=ap;this.height=an;this.parent=null}i.prototype={chunkSize:function(){return this.size},remove:function(ap,ao,au){this.size-=ao;for(var aq=0;aq&lt;this.children.length;++aq){var an=this.children[aq],av=an.chunkSize();if(ap&lt;av){var ar=Math.min(ao,av-ap),aw=an.height;an.remove(ap,ar,au);this.height-=aw-an.height;if(av==ar){this.children.splice(aq--,1);an.parent=null}if((ao-=ar)==0){break}ap=0}else{ap-=av}}if(this.size-ao&lt;25){var ax=[];this.collapse(ax);this.children=[new ai(ax)];this.children[0].parent=this}},collapse:function(an){for(var ao=0,ap=this.children.length;ao&lt;ap;++ao){this.children[ao].collapse(an)}},insert:function(ao,ap){var an=0;for(var aq=0,ar=ap.length;aq&lt;ar;++aq){an+=ap[aq].height}this.insertHeight(ao,ap,an)},insertHeight:function(ao,ax,aw){this.size+=ax.length;this.height+=aw;for(var ap=0,ar=this.children.length;ap&lt;ar;++ap){var an=this.children[ap],au=an.chunkSize();if(ao&lt;=au){an.insertHeight(ao,ax,aw);if(an.lines&amp;&amp;an.lines.length&gt;50){while(an.lines.length&gt;50){var aq=an.lines.splice(an.lines.length-25,25);var av=new ai(aq);an.height-=av.height;this.children.splice(ap+1,0,av);av.parent=this}this.maybeSpill()}break}ao-=au}},maybeSpill:function(){if(this.children.length&lt;=10){return}var aq=this;do{var ao=aq.children.splice(aq.children.length-5,5);var ap=new i(ao);if(!aq.parent){var ar=new i(aq.children);ar.parent=aq;aq.children=[ar,ap];aq=ar}else{aq.size-=ap.size;aq.height-=ap.height;var an=r(aq.parent.children,aq);aq.parent.children.splice(an+1,0,ap)}ap.parent=aq.parent}while(aq.children.length&gt;10);aq.parent.maybeSpill()},iter:function(ap,ao,an){this.iterN(ap,ao-ap,an)},iterN:function(an,aw,av){for(var ao=0,ar=this.children.length;ao&lt;ar;++ao){var au=this.children[ao],aq=au.chunkSize();if(an&lt;aq){var ap=Math.min(aw,aq-an);if(au.iterN(an,ap,av)){return true}if((aw-=ap)==0){break}an=0}else{an-=aq}}}};function D(an,ar){while(!an.lines){for(var ao=0;;++ao){var aq=an.children[ao],ap=aq.chunkSize();if(ar&lt;ap){an=aq;break}ar-=ap}}return an.lines[ar]}function Z(an){if(an.parent==null){return null}var at=an.parent,ar=r(at.lines,an);for(var ao=at.parent;ao;at=ao,ao=ao.parent){for(var ap=0,aq=ao.children.length;;++ap){if(ao.children[ap]==at){break}ar+=ao.children[ap].chunkSize()}}return ar}function Y(au,ar){var ap=0;outer:do{for(var aq=0,at=au.children.length;aq&lt;at;++aq){var ao=au.children[aq],an=ao.height;if(ar&lt;an){au=ao;continue outer}ar-=an;ap+=ao.chunkSize()}return ap}while(!au.lines);for(var aq=0,at=au.lines.length;aq&lt;at;++aq){var aw=au.lines[aq],av=aw.height;if(ar&lt;av){break}ar-=av}return ap+aq}function g(an,au){var ap=0;outer:do{for(var ao=0,ar=an.children.length;ao&lt;ar;++ao){var at=an.children[ao],aq=at.chunkSize();if(au&lt;aq){an=at;continue outer}au-=aq;ap+=at.height}return ap}while(!an.lines);for(var ao=0;ao&lt;au;++ao){ap+=an.lines[ao].height}return ap}function k(){this.time=0;this.done=[];this.undone=[];this.compound=0;this.closed=false}k.prototype={addChange:function(an,at,ao){this.undone.length=0;var ap=+new Date,av=this.done[this.done.length-1],aw=av&amp;&amp;av[av.length-1];var ar=ap-this.time;if(this.compound&amp;&amp;av&amp;&amp;!this.closed){av.push({start:an,added:at,old:ao})}else{if(ar&gt;400||!aw||this.closed||aw.start&gt;an+ao.length||aw.start+aw.added&lt;an){this.done.push([{start:an,added:at,old:ao}]);this.closed=false}else{var au=Math.max(0,aw.start-an),ax=Math.max(0,(an+ao.length)-(aw.start+aw.added));for(var aq=au;aq&gt;0;--aq){aw.old.unshift(ao[aq-1])}for(var aq=ax;aq&gt;0;--aq){aw.old.push(ao[ao.length-aq])}if(au){aw.start=an}aw.added+=at-(ao.length-au-ax)}}this.time=ap},startCompound:function(){if(!this.compound++){this.closed=true}},endCompound:function(){if(!--this.compound){this.closed=true}}};function K(){x(this)}function P(an){if(!an.stop){an.stop=K}return an}function U(an){if(an.preventDefault){an.preventDefault()}else{an.returnValue=false}}function E(an){if(an.stopPropagation){an.stopPropagation()}else{an.cancelBubble=true}}function x(an){U(an);E(an)}v.e_stop=x;v.e_preventDefault=U;v.e_stopPropagation=E;function j(an){return an.target||an.srcElement}function y(an){if(an.which){return an.which}else{if(an.button&amp;1){return 1}else{if(an.button&amp;2){return 3}else{if(an.button&amp;4){return 2}}}}}function z(ao,ap){var an=ao.override&amp;&amp;ao.override.hasOwnProperty(ap);return an?ao.override[ap]:ao[ap]}function s(aq,ap,ao,an){if(typeof aq.addEventListener==&quot;function&quot;){aq.addEventListener(ap,ao,false);if(an){return function(){aq.removeEventListener(ap,ao,false)}}}else{var ar=function(at){ao(at||window.event)};aq.attachEvent(&quot;on&quot;+ap,ar);if(an){return function(){aq.detachEvent(&quot;on&quot;+ap,ar)}}}}v.connect=s;function A(){this.id=null}A.prototype={set:function(an,ao){clearTimeout(this.id);this.id=setTimeout(ao,an)}};var ac=v.Pass={toString:function(){return&quot;CodeMirror.Pass&quot;}};var O=/gecko\/\d{7}/i.test(navigator.userAgent);var J=/MSIE \d/.test(navigator.userAgent);var C=/MSIE [1-8]\b/.test(navigator.userAgent);var F=J&amp;&amp;document.documentMode==5;var f=/WebKit\//.test(navigator.userAgent);var ag=/Chrome\//.test(navigator.userAgent);var h=/Apple Computer/.test(navigator.vendor);var m=/KHTML\//.test(navigator.userAgent);var G=function(){if(C){return false}var an=document.createElement(&quot;div&quot;);return&quot;draggable&quot; in an||&quot;dragDrop&quot; in an}();var d=function(){var an=document.createElement(&quot;textarea&quot;);an.value=&quot;foo\nbar&quot;;if(an.value.indexOf(&quot;\r&quot;)&gt;-1){return&quot;\r\n&quot;}return&quot;\n&quot;}();var o=/^$/;if(O){o=/$&#39;/}else{if(h){o=/\-[^ \-?]|\?[^ !&#39;\&quot;\),.\-\/:;\?\]\}]/}else{if(ag){o=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!&#39;\&quot;\),\/]|[\.!\&quot;#&amp;%\)*+,:;=&gt;\]|\}~][\(\{\[&lt;]|\$&#39;/}}}function n(ao,an,aq){if(an==null){an=ao.search(/[^\s\u00a0]/);if(an==-1){an=ao.length}}for(var ap=0,ar=0;ap&lt;an;++ap){if(ao.charAt(ap)==&quot;\t&quot;){ar+=aq-(ar%aq)}else{++ar}}return ar}function u(an){if(an.currentStyle){return an.currentStyle}return window.getComputedStyle(an,null)}function al(ao,ax){var aq=ao.ownerDocument.body;var aw=0,av=0,at=false;for(var an=ao;an;an=an.offsetParent){var au=an.offsetLeft,ap=an.offsetTop;if(an==aq){aw+=Math.abs(au);av+=Math.abs(ap)}else{aw+=au,av+=ap}if(ax&amp;&amp;u(an).position==&quot;fixed&quot;){at=true}}var ar=ax&amp;&amp;!at?null:aq;for(var an=ao.parentNode;an!=ar;an=an.parentNode){if(an.scrollLeft!=null){aw-=an.scrollLeft;av-=an.scrollTop}}return{left:aw,top:av}}if(document.documentElement.getBoundingClientRect!=null){al=function(aq,an){try{var ap=aq.getBoundingClientRect();ap={top:ap.top,left:ap.left}}catch(ar){ap={top:0,left:0}}if(!an){if(window.pageYOffset==null){var ao=document.documentElement||document.body.parentNode;if(ao.scrollTop==null){ao=document.body}ap.top+=ao.scrollTop;ap.left+=ao.scrollLeft}else{ap.top+=window.pageYOffset;ap.left+=window.pageXOffset}}return ap}}function I(an){return an.textContent||an.innerText||an.nodeValue||&quot;&quot;}function a(an){if(t){an.selectionStart=0;an.selectionEnd=an.value.length}else{an.select()}}function ae(ao,an){return ao.line==an.line&amp;&amp;ao.ch==an.ch}function aa(ao,an){return ao.line&lt;an.line||(ao.line==an.line&amp;&amp;ao.ch&lt;an.ch)}function ab(an){return{line:an.line,ch:an.ch}}var aj=document.createElement(&quot;pre&quot;);function Q(an){aj.textContent=an;return aj.innerHTML}if(Q(&quot;a&quot;)==&quot;\na&quot;){Q=function(an){aj.textContent=an;return aj.innerHTML.slice(1)}}else{if(Q(&quot;\t&quot;)!=&quot;\t&quot;){Q=function(an){aj.innerHTML=&quot;&quot;;aj.appendChild(document.createTextNode(an));return aj.innerHTML}}}v.htmlEscape=Q;function X(aq,ap){if(!ap){return 0}if(!aq){return ap.length}for(var ao=aq.length,an=ap.length;ao&gt;=0&amp;&amp;an&gt;=0;--ao,--an){if(aq.charAt(ao)!=ap.charAt(an)){break}}return an+1}function r(aq,an){if(aq.indexOf){return aq.indexOf(an)}for(var ao=0,ap=aq.length;ao&lt;ap;++ao){if(aq[ao]==an){return ao}}return -1}function ah(an){return/\w/.test(an)||an.toUpperCase()!=an.toLowerCase()}var B=&quot;\n\nb&quot;.split(/\n/).length!=3?function(ap){var aq=0,ao,an=[];while((ao=ap.indexOf(&quot;\n&quot;,aq))&gt;-1){an.push(ap.slice(aq,ap.charAt(ao-1)==&quot;\r&quot;?ao-1:ao));aq=ao+1}an.push(ap.slice(aq));return an}:function(an){return an.split(/\r?\n/)};v.splitLines=B;var af=window.getSelection?function(ao){try{return ao.selectionStart!=ao.selectionEnd}catch(an){return false}}:function(ap){try{var an=ap.ownerDocument.selection.createRange()}catch(ao){}if(!an||an.parentElement()!=ap){return false}return an.compareEndPoints(&quot;StartToEnd&quot;,an)!=0};v.defineMode(&quot;null&quot;,function(){return{token:function(an){an.skipToEnd()}}});v.defineMIME(&quot;text/plain&quot;,&quot;null&quot;);var S={3:&quot;Enter&quot;,8:&quot;Backspace&quot;,9:&quot;Tab&quot;,13:&quot;Enter&quot;,16:&quot;Shift&quot;,17:&quot;Ctrl&quot;,18:&quot;Alt&quot;,19:&quot;Pause&quot;,20:&quot;CapsLock&quot;,27:&quot;Esc&quot;,32:&quot;Space&quot;,33:&quot;PageUp&quot;,34:&quot;PageDown&quot;,35:&quot;End&quot;,36:&quot;Home&quot;,37:&quot;Left&quot;,38:&quot;Up&quot;,39:&quot;Right&quot;,40:&quot;Down&quot;,44:&quot;PrintScrn&quot;,45:&quot;Insert&quot;,46:&quot;Delete&quot;,59:&quot;;&quot;,91:&quot;Mod&quot;,92:&quot;Mod&quot;,93:&quot;Mod&quot;,127:&quot;Delete&quot;,186:&quot;;&quot;,187:&quot;=&quot;,188:&quot;,&quot;,189:&quot;-&quot;,190:&quot;.&quot;,191:&quot;/&quot;,192:&quot;`&quot;,219:&quot;[&quot;,220:&quot;\\&quot;,221:&quot;]&quot;,222:&quot;&#39;&quot;,63276:&quot;PageUp&quot;,63277:&quot;PageDown&quot;,63275:&quot;End&quot;,63273:&quot;Home&quot;,63234:&quot;Left&quot;,63232:&quot;Up&quot;,63235:&quot;Right&quot;,63233:&quot;Down&quot;,63302:&quot;Insert&quot;,63272:&quot;Delete&quot;};v.keyNames=S;(function(){for(var an=0;an&lt;10;an++){S[an+48]=String(an)}for(var an=65;an&lt;=90;an++){S[an]=String.fromCharCode(an)}for(var an=1;an&lt;=12;an++){S[an+111]=S[an+63235]=&quot;F&quot;+an}})();return v})();CodeMirror.defineMode(&quot;javascript&quot;,function(J,N){var w=J.indentUnit;var R=N.json;var b=function(){function X(aa){return{type:aa,style:&quot;keyword&quot;}}var U=X(&quot;keyword a&quot;),Z=X(&quot;keyword b&quot;),Y=X(&quot;keyword c&quot;);var V=X(&quot;operator&quot;),W={type:&quot;atom&quot;,style:&quot;atom&quot;};return{&quot;if&quot;:U,&quot;while&quot;:U,&quot;with&quot;:U,&quot;else&quot;:Z,&quot;do&quot;:Z,&quot;try&quot;:Z,&quot;finally&quot;:Z,&quot;return&quot;:Y,&quot;break&quot;:Y,&quot;continue&quot;:Y,&quot;new&quot;:Y,&quot;delete&quot;:Y,&quot;throw&quot;:Y,&quot;var&quot;:X(&quot;var&quot;),&quot;const&quot;:X(&quot;var&quot;),let:X(&quot;var&quot;),&quot;function&quot;:X(&quot;function&quot;),&quot;catch&quot;:X(&quot;catch&quot;),&quot;for&quot;:X(&quot;for&quot;),&quot;switch&quot;:X(&quot;switch&quot;),&quot;case&quot;:X(&quot;case&quot;),&quot;default&quot;:X(&quot;default&quot;),&quot;in&quot;:V,&quot;typeof&quot;:V,&quot;instanceof&quot;:V,&quot;true&quot;:W,&quot;false&quot;:W,&quot;null&quot;:W,&quot;undefined&quot;:W,&quot;NaN&quot;:W,&quot;Infinity&quot;:W}}();var O=/[+\-*&amp;%=&lt;&gt;!?|]/;function S(W,V,U){V.tokenize=U;return U(W,V)}function h(X,U){var W=false,V;while((V=X.next())!=null){if(V==U&amp;&amp;!W){return false}W=!W&amp;&amp;V==&quot;\\&quot;}return W}var T,p;function C(W,V,U){T=W;p=U;return V}function l(Y,W){var U=Y.next();if(U==&#39;&quot;&#39;||U==&quot;&#39;&quot;){return S(Y,W,A(U))}else{if(/[\[\]{}\(\),;\:\.]/.test(U)){return C(U)}else{if(U==&quot;0&quot;&amp;&amp;Y.eat(/x/i)){Y.eatWhile(/[\da-f]/i);return C(&quot;number&quot;,&quot;number&quot;)}else{if(/\d/.test(U)){Y.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return C(&quot;number&quot;,&quot;number&quot;)}else{if(U==&quot;/&quot;){if(Y.eat(&quot;*&quot;)){return S(Y,W,f)}else{if(Y.eat(&quot;/&quot;)){Y.skipToEnd();return C(&quot;comment&quot;,&quot;comment&quot;)}else{if(W.reAllowed){h(Y,&quot;/&quot;);Y.eatWhile(/[gimy]/);return C(&quot;regexp&quot;,&quot;string-2&quot;)}else{Y.eatWhile(O);return C(&quot;operator&quot;,null,Y.current())}}}}else{if(U==&quot;#&quot;){Y.skipToEnd();return C(&quot;error&quot;,&quot;error&quot;)}else{if(O.test(U)){Y.eatWhile(O);return C(&quot;operator&quot;,null,Y.current())}else{Y.eatWhile(/[\w\$_]/);var X=Y.current(),V=b.propertyIsEnumerable(X)&amp;&amp;b[X];return(V&amp;&amp;W.kwAllowed)?C(V.type,V.style,X):C(&quot;variable&quot;,&quot;variable&quot;,X)}}}}}}}}function A(U){return function(W,V){if(!h(W,U)){V.tokenize=l}return C(&quot;string&quot;,&quot;string&quot;)}}function f(X,W){var U=false,V;while(V=X.next()){if(V==&quot;/&quot;&amp;&amp;U){W.tokenize=l;break}U=(V==&quot;*&quot;)}return C(&quot;comment&quot;,&quot;comment&quot;)}var k={atom:true,number:true,variable:true,string:true,regexp:true};function u(Z,V,U,Y,W,X){this.indented=Z;this.column=V;this.type=U;this.prev=W;this.info=X;if(Y!=null){this.align=Y}}function x(W,V){for(var U=W.localVars;U;U=U.next){if(U.name==V){return true}}}function F(Y,V,U,X,Z){var aa=Y.cc;v.state=Y;v.stream=Z;v.marked=null,v.cc=aa;if(!Y.lexical.hasOwnProperty(&quot;align&quot;)){Y.lexical.align=true}while(true){var W=aa.length?aa.pop():R?y:z;if(W(U,X)){while(aa.length&amp;&amp;aa[aa.length-1].lex){aa.pop()()}if(v.marked){return v.marked}if(U==&quot;variable&quot;&amp;&amp;x(Y,X)){return&quot;variable-2&quot;}return V}}}var v={state:null,column:null,marked:null,cc:null};function a(){for(var U=arguments.length-1;U&gt;=0;U--){v.cc.push(arguments[U])}}function H(){a.apply(null,arguments);return true}function m(V){var W=v.state;if(W.context){v.marked=&quot;def&quot;;for(var U=W.localVars;U;U=U.next){if(U.name==V){return}}W.localVars={name:V,next:W.localVars}}}var E={name:&quot;this&quot;,next:{name:&quot;arguments&quot;}};function t(){if(!v.state.context){v.state.localVars=E}v.state.context={prev:v.state.context,vars:v.state.localVars}}function s(){v.state.localVars=v.state.context.vars;v.state.context=v.state.context.prev}function j(V,W){var U=function(){var X=v.state;X.lexical=new u(X.indented,v.stream.column(),V,null,X.lexical,W)};U.lex=true;return U}function G(){var U=v.state;if(U.lexical.prev){if(U.lexical.type==&quot;)&quot;){U.indented=U.lexical.indented}U.lexical=U.lexical.prev}}G.lex=true;function c(V){return function U(W){if(W==V){return H()}else{if(V==&quot;;&quot;){return a()}else{return H(arguments.callee)}}}}function z(U){if(U==&quot;var&quot;){return H(j(&quot;vardef&quot;),K,c(&quot;;&quot;),G)}if(U==&quot;keyword a&quot;){return H(j(&quot;form&quot;),y,z,G)}if(U==&quot;keyword b&quot;){return H(j(&quot;form&quot;),z,G)}if(U==&quot;{&quot;){return H(j(&quot;}&quot;),n,G)}if(U==&quot;;&quot;){return H()}if(U==&quot;function&quot;){return H(i)}if(U==&quot;for&quot;){return H(j(&quot;form&quot;),c(&quot;(&quot;),j(&quot;)&quot;),g,c(&quot;)&quot;),G,z,G)}if(U==&quot;variable&quot;){return H(j(&quot;stat&quot;),D)}if(U==&quot;switch&quot;){return H(j(&quot;form&quot;),y,j(&quot;}&quot;,&quot;switch&quot;),c(&quot;{&quot;),n,G,G)}if(U==&quot;case&quot;){return H(y,c(&quot;:&quot;))}if(U==&quot;default&quot;){return H(c(&quot;:&quot;))}if(U==&quot;catch&quot;){return H(j(&quot;form&quot;),t,c(&quot;(&quot;),r,c(&quot;)&quot;),z,G,s)}return a(j(&quot;stat&quot;),y,c(&quot;;&quot;),G)}function y(U){if(k.hasOwnProperty(U)){return H(M)}if(U==&quot;function&quot;){return H(i)}if(U==&quot;keyword c&quot;){return H(B)}if(U==&quot;(&quot;){return H(j(&quot;)&quot;),B,c(&quot;)&quot;),G,M)}if(U==&quot;operator&quot;){return H(y)}if(U==&quot;[&quot;){return H(j(&quot;]&quot;),P(y,&quot;]&quot;),G,M)}if(U==&quot;{&quot;){return H(j(&quot;}&quot;),P(o,&quot;}&quot;),G,M)}return H()}function B(U){if(U.match(/[;\}\)\],]/)){return a()}return a(y)}function M(U,V){if(U==&quot;operator&quot;&amp;&amp;/\+\+|--/.test(V)){return H(M)}if(U==&quot;operator&quot;||U==&quot;:&quot;){return H(y)}if(U==&quot;;&quot;){return}if(U==&quot;(&quot;){return H(j(&quot;)&quot;),P(y,&quot;)&quot;),G,M)}if(U==&quot;.&quot;){return H(Q,M)}if(U==&quot;[&quot;){return H(j(&quot;]&quot;),y,c(&quot;]&quot;),G,M)}}function D(U){if(U==&quot;:&quot;){return H(G,z)}return a(M,c(&quot;;&quot;),G)}function Q(U){if(U==&quot;variable&quot;){v.marked=&quot;property&quot;;return H()}}function o(U){if(U==&quot;variable&quot;){v.marked=&quot;property&quot;}if(k.hasOwnProperty(U)){return H(c(&quot;:&quot;),y)}}function P(W,U){function V(Y){if(Y==&quot;,&quot;){return H(W,V)}if(Y==U){return H()}return H(c(U))}return function X(Y){if(Y==U){return H()}else{return a(W,V)}}}function n(U){if(U==&quot;}&quot;){return H()}return a(z,n)}function K(U,V){if(U==&quot;variable&quot;){m(V);return H(I)}return H()}function I(U,V){if(V==&quot;=&quot;){return H(y,I)}if(U==&quot;,&quot;){return H(K)}}function g(U){if(U==&quot;var&quot;){return H(K,e)}if(U==&quot;;&quot;){return a(e)}if(U==&quot;variable&quot;){return H(L)}return a(e)}function L(U,V){if(V==&quot;in&quot;){return H(y)}return H(M,e)}function e(U,V){if(U==&quot;;&quot;){return H(d)}if(V==&quot;in&quot;){return H(y)}return H(y,c(&quot;;&quot;),d)}function d(U){if(U!=&quot;)&quot;){H(y)}}function i(U,V){if(U==&quot;variable&quot;){m(V);return H(i)}if(U==&quot;(&quot;){return H(j(&quot;)&quot;),t,P(r,&quot;)&quot;),G,z,s)}}function r(U,V){if(U==&quot;variable&quot;){m(V);return H()}}return{startState:function(U){return{tokenize:l,reAllowed:true,kwAllowed:true,cc:[],lexical:new u((U||0)-w,0,&quot;block&quot;,false),localVars:N.localVars,context:N.localVars&amp;&amp;{vars:N.localVars},indented:0}},token:function(W,V){if(W.sol()){if(!V.lexical.hasOwnProperty(&quot;align&quot;)){V.lexical.align=false}V.indented=W.indentation()}if(W.eatSpace()){return null}var U=V.tokenize(W,V);if(T==&quot;comment&quot;){return U}V.reAllowed=!!(T==&quot;operator&quot;||T==&quot;keyword c&quot;||T.match(/^[\[{}\(,;:]$/));V.kwAllowed=T!=&quot;.&quot;;return F(V,U,T,p,W)},indent:function(Z,U){if(Z.tokenize!=l){return 0}var Y=U&amp;&amp;U.charAt(0),W=Z.lexical;if(W.type==&quot;stat&quot;&amp;&amp;Y==&quot;}&quot;){W=W.prev}var X=W.type,V=Y==X;if(X==&quot;vardef&quot;){return W.indented+4}else{if(X==&quot;form&quot;&amp;&amp;Y==&quot;{&quot;){return W.indented}else{if(X==&quot;stat&quot;||X==&quot;form&quot;){return W.indented+w}else{if(W.info==&quot;switch&quot;&amp;&amp;!V){return W.indented+(/^(?:case|default)\b/.test(U)?w:2*w)}else{if(W.align){return W.column+(V?0:1)}else{return W.indented+(V?0:w)}}}}}},electricChars:&quot;:{}&quot;}});CodeMirror.defineMIME(&quot;text/javascript&quot;,&quot;javascript&quot;);CodeMirror.defineMIME(&quot;application/json&quot;,{name:&quot;javascript&quot;,json:true});CodeMirror.defineMode(&quot;xml&quot;,function(z,k){var s=z.indentUnit;var y=k.htmlMode?{autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:false}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false};var a=k.alignCDATA;var f,g;function o(F,E){function C(H){E.tokenize=H;return H(F,E)}var D=F.next();if(D==&quot;&lt;&quot;){if(F.eat(&quot;!&quot;)){if(F.eat(&quot;[&quot;)){if(F.match(&quot;CDATA[&quot;)){return C(x(&quot;atom&quot;,&quot;]]&gt;&quot;))}else{return null}}else{if(F.match(&quot;--&quot;)){return C(x(&quot;comment&quot;,&quot;--&gt;&quot;))}else{if(F.match(&quot;DOCTYPE&quot;,true,true)){F.eatWhile(/[\w\._\-]/);return C(A(1))}else{return null}}}}else{if(F.eat(&quot;?&quot;)){F.eatWhile(/[\w\._\-]/);E.tokenize=x(&quot;meta&quot;,&quot;?&gt;&quot;);return&quot;meta&quot;}else{g=F.eat(&quot;/&quot;)?&quot;closeTag&quot;:&quot;openTag&quot;;F.eatSpace();f=&quot;&quot;;var G;while((G=F.eat(/[^\s\u00a0=&lt;&gt;\&quot;\&#39;\/?]/))){f+=G}E.tokenize=n;return&quot;tag&quot;}}}else{if(D==&quot;&amp;&quot;){var B;if(F.eat(&quot;#&quot;)){if(F.eat(&quot;x&quot;)){B=F.eatWhile(/[a-fA-F\d]/)&amp;&amp;F.eat(&quot;;&quot;)}else{B=F.eatWhile(/[\d]/)&amp;&amp;F.eat(&quot;;&quot;)}}else{B=F.eatWhile(/[\w\.\-:]/)&amp;&amp;F.eat(&quot;;&quot;)}return B?&quot;atom&quot;:&quot;error&quot;}else{F.eatWhile(/[^&amp;&lt;]/);return null}}}function n(D,C){var B=D.next();if(B==&quot;&gt;&quot;||(B==&quot;/&quot;&amp;&amp;D.eat(&quot;&gt;&quot;))){C.tokenize=o;g=B==&quot;&gt;&quot;?&quot;endTag&quot;:&quot;selfcloseTag&quot;;return&quot;tag&quot;}else{if(B==&quot;=&quot;){g=&quot;equals&quot;;return null}else{if(/[\&#39;\&quot;]/.test(B)){C.tokenize=j(B);return C.tokenize(D,C)}else{D.eatWhile(/[^\s\u00a0=&lt;&gt;\&quot;\&#39;\/?]/);return&quot;word&quot;}}}}function j(B){return function(D,C){while(!D.eol()){if(D.next()==B){C.tokenize=n;break}}return&quot;string&quot;}}function x(C,B){return function(E,D){while(!E.eol()){if(E.match(B)){D.tokenize=o;break}E.next()}return C}}function A(B){return function(E,D){var C;while((C=E.next())!=null){if(C==&quot;&lt;&quot;){D.tokenize=A(B+1);return D.tokenize(E,D)}else{if(C==&quot;&gt;&quot;){if(B==1){D.tokenize=o;break}else{D.tokenize=A(B-1);return D.tokenize(E,D)}}}}return&quot;meta&quot;}}var l,h;function b(){for(var B=arguments.length-1;B&gt;=0;B--){l.cc.push(arguments[B])}}function e(){b.apply(null,arguments);return true}function i(B,D){var C=y.doNotIndent.hasOwnProperty(B)||(l.context&amp;&amp;l.context.noIndent);l.context={prev:l.context,tagName:B,indent:l.indented,startOfLine:D,noIndent:C}}function v(){if(l.context){l.context=l.context.prev}}function d(B){if(B==&quot;openTag&quot;){l.tagName=f;return e(m,c(l.startOfLine))}else{if(B==&quot;closeTag&quot;){var C=false;if(l.context){if(l.context.tagName!=f){if(y.implicitlyClosed.hasOwnProperty(l.context.tagName.toLowerCase())){v()}C=!l.context||l.context.tagName!=f}}else{C=true}if(C){h=&quot;error&quot;}return e(t(C))}}return e()}function c(B){return function(C){if(C==&quot;selfcloseTag&quot;||(C==&quot;endTag&quot;&amp;&amp;y.autoSelfClosers.hasOwnProperty(l.tagName.toLowerCase()))){r(l.tagName.toLowerCase());return e()}if(C==&quot;endTag&quot;){r(l.tagName.toLowerCase());i(l.tagName,B);return e()}return e()}}function t(B){return function(C){if(B){h=&quot;error&quot;}if(C==&quot;endTag&quot;){v();return e()}h=&quot;error&quot;;return e(arguments.callee)}}function r(C){var B;while(true){if(!l.context){return}B=l.context.tagName.toLowerCase();if(!y.contextGrabbers.hasOwnProperty(B)||!y.contextGrabbers[B].hasOwnProperty(C)){return}v()}}function m(B){if(B==&quot;word&quot;){h=&quot;attribute&quot;;return e(p,m)}if(B==&quot;endTag&quot;||B==&quot;selfcloseTag&quot;){return b()}h=&quot;error&quot;;return e(m)}function p(B){if(B==&quot;equals&quot;){return e(w,m)}if(!y.allowMissing){h=&quot;error&quot;}return(B==&quot;endTag&quot;||B==&quot;selfcloseTag&quot;)?b():e()}function w(B){if(B==&quot;string&quot;){return e(u)}if(B==&quot;word&quot;&amp;&amp;y.allowUnquoted){h=&quot;string&quot;;return e()}h=&quot;error&quot;;return(B==&quot;endTag&quot;||B==&quot;selfCloseTag&quot;)?b():e()}function u(B){if(B==&quot;string&quot;){return e(u)}else{return b()}}return{startState:function(){return{tokenize:o,cc:[],indented:0,startOfLine:true,tagName:null,context:null}},token:function(E,D){if(E.sol()){D.startOfLine=true;D.indented=E.indentation()}if(E.eatSpace()){return null}h=g=f=null;var C=D.tokenize(E,D);D.type=g;if((C||g)&amp;&amp;C!=&quot;comment&quot;){l=D;while(true){var B=D.cc.pop()||d;if(B(g||C)){break}}}D.startOfLine=false;return h||C},indent:function(E,B,D){var C=E.context;if((E.tokenize!=n&amp;&amp;E.tokenize!=o)||C&amp;&amp;C.noIndent){return D?D.match(/^(\s*)/)[0].length:0}if(a&amp;&amp;/&lt;!\[CDATA\[/.test(B)){return 0}if(C&amp;&amp;/^&lt;\//.test(B)){C=C.prev}while(C&amp;&amp;!C.startOfLine){C=C.prev}if(C){return C.indent+s}else{return 0}},compareStates:function(E,C){if(E.indented!=C.indented||E.tokenize!=C.tokenize){return false}for(var D=E.context,B=C.context;;D=D.prev,B=B.prev){if(!D||!B){return D==B}if(D.tagName!=B.tagName){return false}}},electricChars:&quot;/&quot;}});CodeMirror.defineMIME(&quot;application/xml&quot;,&quot;xml&quot;);if(!CodeMirror.mimeModes.hasOwnProperty(&quot;text/html&quot;)){CodeMirror.defineMIME(&quot;text/html&quot;,{name:&quot;xml&quot;,htmlMode:true})}CodeMirror.defineMode(&quot;markdown&quot;,function(C,m){var i=CodeMirror.getMode(C,{name:&quot;xml&quot;,htmlMode:true});var z=&quot;header&quot;,d=&quot;comment&quot;,B=&quot;quote&quot;,A=&quot;string&quot;,F=&quot;hr&quot;,t=&quot;link&quot;,E=&quot;string&quot;,g=&quot;em&quot;,j=&quot;strong&quot;,x=&quot;emstrong&quot;;var G=/^([*\-=_])(?:\s*\1){2,}\s*$/,p=/^[*\-+]\s+/,v=/^[0-9]+\.\s+/,n=/^(?:\={3,}|-{3,})$/,f=/^[^\[*_\\&lt;&gt;`]+/;function e(J,I,H){I.f=I.inline=H;return H(J,I)}function s(J,I,H){I.f=I.block=H;return H(J,I)}function o(H){H.em=false;H.strong=false;return null}function l(J,I){var H;if(I.indentationDiff&gt;=4){I.indentation-=I.indentationDiff;J.skipToEnd();return d}else{if(J.eatSpace()){return null}else{if(J.peek()===&quot;#&quot;||J.match(n)){I.header=true}else{if(J.eat(&quot;&gt;&quot;)){I.indentation++;I.quote=true}else{if(J.peek()===&quot;[&quot;){return e(J,I,k)}else{if(J.match(G,true)){return F}else{if(H=J.match(p,true)||J.match(v,true)){I.indentation+=H[0].length;return A}}}}}}}return e(J,I,I.inline)}function y(J,I){var H=i.token(J,I.htmlState);if(H===&quot;tag&quot;&amp;&amp;I.htmlState.type!==&quot;openTag&quot;&amp;&amp;!I.htmlState.context){I.f=r;I.block=l}return H}function u(I){var H=[];if(I.strong){H.push(I.em?x:j)}else{if(I.em){H.push(g)}}if(I.header){H.push(z)}if(I.quote){H.push(B)}return H.length?H.join(&quot; &quot;):null}function b(I,H){if(I.match(f,true)){return u(H)}return undefined}function r(L,K){var J=K.text(L,K);if(typeof J!==&quot;undefined&quot;){return J}var I=L.next();if(I===&quot;\\&quot;){L.next();return u(K)}if(I===&quot;`&quot;){return e(L,K,w(d,&quot;`&quot;))}if(I===&quot;[&quot;){return e(L,K,D)}if(I===&quot;&lt;&quot;&amp;&amp;L.match(/^\w/,false)){L.backUp(1);return s(L,K,y)}var H=u(K);if(I===&quot;*&quot;||I===&quot;_&quot;){if(L.eat(I)){return(K.strong=!K.strong)?u(K):H}return(K.em=!K.em)?u(K):H}return u(K)}function D(J,I){while(!J.eol()){var H=J.next();if(H===&quot;\\&quot;){J.next()}if(H===&quot;]&quot;){I.inline=I.f=h;return t}}return t}function h(J,I){J.eatSpace();var H=J.next();if(H===&quot;(&quot;||H===&quot;[&quot;){return e(J,I,w(E,H===&quot;(&quot;?&quot;)&quot;:&quot;]&quot;))}return&quot;error&quot;}function k(I,H){if(I.match(/^[^\]]*\]:/,true)){H.f=a;return t}return e(I,H,r)}function a(I,H){I.eatSpace();I.match(/^[^\s]+/,true);H.f=H.inline=r;return E}function c(H){if(!c[H]){c[H]=new RegExp(&quot;^(?:[^\\\\\\&quot;+H+&quot;]|\\\\.)*(?:\\&quot;+H+&quot;|$)&quot;)}return c[H]}function w(I,J,H){H=H||r;return function(L,K){L.match(c(J));K.inline=K.f=H;return I}}return{startState:function(){return{f:l,block:l,htmlState:i.startState(),indentation:0,inline:r,text:b,em:false,strong:false,header:false,quote:false}},copyState:function(H){return{f:H.f,block:H.block,htmlState:CodeMirror.copyState(i,H.htmlState),indentation:H.indentation,inline:H.inline,text:H.text,em:H.em,strong:H.strong,header:H.header,quote:H.quote}},token:function(J,I){if(J.sol()){if(J.match(/^\s*$/,true)){return o(I)}I.header=false;I.quote=false;I.f=I.block;var H=J.match(/^\s*/,true)[0].replace(/\t/g,&quot;    &quot;).length;I.indentationDiff=H-I.indentation;I.indentation=H;if(H&gt;0){return null}}return I.f(J,I)},blankLine:o,getType:u}},&quot;xml&quot;);CodeMirror.defineMIME(&quot;text/x-markdown&quot;,&quot;markdown&quot;);Ext.define(&quot;Docs.History&quot;,{singleton:true,init:function(){Ext.util.History.useTopWindow=false;Ext.util.History.init(function(){this.historyLoaded=true;this.initialNavigate()},this);Ext.util.History.on(&quot;change&quot;,function(b){this.navigate(b,true)},this)},notifyTabsLoaded:function(){this.tabsLoaded=true;this.initialNavigate()},initialNavigate:function(){if(this.tabsLoaded&amp;&amp;this.historyLoaded){this.navigate(Ext.util.History.getToken(),true)}},navigate:function(e,g){var f=this.parseToken(e);if(f.url==&quot;#!/api&quot;){Docs.App.getController(&quot;Classes&quot;).loadIndex(g)}else{if(f.type===&quot;api&quot;){Docs.App.getController(&quot;Classes&quot;).loadClass(f.url,g)}else{if(f.url===&quot;#!/guide&quot;){Docs.App.getController(&quot;Guides&quot;).loadIndex(g)}else{if(f.type===&quot;guide&quot;){Docs.App.getController(&quot;Guides&quot;).loadGuide(f.url,g)}else{if(f.url===&quot;#!/video&quot;){Docs.App.getController(&quot;Videos&quot;).loadIndex(g)}else{if(f.type===&quot;video&quot;){Docs.App.getController(&quot;Videos&quot;).loadVideo(f.url,g)}else{if(f.url===&quot;#!/example&quot;){Docs.App.getController(&quot;Examples&quot;).loadIndex()}else{if(f.type===&quot;example&quot;){Docs.App.getController(&quot;Examples&quot;).loadExample(f.url,g)}else{if(f.url===&quot;#!/comment&quot;){Docs.App.getController(&quot;Comments&quot;).loadIndex()}else{if(f.url===&quot;#!/tests&quot;){Docs.App.getController(&quot;Tests&quot;).loadIndex()}else{if(Docs.App.getController(&quot;Welcome&quot;).isActive()){Docs.App.getController(&quot;Welcome&quot;).loadIndex(g)}else{if(!this.noRepeatNav){this.noRepeatNav=true;var h=Ext.getCmp(&quot;doctabs&quot;).staticTabs[0];if(h){this.navigate(h.href,g)}}}}}}}}}}}}}},parseToken:function(d){var c=d&amp;&amp;d.match(/!?(\/(api|guide|example|video|comment|tests)(\/(.*))?)/);return c?{type:c[2],url:&quot;#!&quot;+c[1]}:{}},push:function(e,f){e=this.cleanUrl(e);if(!/^#!?/.test(e)){e=&quot;#!&quot;+e}var d=Ext.util.History.getToken()||&quot;&quot;;if(&quot;#&quot;+d.replace(/^%21/,&quot;!&quot;)!==e){Ext.util.History.add(e)}},cleanUrl:function(b){return b.replace(/^[^#]*#/,&quot;#&quot;)}});Ext.define(&quot;Docs.Auth&quot;,{singleton:true,requires:[&quot;Ext.Ajax&quot;,&quot;Ext.util.Cookies&quot;],init:function(c,d){Ext.Ajax.request({url:Docs.data.commentsUrl+&quot;/session&quot;,params:{sid:this.getSid()},method:&quot;GET&quot;,cors:true,callback:function(g,a,h){if(h&amp;&amp;h.responseText){var b=Ext.JSON.decode(h.responseText);if(b&amp;&amp;b.sessionID){this.setSid(b.sessionID)}if(b&amp;&amp;b.userName){this.currentUser=b}c.call(d,true)}else{c.call(d,false)}},scope:this})},login:function(b){Ext.Ajax.request({url:Docs.data.commentsUrl+&quot;/login&quot;,method:&quot;POST&quot;,cors:true,params:{username:b.username,password:b.password},callback:function(h,f,a){var g=Ext.JSON.decode(a.responseText);if(g.success){this.currentUser=g;this.setSid(g.sessionID,b.remember);b.success&amp;&amp;b.success.call(b.scope)}else{b.failure&amp;&amp;b.failure.call(b.scope,g.reason)}},scope:this})},logout:function(c,d){Ext.Ajax.request({url:Docs.data.commentsUrl+&quot;/logout?sid=&quot;+this.getSid(),method:&quot;POST&quot;,cors:true,callback:function(){this.currentUser=undefined;c&amp;&amp;c.call(d)},scope:this})},setSid:function(d,f){this.sid=d;if(d){var e=null;if(f){e=new Date();e.setTime(e.getTime()+(60*60*24*30*1000))}Ext.util.Cookies.set(&quot;sid&quot;,d,e)}else{Ext.util.Cookies.clear(&quot;sid&quot;)}},getSid:function(){if(!this.sid){this.sid=Ext.util.Cookies.get(&quot;sid&quot;)}return this.sid},getUser:function(){return this.currentUser},isLoggedIn:function(){return !!this.getUser()},isModerator:function(){return this.getUser()&amp;&amp;this.getUser().mod},getRegistrationUrl:function(){return Docs.data.commentsUrl+&quot;/register&quot;}});Ext.define(&quot;Docs.CommentCounts&quot;,{constructor:function(b){this.counts={};Ext.Array.each(b,function(a){this.counts[a._id]=a.value},this)},get:function(b){return this.counts[b.join(&quot;__&quot;)]||0},change:function(c,d){delete this.totals;return this.counts[c.join(&quot;__&quot;)]=this.get(c)+d},getClassTotal:function(b){if(!this.totals){this.totals={};Ext.Object.each(this.counts,function(a,f){var e=a.split(&quot;__&quot;);if(e[0]===&quot;class&quot;){this.totals[e[1]]=(this.totals[e[1]]||0)+f}},this)}return this.totals[b]}});Ext.define(&quot;Docs.CommentSubscriptions&quot;,{constructor:function(b){this.subscriptions={};Ext.Array.each(b,function(a){this.subscriptions[a.join(&quot;__&quot;)]=true},this)},has:function(b){return this.subscriptions[b.join(&quot;__&quot;)]},set:function(c,d){this.subscriptions[c.join(&quot;__&quot;)]=d}});Ext.define(&quot;Docs.LocalStore&quot;,{storeName:&quot;&quot;,init:function(){this.localStorage=!!window.localStorage;this.store=Ext.create(this.storeName);if(this.localStorage){this.cleanup();this.store.load();if(window.addEventListener){window.addEventListener(&quot;storage&quot;,Ext.Function.bind(this.onStorageChange,this),false)}else{window.attachEvent(&quot;onstorage&quot;,Ext.Function.bind(this.onStorageChange,this))}}},onStorageChange:function(b){b=b||window.event;if(b.key===this.store.getProxy().id){this.store.load()}},syncStore:function(){this.localStorage&amp;&amp;this.store.sync()},cleanup:function(){var f=/-settings/;for(var d=0;d&lt;window.localStorage.length;d++){var e=window.localStorage.key(d);if(!f.test(e)){window.localStorage.removeItem(e)}}}});Ext.define(&quot;Docs.view.Header&quot;,{extend:&quot;Ext.container.Container&quot;,alias:&quot;widget.docheader&quot;,contentEl:&quot;header-content&quot;,initComponent:function(){if(Docs.otherProducts){this.style=&quot;cursor: pointer;&quot;,this.cls=&quot;dropdown&quot;;this.menu=Ext.create(&quot;Ext.menu.Menu&quot;,{renderTo:Ext.getBody(),plain:true,items:Docs.otherProducts})}this.callParent()},listeners:{afterrender:function(b){if(this.menu){b.el.addListener(&quot;click&quot;,function(d,a){this.menu.showBy(this.el,&quot;bl&quot;,[120,0])},this)}}}});Ext.define(&quot;Docs.view.examples.Container&quot;,{extend:&quot;Ext.panel.Panel&quot;,alias:&quot;widget.examplecontainer&quot;,layout:&quot;fit&quot;,initComponent:function(){this.dockedItems=[{xtype:&quot;container&quot;,dock:&quot;top&quot;,html:[&#39;&lt;div class=&quot;cls-grouping example-toolbar&quot;&gt;&#39;,&quot;&lt;div&gt;&quot;,&#39;&lt;button class=&quot;new-window&quot;&gt;Open in new window&lt;/button&gt;&#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;)}];this.tpl=new Ext.XTemplate(&#39;&lt;iframe style=&quot;width: 100%; height: 100%; border: 0;&quot; src=&quot;{url}&quot;&gt;&lt;/iframe&gt;&#39;);this.callParent(arguments)},load:function(b){this.update(this.tpl.apply(b))},clear:function(){this.update(&quot;&quot;)}});Ext.define(&quot;Docs.controller.Content&quot;,{extend:&quot;Ext.app.Controller&quot;,MIDDLE:1,title:&quot;&quot;,loadIndex:function(b){b||Docs.History.push(this.baseUrl);this.getViewport().setPageTitle(this.title);Ext.getCmp(&quot;doctabs&quot;).activateTab(this.baseUrl);Ext.getCmp(&quot;card-panel&quot;).layout.setActiveItem(this.getIndex());this.getIndex().restoreScrollState()},opensNewWindow:function(b){return b.button===this.MIDDLE||b.shiftKey||b.ctrlKey},getBaseUrl:function(){return document.location.href.replace(/\/?(index.html|template.html)?(\?[^#]*)?#.*/,&quot;&quot;)}});Ext.define(&quot;Docs.Syntax&quot;,{singleton:true,highlight:function(b){Ext.Array.forEach(Ext.query(&quot;pre&quot;,b.dom||b),function(a){a=Ext.get(a);if(a.child(&quot;code&quot;)){if(!(a.hasCls(&quot;inline-example&quot;)&amp;&amp;a.hasCls(&quot;preview&quot;))){a.addCls(&quot;prettyprint&quot;)}}else{if(!a.parent(&quot;.CodeMirror&quot;)&amp;&amp;!a.hasCls(&quot;hierarchy&quot;)){a.addCls(&quot;notpretty&quot;)}}});prettyPrint()}});Ext.define(&quot;Docs.ClassRegistry&quot;,{singleton:true,canonicalName:function(b){if(!this.altNames){this.altNames={};Ext.each(Docs.data.search,function(a){if(a.type===&quot;class&quot;&amp;&amp;!/:/.test(a.cls)){this.altNames[a.cls]=a.id}},this)}return this.altNames[b]||b},shortName:function(b){return b.split(/\./).pop()},packageName:function(b){return b.slice(0,-this.shortName(b).length-1)||&quot;&quot;},search:function(S,H){var J=5;var T=4;var X=3;var K=new Array(J*T*X);for(var E=0;E&lt;K.length;E++){K[E]=[]}var O=J*T*0;var Z=J*T*1;var R=J*T*2;var U=J*0;var L=J*1;var W=J*2;var F=J*3;if(H){var P=4;for(var E=0;E&lt;H.length;E++){var i=H[E];if(i.score&gt;5){K[P+U+O].push(i)}else{if(i.score&gt;1){K[P+U+Z].push(i)}else{K[P+U+R].push(i)}}}}var M=/[.:]/.test(S);var G=Ext.escapeRe(S);var g=new RegExp(&quot;^&quot;+G+&quot;$&quot;,&quot;i&quot;);var Y=new RegExp(&quot;^&quot;+G,&quot;i&quot;);var N=new RegExp(G,&quot;i&quot;);var V=Docs.data.search;for(var E=0,r=V.length;E&lt;r;E++){var Q=V[E];var I=M?Q.fullName:Q.name;var D=Q.meta.removed?F:(Q.meta[&quot;private&quot;]?W:(Q.meta.deprecated?L:U));if(g.test(I)){K[Q.sort+D+O].push(this.highlightMatch(Q,g))}else{if(Y.test(I)){K[Q.sort+D+Z].push(this.highlightMatch(Q,Y))}else{if(N.test(I)){K[Q.sort+D+R].push(this.highlightMatch(Q,N))}}}}return Ext.Array.flatten(K)},highlightMatch:function(c,d){c=Ext.apply({},c);c.name=c.name.replace(d,&quot;&lt;strong&gt;$&amp;&lt;/strong&gt;&quot;);c.fullName=c.fullName.replace(d,&quot;&lt;strong&gt;$&amp;&lt;/strong&gt;&quot;);return c}});Ext.define(&quot;Docs.GuideSearch&quot;,{singleton:true,isEnabled:function(){return !!Docs.data.guideSearch.url},deferredSearch:function(f,h,j,g){clearTimeout(this.timeout);var i=this.timeout=Ext.Function.defer(function(){this.search(f,function(a){if(i===this.timeout){h.call(j,a)}},this)},g,this)},search:function(f,g,e){var h=this.currentRequest=Ext.data.JsonP.request({url:Docs.data.guideSearch.url,params:{fragsize:32,max_fragments:1,q:f,product:Docs.data.guideSearch.product,version:Docs.data.guideSearch.version,start:0,limit:100},callback:function(a,b){if(a&amp;&amp;b.success&amp;&amp;this.currentRequest===h){g.call(e,Ext.Array.map(b.docs,this.adaptJson,this))}},scope:this})},adaptJson:function(b){return{icon:&quot;icon-guide&quot;,name:this.format(b.title),fullName:this.format(b.body),url:b.url,meta:{},score:b.score}},format:function(c){var d=c.replace(/\s+/g,&quot; &quot;);return d.replace(/&lt;em class=&quot;match&quot;&gt;(.*?)&lt;\/em&gt;/g,&quot;&lt;strong&gt;$1&lt;/strong&gt;&quot;)}});Ext.define(&quot;Docs.store.Search&quot;,{extend:&quot;Ext.data.Store&quot;,fields:[&quot;name&quot;,&quot;fullName&quot;,&quot;icon&quot;,&quot;url&quot;,&quot;meta&quot;,&quot;sort&quot;],proxy:{type:&quot;memory&quot;,reader:{type:&quot;json&quot;}}});Ext.define(&quot;Docs.model.Setting&quot;,{fields:[&quot;id&quot;,&quot;key&quot;,&quot;value&quot;],extend:&quot;Ext.data.Model&quot;,requires:[&quot;Ext.data.proxy.LocalStorage&quot;],proxy:{type:window.localStorage?&quot;localstorage&quot;:&quot;memory&quot;,id:Docs.data.localStorageDb+&quot;-settings&quot;}});Ext.define(&quot;Docs.view.search.Dropdown&quot;,{extend:&quot;Ext.view.View&quot;,alias:&quot;widget.searchdropdown&quot;,floating:true,autoShow:false,autoRender:true,toFrontOnShow:true,focusOnToFront:false,store:&quot;Search&quot;,id:&quot;search-dropdown&quot;,overItemCls:&quot;x-view-over&quot;,trackOver:true,itemSelector:&quot;div.item&quot;,singleSelect:true,pageStart:0,pageSize:10,initComponent:function(){this.addEvents(&quot;changePage&quot;,&quot;footerClick&quot;);this.tpl=new Ext.XTemplate(&#39;&lt;tpl for=&quot;.&quot;&gt;&#39;,&#39;&lt;div class=&quot;item&quot;&gt;&#39;,&#39;&lt;div class=&quot;icon {icon}&quot;&gt;&lt;/div&gt;&#39;,&#39;&lt;div class=&quot;meta&quot;&gt;{[this.getMetaTags(values.meta)]}&lt;/div&gt;&#39;,&#39;&lt;div class=&quot;title {[this.getCls(values.meta)]}&quot;&gt;{name}&lt;/div&gt;&#39;,&#39;&lt;div class=&quot;class&quot;&gt;{fullName}&lt;/div&gt;&#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/tpl&gt;&quot;,&#39;&lt;div class=&quot;footer&quot;&gt;&#39;,&#39;&lt;tpl if=&quot;this.getTotal()&quot;&gt;&#39;,&#39;&lt;a href=&quot;#&quot; class=&quot;prev&quot;&gt;&amp;lt;&lt;/a&gt;&#39;,&#39;&lt;span class=&quot;total&quot;&gt;{[this.getStart()+1]}-{[this.getEnd()]} of {[this.getTotal()]}&lt;/span&gt;&#39;,&#39;&lt;a href=&quot;#&quot; class=&quot;next&quot;&gt;&amp;gt;&lt;/a&gt;&#39;,&quot;&lt;tpl else&gt;&quot;,&#39;&lt;span class=&quot;total&quot;&gt;Nothing found&lt;/span&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;/div&gt;&quot;,{getCls:function(b){return b[&quot;private&quot;]?&quot;private&quot;:(b.removed?&quot;removed&quot;:&quot;&quot;)},getMetaTags:function(b){return Ext.Array.map(Docs.data.signatures,function(a){return b[a.key]?&#39;&lt;span class=&quot;signature &#39;+a.key+&#39;&quot;&gt;&#39;+(a[&quot;short&quot;])+&quot;&lt;/span&gt;&quot;:&quot;&quot;}).join(&quot; &quot;)},getTotal:Ext.bind(this.getTotal,this),getStart:Ext.bind(this.getStart,this),getEnd:Ext.bind(this.getEnd,this)});this.on(&quot;afterrender&quot;,function(){this.el.addListener(&quot;click&quot;,function(){this.fireEvent(&quot;changePage&quot;,this,-1)},this,{preventDefault:true,delegate:&quot;.prev&quot;});this.el.addListener(&quot;click&quot;,function(){this.fireEvent(&quot;changePage&quot;,this,+1)},this,{preventDefault:true,delegate:&quot;.next&quot;});this.el.addListener(&quot;click&quot;,function(){this.fireEvent(&quot;footerClick&quot;,this)},this,{delegate:&quot;.footer&quot;})},this);this.callParent(arguments)},setTotal:function(b){this.total=b},getTotal:function(){return this.total},setStart:function(b){this.pageStart=b},getStart:function(b){return this.pageStart},getEnd:function(c){var d=this.pageStart+this.pageSize;return d&gt;this.total?this.total:d}});Ext.define(&quot;Docs.view.TabMenu&quot;,{extend:&quot;Ext.menu.Menu&quot;,plain:true,componentCls:&quot;tab-menu&quot;,initComponent:function(){this.addEvents(&quot;tabItemClick&quot;,&quot;closeAllTabs&quot;);this.items=[{text:&quot;Close other tabs&quot;,iconCls:&quot;close&quot;,cls:&quot;close-all&quot;,handler:function(){this.fireEvent(&quot;closeAllTabs&quot;)},scope:this}];this.callParent()},addTab:function(c,d){this.insert(this.items.length-1,{text:c.text,iconCls:c.iconCls,origIcon:c.iconCls,href:c.href,cls:d,handler:this.onTabItemClick,scope:this})},onTabItemClick:function(b){this.fireEvent(&quot;tabItemClick&quot;,b)},addTabCls:function(c,d){this.items.each(function(a){if(a.href===c.href){a.addCls(d)}})}});Ext.define(&quot;Docs.view.Scrolling&quot;,{onClassMixedIn:function(b){Ext.Function.interceptBefore(b.prototype,&quot;initComponent&quot;,this.prototype.initScrolling)},initScrolling:function(){this.scrollContext=&quot;index&quot;;this.scrollState={};this.on(&quot;afterrender&quot;,function(){this.getScrollEl().addListener(&quot;scroll&quot;,this.saveScrollState,this)},this)},setScrollContext:function(b){this.scrollContext=b},eraseScrollContext:function(b){delete this.scrollState[b]},saveScrollState:function(){this.scrollState[this.scrollContext]=this.getScrollTop()},restoreScrollState:function(){this.setScrollTop(this.scrollState[this.scrollContext]||0)},scrollToView:function(d,c){d=Ext.get(d);c=c||{};if(d){this.setScrollTop(this.getScrollTop()+d.getY()+(c.offset||0));c.highlight&amp;&amp;d.highlight()}},getScrollTop:function(){return this.getScrollEl().getScroll()[&quot;top&quot;]},setScrollTop:function(b){return this.getScrollEl().scrollTo(&quot;top&quot;,b)},scrollToTop:function(){this.getScrollEl().scrollTo(&quot;top&quot;)},getScrollEl:function(){return this.body||this.el}});Ext.define(&quot;Docs.ContentGrabber&quot;,{singleton:true,get:function(f){var e;var d=Ext.get(f);if(d){e=d.dom.innerHTML;d.remove()}return e}});Ext.define(&quot;Docs.view.comments.HeaderMenu&quot;,{extend:&quot;Ext.container.Container&quot;,alias:&quot;widget.commentsHeaderMenu&quot;,componentCls:&quot;comments-header-menu&quot;,html:[&quot;&lt;h1&gt;&quot;,&#39;  &lt;a href=&quot;#&quot; class=&quot;users selected&quot;&gt;Users&lt;/a&gt;&#39;,&#39;  &lt;a href=&quot;#&quot; class=&quot;targets&quot;&gt;Topics&lt;/a&gt;&#39;,&#39;  &lt;a href=&quot;#&quot; class=&quot;tags&quot;&gt;Tags&lt;/a&gt;&#39;,&quot;&lt;/h1&gt;&quot;].join(&quot;&quot;),afterRender:function(){this.callParent(arguments);Ext.Array.forEach([&quot;users&quot;,&quot;targets&quot;,&quot;tags&quot;],function(d){var c=this.getEl().down(&quot;a.&quot;+d);c.on(&quot;click&quot;,function(b,a){this.getEl().select(&quot;a&quot;,true).removeCls(&quot;selected&quot;);c.addCls(&quot;selected&quot;);this.fireEvent(&quot;select&quot;,d)},this,{preventDefault:true})},this)}});Ext.define(&quot;Docs.view.cls.Header&quot;,{extend:&quot;Ext.container.Container&quot;,padding:&quot;10 0 17 0&quot;,height:55,alias:&quot;widget.classheader&quot;,cls:&quot;classheader&quot;,initComponent:function(){this.tpl=Ext.create(&quot;Ext.XTemplate&quot;,&#39;&lt;h1 class=&quot;{[this.getClass(values)]}&quot;&gt;&#39;,&#39;&lt;tpl if=&quot;Docs.data.source&quot;&gt;&#39;,&#39;&lt;a href=&quot;#&quot; class=&quot;class-source-link&quot;&gt;{name}&#39;,&#39;&lt;span class=&quot;class-source-tip&quot;&gt;View source...&lt;/span&gt;&#39;,&quot;&lt;/a&gt;&quot;,&quot;&lt;tpl else&gt;&quot;,&#39;&lt;strong class=&quot;class-source-link&quot;&gt;{name}&lt;/strong&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&#39;&lt;tpl if=&quot;singleton&quot;&gt;&#39;,&quot;&lt;span&gt;singleton&lt;/span&gt;&quot;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;tpl if=\&quot;values[&#39;enum&#39;]\&quot;&gt;&quot;,&#39;&lt;span&gt;enum of &lt;b&gt;{[values[&quot;enum&quot;].type]}&lt;/b&gt;&lt;/span&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&quot;{[this.renderAliases(values.aliases)]}&quot;,&quot;{[this.renderMetaTags(values.meta)]}&quot;,&quot;&lt;/h1&gt;&quot;,&#39;&lt;tpl if=&quot;Docs.data.showPrintButton&quot;&gt;&#39;,&#39;&lt;a class=&quot;print&quot; href=&quot;?print=/api/{name}&quot; target=&quot;_blank&quot;&gt;Print&lt;/a&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,{getClass:function(b){if(b.singleton){return&quot;singleton&quot;}else{if(b.component){return&quot;component&quot;}else{return&quot;class&quot;}}},renderAliases:function(e){var f={widget:&quot;xtype&quot;,plugin:&quot;ptype&quot;,feature:&quot;ftype&quot;};var d=[];e&amp;&amp;Ext.Object.each(e,function(a,b){d.push((f[a]||a)+&quot;: &quot;+b.join(&quot;, &quot;))});if(d.length&gt;0){return&quot;&lt;span&gt;&quot;+d.join(&quot;, &quot;)+&quot;&lt;/span&gt;&quot;}else{return&quot;&quot;}},renderMetaTags:function(b){return&quot; &quot;+Ext.Array.map(Docs.data.signatures,function(a){return b[a.key]?&#39;&lt;span class=&quot;signature &#39;+a.key+&#39;&quot;&gt;&#39;+(a[&quot;long&quot;])+&quot;&lt;/span&gt;&quot;:&quot;&quot;}).join(&quot; &quot;)}});if(Docs.data.source){this.on(&quot;render&quot;,this.initSourceLink,this)}this.callParent()},initSourceLink:function(){this.classLinkEvent(&quot;click&quot;,function(){var d=this.loadedCls.files;if(d.length===1){window.open(&quot;source/&quot;+d[0].href)}else{var c=this.createFileMenu(d);c.showBy(this,undefined,[58,-20])}},this);this.classLinkEvent(&quot;mouseover&quot;,function(){this.el.down(&quot;.class-source-tip&quot;).addCls(&quot;hover&quot;)},this);this.classLinkEvent(&quot;mouseout&quot;,function(){this.el.down(&quot;.class-source-tip&quot;).removeCls(&quot;hover&quot;)},this)},classLinkEvent:function(d,e,f){this.el.on(d,e,f,{preventDefault:true,delegate:&quot;a.class-source-link&quot;})},createFileMenu:function(b){return new Ext.menu.Menu({items:Ext.Array.map(b,function(a){return{text:a.filename,handler:function(){window.open(&quot;source/&quot;+a.href)}}},this)})},load:function(b){this.loadedCls=b;this.update(this.tpl.apply(b))}});Ext.define(&quot;Docs.view.examples.Device&quot;,{config:{url:&quot;&quot;,id:undefined,device:&quot;phone&quot;,orientation:&quot;landscape&quot;},constructor:function(b){this.initConfig(b);Ext.apply(this,this.getIframeSize());this.id=this.id||Ext.id();this.tpl=new Ext.XTemplate(&#39;&lt;div class=&quot;touchExample {device} {orientation}&quot;&gt;&#39;,&#39;&lt;iframe id={id} style=&quot;width: {width}; height: {height}; border: 0;&quot; &#39;,&#39;src=&quot;{[this.deviceUrl(values)]}&quot;&gt;&lt;/iframe&gt;&#39;,&quot;&lt;/div&gt;&quot;,{deviceUrl:function(a){return a.url+&quot;?deviceType=&quot;+(a.device===&quot;tablet&quot;?&quot;Tablet&quot;:&quot;Phone&quot;)}})},toHtml:function(){return this.tpl.apply(this)},setDevice:function(b){this.device=b;Ext.apply(this,this.getIframeSize())},setOrientation:function(b){this.orientation=b;Ext.apply(this,this.getIframeSize())},getIframeSize:function(){var b={phone:{width:&quot;481px&quot;,height:&quot;320px&quot;},miniphone:{width:&quot;320px&quot;,height:&quot;219px&quot;},tablet:{width:&quot;717px&quot;,height:&quot;538px&quot;}}[this.device];if(this.orientation===&quot;landscape&quot;){return b}else{return{width:b.height,height:b.width}}}});Ext.define(&quot;Docs.model.Test&quot;,{extend:&quot;Ext.data.Model&quot;,fields:[&quot;id&quot;,&quot;name&quot;,&quot;href&quot;,&quot;code&quot;,&quot;options&quot;,{name:&quot;status&quot;,defaultValue:&quot;ready&quot;},&quot;message&quot;]});Ext.define(&quot;Docs.view.examples.InlineToolbar&quot;,{extend:&quot;Ext.toolbar.Toolbar&quot;,componentCls:&quot;inline-example-tb&quot;,height:30,initComponent:function(){this.addEvents(&quot;buttonclick&quot;);this.items=[{iconCls:&quot;code&quot;,padding:&quot;0 2 0 0&quot;,margin:&quot;0 3 0 0&quot;,text:&quot;Code Editor&quot;,handler:this.createEventFirerer(&quot;code&quot;)},{padding:0,margin:&quot;0 3 0 0&quot;,iconCls:&quot;preview&quot;,text:&quot;Live Preview&quot;,handler:this.createEventFirerer(&quot;preview&quot;)},&quot;-&gt;&quot;,{padding:0,margin:0,iconCls:&quot;copy&quot;,text:&quot;Select Code&quot;,handler:this.createEventFirerer(&quot;copy&quot;)}];this.callParent(arguments)},createEventFirerer:function(b){return Ext.Function.bind(function(){this.fireEvent(&quot;buttonclick&quot;,b)},this)},activateButton:function(b){Ext.Array.each(this.query(&quot;button&quot;),function(a){a.removeCls(&quot;active&quot;)});Ext.Array.each(this.query(&quot;button[iconCls=&quot;+b+&quot;]&quot;),function(a){a.addCls(&quot;active&quot;)})}});Ext.define(&quot;Docs.view.DocTree&quot;,{extend:&quot;Ext.tree.Panel&quot;,alias:&quot;widget.doctree&quot;,cls:&quot;doc-tree iScroll&quot;,useArrows:true,rootVisible:false,border:false,bodyBorder:false,initComponent:function(){this.addEvents(&quot;urlclick&quot;);this.root.expanded=true;this.on(&quot;itemclick&quot;,this.onItemClick,this);this.on(&quot;beforeitemcollapse&quot;,this.handleBeforeExpandCollapse,this);this.on(&quot;beforeitemexpand&quot;,this.handleBeforeExpandCollapse,this);this.callParent();this.nodeTpl=new Ext.XTemplate(&#39;&lt;a href=&quot;{url}&quot; rel=&quot;{url}&quot;&gt;{text}&lt;/a&gt;&#39;);this.initNodeLinks()},initNodeLinks:function(){this.getRootNode().cascadeBy(this.applyNodeTpl,this)},applyNodeTpl:function(b){if(b.get(&quot;leaf&quot;)){b.set(&quot;text&quot;,this.nodeTpl.apply({text:b.get(&quot;text&quot;),url:b.raw.url}));b.commit()}},onItemClick:function(h,j,k,l,i){var e=j.raw?j.raw.url:j.data.url;if(e){this.fireEvent(&quot;urlclick&quot;,e,i)}else{if(!j.isLeaf()){if(j.isExpanded()){j.collapse(false)}else{j.expand(false)}}}},selectUrl:function(d){var c=this.findNodeByUrl(d);if(c){c.bubble(function(a){a.expand()});this.getSelectionModel().select(c)}else{this.getSelectionModel().deselectAll()}},findNodeByUrl:function(b){return this.getRootNode().findChildBy(function(a){return b===a.raw.url},this,true)},findRecordByUrl:function(d){var c=this.findNodeByUrl(d);return c?c.raw:undefined},handleBeforeExpandCollapse:function(b){if(this.getView().isAnimating(b)){return false}}});Ext.define(&quot;Docs.Tip&quot;,{singleton:true,show:function(g,e,f){f=f||&quot;right&quot;;this.tips=this.tips||{};if(this.tips[f]){var h=this.tips[f];h.update(g);h.setTarget(e);h.show()}else{var h=this.tips[f]=Ext.create(&quot;Ext.tip.ToolTip&quot;,{anchor:f,target:e,html:g});h.show()}}});Ext.define(&quot;Docs.view.comments.Pager&quot;,{extend:&quot;Ext.Component&quot;,alias:&quot;widget.commentsPager&quot;,componentCls:&quot;recent-comments-pager&quot;,afterRender:function(){this.callParent(arguments);this.getEl().on(&quot;click&quot;,function(){this.fireEvent(&quot;loadMore&quot;,this.offset+this.limit)},this,{preventDefault:true,delegate:&quot;a.fetchMoreComments&quot;})},configure:function(b){Ext.apply(this,b);this.update(this.getPagerHtml())},reset:function(){this.update(&quot;&lt;span&gt;&lt;/span&gt;No comments found.&quot;)},getPagerHtml:function(){var d=this.total_rows||0;var e=this.offset+this.limit;var f=Math.min(this.limit,d-e);if(d&gt;e){return[&quot;&lt;span&gt;&lt;/span&gt;&quot;,&#39;&lt;a href=&quot;#&quot; class=&quot;fetchMoreComments&quot; rel=&quot;&#39;+e+&#39;&quot;&gt;&#39;,&quot;Showing comments 1-&quot;+e+&quot; of &quot;+d+&quot;. &quot;,&quot;Click to load &quot;+f+&quot; more...&quot;,&quot;&lt;/a&gt;&quot;].join(&quot;&quot;)}else{return&quot;&lt;span&gt;&lt;/span&gt;That&#39;s all. Total &quot;+d+&quot; comments.&quot;}}});Ext.define(&quot;Docs.view.SimpleSelectBehavior&quot;,{mixins:{observable:&quot;Ext.util.Observable&quot;},constructor:function(c,d){this.mixins.observable.constructor.call(this,{listeners:d});c.on({select:this.onSelect,deselect:this.onDeselect,scope:this})},onSelect:function(c,d){this.selectedItem=d;this.fireEvent(&quot;select&quot;,d)},onDeselect:function(c,d){this.selectedItem=undefined;Ext.Function.defer(function(){if(!this.selectedItem){this.fireEvent(&quot;deselect&quot;,d)}},10,this)}});Ext.define(&quot;Docs.view.comments.FilterField&quot;,{extend:&quot;Ext.form.field.Trigger&quot;,alias:&quot;widget.commentsFilterField&quot;,triggerCls:&quot;reset&quot;,componentCls:&quot;comments-filter-field&quot;,hideTrigger:true,enableKeyEvents:true,initComponent:function(){this.callParent(arguments);this.on({keyup:this.onKeyUp,specialkey:this.onSpecialKey,scope:this})},onKeyUp:function(){this.fireEvent(&quot;filter&quot;,this.getValue());this.setHideTrigger(this.getValue().length===0)},onSpecialKey:function(c,d){if(d.keyCode===Ext.EventObject.ESC){this.reset();this.fireEvent(&quot;filter&quot;,&quot;&quot;)}},onTriggerClick:function(){this.reset();this.focus();this.fireEvent(&quot;filter&quot;,&quot;&quot;);this.setHideTrigger(true)}});Ext.define(&quot;Docs.view.comments.TopList&quot;,{extend:&quot;Ext.panel.Panel&quot;,componentCls:&quot;comments-toplist&quot;,requires:[&quot;Docs.view.SimpleSelectBehavior&quot;,&quot;Docs.view.comments.FilterField&quot;],layout:&quot;border&quot;,displayField:&quot;text&quot;,scoreField:&quot;score&quot;,filterEmptyText:&quot;Filter by name...&quot;,initComponent:function(){this.items=[this.tabpanel=Ext.widget(&quot;tabpanel&quot;,{plain:true,region:&quot;north&quot;,height:50,items:[{title:&quot;By comment count&quot;}],dockedItems:[{dock:&quot;bottom&quot;,items:[{xtype:&quot;commentsFilterField&quot;,emptyText:this.filterEmptyText,width:320,height:20,listeners:{filter:this.onFilter,scope:this}}]}]}),this.list=Ext.widget(&quot;dataview&quot;,{region:&quot;center&quot;,cls:&quot;iScroll top-list&quot;,autoScroll:true,store:new Ext.data.Store({model:this.model}),allowDeselect:true,tpl:[&quot;&lt;ul&gt;&quot;,&#39;&lt;tpl for=&quot;.&quot;&gt;&#39;,&quot;&lt;li&gt;&quot;,&#39;&lt;span class=&quot;score&quot;&gt;{&#39;+this.scoreField+&quot;}&lt;/span&gt;&quot;,&#39;&lt;span class=&quot;text&quot;&gt;{&#39;+this.displayField+&quot;}&lt;/span&gt;&quot;,&quot;&lt;/li&gt;&quot;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;/ul&gt;&quot;],itemSelector:&quot;li&quot;})];new Docs.view.SimpleSelectBehavior(this.list,{select:this.onSelect,deselect:this.onDeselect,scope:this});this.callParent(arguments)},afterRender:function(){this.callParent(arguments);this.list.getStore().load()},onFilter:function(b){this.list.getSelectionModel().deselectAll();this.list.getStore().clearFilter(true);this.list.getStore().filter({property:this.displayField,value:b,anyMatch:true})},deselectAll:function(){this.list.getSelectionModel().deselectAll()},onSelect:function(b){this.fireEvent(&quot;select&quot;,b)},onDeselect:function(){this.fireEvent(&quot;select&quot;,undefined)}});Ext.define(&quot;Docs.view.cls.MemberWrap&quot;,{constructor:function(b){Ext.apply(this,b);this.el=Ext.get(b.el)},setExpanded:function(b){if(b){if(!this.isExpanded()){this.el.addCls(&quot;open&quot;)}}else{this.el.removeCls(&quot;open&quot;)}},isExpanded:function(){return this.el.hasCls(&quot;open&quot;)},getDefinedIn:function(){return this.el.down(&quot;.meta .defined-in&quot;).getAttribute(&quot;rel&quot;)},getMemberId:function(){return this.el.getAttribute(&quot;id&quot;)}});Ext.define(&quot;Docs.view.examples.InlineEditor&quot;,{extend:&quot;Ext.Panel&quot;,bodyPadding:2,autoScroll:true,componentCls:&quot;inline-example-editor&quot;,initComponent:function(){this.addEvents(&quot;init&quot;,&quot;change&quot;);this.on(&quot;afterlayout&quot;,this.initCodeMirror,this);this.callParent(arguments)},initCodeMirror:function(b){if(!this.codemirror){this.codemirror=CodeMirror(this.body,{mode:&quot;javascript&quot;,indentUnit:4,value:this.value,extraKeys:{Tab:&quot;indentMore&quot;,&quot;Shift-Tab&quot;:&quot;indentLess&quot;},onChange:Ext.Function.bind(function(a){this.fireEvent(&quot;change&quot;)},this)});this.fireEvent(&quot;init&quot;)}},refresh:function(){this.codemirror.refresh()},getValue:function(){return this.codemirror?this.codemirror.getValue():this.value},getHeight:function(){var b=this.el.down(&quot;.CodeMirror-lines&quot;);return b?b.getHeight():undefined},selectAll:function(){var d=this.codemirror.lineCount()-1;var c=this.codemirror.getLine(d).length;this.codemirror.setSelection({line:0,ch:0},{line:d,ch:c})}});Ext.define(&quot;Docs.view.examples.InlinePreview&quot;,{extend:&quot;Ext.Panel&quot;,requires:[&quot;Docs.view.examples.Device&quot;],bodyPadding:&quot;0 10&quot;,statics:{iframeCounter:0,getNextIframeId:function(){this.iframeCounter++;return this.iframeCounter.toString()}},options:{},constructor:function(b){b=b||{};b.iframeId=this.self.getNextIframeId();b.id=&quot;inline-preview-&quot;+b.iframeId;this.callParent([b]);this.addEvents([&quot;previewsuccess&quot;,&quot;previewfailure&quot;])},initComponent:function(){this.html=this.getHtml();this.callParent(arguments)},getHtml:function(){if(Docs.data.touchExamplesUi){return Ext.create(&quot;Docs.view.examples.Device&quot;,{url:&quot;eg-iframe.html&quot;,id:this.iframeId,device:this.options.device,orientation:this.options.orientation}).toHtml()}else{var b=new Ext.XTemplate(&#39;&lt;iframe id=&quot;{id}&quot; style=&quot;width: 100%; height: 100%; border: 0&quot; frameBorder=&quot;0&quot;&gt;&lt;/iframe&gt;&#39;);return b.apply({id:this.iframeId})}},update:function(h){var f=this.options;var e=Ext.get(this.iframeId);var g=Ext.Function.bind(this.iframeCallback,this);if(e){e.on(&quot;load&quot;,function(){Ext.Function.defer(function(){e.dom.contentWindow.loadInlineExample(h+&quot;\n&quot;,f,g)},100)},this,{single:true});e.dom.src=&quot;eg-iframe.html&quot;}},iframeCallback:function(c,d){if(c){this.fireEvent(&quot;previewsuccess&quot;,this)}else{this.fireEvent(&quot;previewfailure&quot;,this,d)}},getHeight:function(){return document.getElementById(this.iframeId).parentNode.clientHeight}});Ext.define(&quot;Docs.view.cls.Logic&quot;,{showPrivateClasses:false,constructor:function(b){Ext.apply(this,b)}});Ext.define(&quot;Docs.view.comments.Form&quot;,{extend:&quot;Ext.Component&quot;,alias:&quot;widget.commentsForm&quot;,requires:[&quot;Docs.Tip&quot;],tpl:[&#39;&lt;form class=&quot;commentForm &lt;tpl if=&quot;!updateComment&quot;&gt;newComment&lt;/tpl&gt;&quot;&gt;&#39;,&#39;&lt;tpl if=&quot;title&quot;&gt;&#39;,&quot;&lt;p&gt;{title}&lt;/p&gt;&quot;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;textarea&gt;{content}&lt;/textarea&gt;&quot;,&#39;&lt;div class=&quot;com-meta&quot;&gt;&#39;,&quot;{[Docs.Comments.avatar(values.user.emailHash)]}&quot;,&#39;&lt;div class=&quot;form-author&quot;&gt;Logged in as {user.userName}&lt;/div&gt;&#39;,&#39;&lt;tpl if=&quot;!updateComment&quot;&gt;&#39;,&#39;&lt;label class=&quot;subscribe&quot;&gt;&#39;,&#39;Email updates? &lt;input type=&quot;checkbox&quot; class=&quot;subscriptionCheckbox&quot; &lt;tpl if=&quot;userSubscribed&quot;&gt;checked=&quot;checked&quot;&lt;/tpl&gt; /&gt;&#39;,&#39;&lt;span class=&quot;sep&quot;&gt; | &lt;/span&gt;&#39;,&quot;&lt;/label&gt;&quot;,&quot;&lt;/tpl&gt;&quot;,&#39;&lt;a href=&quot;#&quot; class=&quot;toggleCommentGuide&quot;&gt;Show help &amp;#8595;&lt;/a&gt;&#39;,&#39;&lt;input type=&quot;submit&quot; class=&quot;sub submitComment&quot; value=&quot;{[values.updateComment ? &quot;Update&quot; : &quot;Post&quot;]} comment&quot; /&gt;&#39;,&#39;&lt;tpl if=&quot;updateComment&quot;&gt;&#39;,&#39; or &lt;a href=&quot;#&quot; class=&quot;cancelUpdateComment&quot;&gt;cancel&lt;/a&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;commentGuideTxt&quot; style=&quot;display: none;&quot;&gt;&#39;,&quot;&lt;ul&gt;&quot;,&#39;&lt;li&gt;Use &lt;strong&gt;&lt;a href=&quot;http://daringfireball.net/projects/markdown/syntax&quot; target=&quot;_blank&quot;&gt;Markdown&lt;/a&gt;&lt;/strong&gt;&#39;,&quot; for formatting:&lt;/li&gt;&quot;,&quot;&lt;/ul&gt;&quot;,&#39;&lt;div class=&quot;markdown preview&quot;&gt;&#39;,&quot;&lt;h4&gt;Markdown&lt;/h4&gt;&quot;,&quot;&lt;pre&gt;&quot;,&quot;**Bold**, _italic_\n&quot;,&quot;and `monospaced font`.\n&quot;,&quot;\n&quot;,&quot;    Indent with 4 spaces\n&quot;,&quot;    for a code block.\n&quot;,&quot;\n&quot;,&quot;1. numbered lists\n&quot;,&quot;2. are cool\n&quot;,&quot;\n&quot;,&quot;- bulleted lists\n&quot;,&quot;- make your point\n&quot;,&quot;\n&quot;,&quot;[External link](http//example.com)\n&quot;,&quot;\n&quot;,&quot;Leave a blank line\n&quot;,&quot;between paragraphs.\n&quot;,&quot;&lt;/pre&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;markdown result&quot;&gt;&#39;,&quot;&lt;h4&gt;Result&lt;/h4&gt;&quot;,&quot;&lt;strong&gt;Bold&lt;/strong&gt;, &lt;em&gt;italic&lt;/em&gt; and&lt;br/&gt;&quot;,&quot;&lt;code&gt;monospaced font&lt;/code&gt;.&lt;br/&gt;&quot;,&#39;&lt;pre class=&quot;prettyprint&quot;&gt;&#39;,&quot;Indent with 4 spaces\n&quot;,&quot;for a code block.&quot;,&quot;&lt;/pre&gt;&quot;,&quot;&lt;ol&gt;&quot;,&quot;&lt;li&gt;numbered lists&lt;/li&gt;&quot;,&quot;&lt;li&gt;are cool&lt;/li&gt;&quot;,&quot;&lt;/ol&gt;&quot;,&quot;&lt;ul&gt;&quot;,&quot;&lt;li&gt;bulleted lists&lt;/li&gt;&quot;,&quot;&lt;li&gt;make your point&lt;/li&gt;&quot;,&quot;&lt;/ul&gt;&quot;,&#39;&lt;a href=&quot;http://example.com&quot;&gt;External link&lt;/a&gt;&lt;br/&gt;&#39;,&quot;&lt;br/&gt;&quot;,&quot;Leave a blank line between paragraphs.&lt;br/&gt;&lt;br/&gt;&quot;,&quot;&lt;/div&gt;&quot;,&quot;&lt;ul&gt;&quot;,&quot;&lt;li&gt;Use comments to:&quot;,&quot;&lt;ul&gt;&quot;,&quot;&lt;li&gt;Inform us about &lt;strong&gt;bugs in documentation.&lt;/strong&gt;&lt;/li&gt;&quot;,&quot;&lt;li&gt;Give &lt;strong&gt;useful tips&lt;/strong&gt; to other developers.&lt;/li&gt;&quot;,&quot;&lt;li&gt;&lt;strong&gt;Warn about bugs&lt;/strong&gt; and problems that might bite.&lt;/li&gt;&quot;,&quot;&lt;/ul&gt;&quot;,&quot;&lt;/li&gt;&quot;,&quot;&lt;li&gt;Don&#39;t post comments for:&quot;,&quot;&lt;ul&gt;&quot;,&quot;&lt;li&gt;&lt;strong&gt;Questions about code or usage&lt;/strong&gt;&quot;,&#39; - use the &lt;a href=&quot;http://www.sencha.com/forum&quot; target=&quot;_blank&quot;&gt;Sencha Forum&lt;/a&gt;.&lt;/li&gt;&#39;,&quot;&lt;li&gt;&lt;strong&gt;SDK bugs&lt;/strong&gt;&quot;,&#39; - use the &lt;a href=&quot;http://www.sencha.com/forum&quot; target=&quot;_blank&quot;&gt;Sencha Forum&lt;/a&gt;.&lt;/li&gt;&#39;,&quot;&lt;li&gt;&lt;strong&gt;Docs App bugs&lt;/strong&gt;&quot;,&#39; - use the &lt;a href=&quot;https://github.com/senchalabs/jsduck/issues&quot; target=&quot;_blank&quot;&gt;GitHub Issue tracker&lt;/a&gt;.&lt;/li&gt;&#39;,&quot;&lt;/ul&gt;&lt;/li&gt;&quot;,&quot;&lt;li&gt;Comments may be edited or deleted at any time by a moderator.&lt;/li&gt;&quot;,&#39;&lt;li&gt;Avatars can be managed at &lt;a href=&quot;http://www.gravatar.com&quot; target=&quot;_blank&quot;&gt;Gravatar&lt;/a&gt; (use your forum email address).&lt;/li&gt;&#39;,&quot;&lt;li&gt;To write a reply use &lt;strong&gt;&lt;code&gt;@username&lt;/code&gt;&lt;/strong&gt; syntax &amp;ndash; the user will get notified.&lt;/li&gt;&quot;,&quot;&lt;/ul&gt;&quot;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/form&gt;&quot;],initComponent:function(){this.data={title:this.title,updateComment:(this.content!==undefined),content:this.content,userSubscribed:this.userSubscribed,user:this.user};this.callParent(arguments)},setValue:function(b){this.codeMirror.setValue(b)},afterRender:function(){this.callParent(arguments);this.makeCodeMirror(this.getEl().down(&quot;textarea&quot;).dom);this.bindEvents()},makeCodeMirror:function(d){var c=true;this.codeMirror=CodeMirror.fromTextArea(d,{mode:&quot;markdown&quot;,lineWrapping:true,indentUnit:4,extraKeys:{Tab:&quot;indentMore&quot;,&quot;Shift-Tab&quot;:&quot;indentLess&quot;},onFocus:Ext.Function.bind(function(){if(c&amp;&amp;this.codeMirror.getValue()===&quot;&quot;){this.toggleGuide(true)}c=false},this)})},bindEvents:function(){this.getEl().on(&quot;click&quot;,function(){this.toggleGuide()},this,{preventDefault:true,delegate:&quot;a.toggleCommentGuide&quot;});this.getEl().on(&quot;click&quot;,function(){this.fireEvent(&quot;cancel&quot;)},this,{preventDefault:true,delegate:&quot;a.cancelUpdateComment&quot;});this.getEl().on(&quot;click&quot;,function(){this.fireEvent(&quot;submit&quot;,this.codeMirror.getValue())},this,{preventDefault:true,delegate:&quot;input.submitComment&quot;});this.getEl().on(&quot;click&quot;,function(c,d){this.fireEvent(&quot;subscriptionChange&quot;,Ext.get(d).dom.checked)},this,{delegate:&quot;input.subscriptionCheckbox&quot;})},toggleGuide:function(f){var d=this.getEl().down(&quot;.commentGuideTxt&quot;);d.setVisibilityMode(Ext.dom.Element.DISPLAY);var e=this.getEl().down(&quot;.toggleCommentGuide&quot;);if(!d.isVisible()||f===true){d.show(true);e.update(&quot;Hide help &amp;#8593;&quot;)}else{d.hide(true);e.update(&quot;Show help &amp;#8595;&quot;)}},showSubscriptionMessage:function(d){var e=this.getEl().down(&quot;input.subscriptionCheckbox&quot;);var f=d?&quot;Updates to this thread will be e-mailed to you&quot;:&quot;You have unsubscribed from this thread&quot;;Docs.Tip.show(f,e,&quot;bottom&quot;)}});Ext.define(&quot;Docs.view.comments.DragZone&quot;,{extend:&quot;Ext.dd.DragZone&quot;,constructor:function(d,c){this.view=d;this.callParent([d.getEl(),c])},getDragData:function(f){var d=f.getTarget(&quot;img.drag-handle&quot;,10);if(d){var e=Ext.fly(d).up(this.view.itemSelector).dom;return{sourceEl:e,repairXY:Ext.fly(e).getXY(),ddel:this.cloneCommentEl(e),comment:this.view.getRecord(e)}}return false},cloneCommentEl:function(e){var f=e.cloneNode(true);var d=Ext.fly(f).down(&quot;.comments-list-with-form&quot;);d&amp;&amp;d.remove();f.id=Ext.id();return f},getRepairXY:function(){return this.dragData.repairXY}});Ext.define(&quot;Docs.view.comments.DropZone&quot;,{extend:&quot;Ext.dd.DropZone&quot;,constructor:function(d,c){this.view=d;this.callParent([d.getEl(),c])},getTargetFromEvent:function(b){return b.getTarget(this.view.itemSelector,10)},onNodeEnter:function(g,f,h,e){if(this.isValidDropTarget(g,e)){Ext.fly(g).addCls(&quot;drop-target-hover&quot;)}},onNodeOut:function(g,f,h,e){Ext.fly(g).removeCls(&quot;drop-target-hover&quot;)},onNodeOver:function(g,f,h,e){if(this.isValidDropTarget(g,e)){return this.dropAllowed}else{return false}},isValidDropTarget:function(d,e){var f=this.view.getRecord(d);return f&amp;&amp;f.get(&quot;id&quot;)!==e.comment.get(&quot;id&quot;)},onNodeDrop:function(g,f,h,e){if(this.isValidDropTarget(g,e)){this.onValidDrop(e.comment,this.view.getRecord(g));return true}return false},onValidDrop:Ext.emptyFn});Ext.define(&quot;Docs.view.comments.TopLevelDropZone&quot;,{extend:&quot;Ext.dd.DropZone&quot;,getTargetFromEvent:function(b){return b.getTarget(&quot;a.side.toggleComments&quot;,10)},onNodeEnter:function(g,f,h,e){if(this.isValidDropTarget(e)){Ext.fly(g).addCls(&quot;drop-target-hover&quot;)}},onNodeOut:function(g,f,h,e){Ext.fly(g).removeCls(&quot;drop-target-hover&quot;)},onNodeOver:function(g,f,h,e){if(this.isValidDropTarget(e)){return this.dropAllowed}else{return false}},isValidDropTarget:function(b){return !!b.comment.get(&quot;parentId&quot;)},onNodeDrop:function(g,f,h,e){if(this.isValidDropTarget(e)){this.onValidDrop(e.comment,undefined);return true}return false},onValidDrop:Ext.emptyFn});Ext.define(&quot;Docs.Comments&quot;,{extend:&quot;Ext.util.Observable&quot;,singleton:true,requires:[&quot;Docs.Auth&quot;,&quot;Docs.CommentCounts&quot;,&quot;Docs.CommentSubscriptions&quot;,&quot;Ext.data.JsonP&quot;,&quot;Ext.Ajax&quot;],init:function(c,d){if(!(Docs.data.commentsUrl&amp;&amp;Docs.data.commentsDomain&amp;&amp;this.isBrowserSupported())){c.call(d);return}Docs.Auth.init(function(a){if(a){this.enabled=true;this.fetchCountsAndSubscriptions(function(f,b){this.counts=new Docs.CommentCounts(f);this.subscriptions=new Docs.CommentSubscriptions(b);c.call(d)},this)}else{c.call(d)}},this)},isBrowserSupported:function(){return(&quot;withCredentials&quot; in new XMLHttpRequest())||(Ext.ieVersion&gt;=8)},fetchCountsAndSubscriptions:function(c,d){this.request(&quot;jsonp&quot;,{url:&quot;/comments_meta&quot;,method:&quot;GET&quot;,success:function(a){c.call(d,a.comments,a.subscriptions)},scope:this})},loadSubscriptions:function(c,d){this.fetchSubscriptions(function(a){this.subscriptions=new Docs.CommentSubscriptions(a);c.call(d)},this)},clearSubscriptions:function(){this.subscriptions=new Docs.CommentSubscriptions([])},fetchSubscriptions:function(c,d){this.request(&quot;jsonp&quot;,{url:&quot;/subscriptions&quot;,method:&quot;GET&quot;,success:function(a){c.call(d,a.subscriptions)},scope:this})},isEnabled:function(){return this.enabled},getCount:function(b){return this.enabled?this.counts.get(b):0},changeCount:function(f,e){var d=this.counts.change(f,e);this.fireEvent(&quot;countChange&quot;,f,d)},hasSubscription:function(b){return this.subscriptions.has(b)},getClassTotalCount:function(b){return this.counts.getClassTotal(b)},load:function(d,f,e){this.request(&quot;jsonp&quot;,{url:&quot;/comments&quot;,method:&quot;GET&quot;,params:{startkey:Ext.JSON.encode(d)},success:f,scope:e})},loadReplies:function(f,d,e){this.request(&quot;jsonp&quot;,{url:&quot;/replies&quot;,method:&quot;GET&quot;,params:{parentId:f},success:d,scope:e})},post:function(b){this.request(&quot;ajax&quot;,{url:&quot;/comments&quot;,method:&quot;POST&quot;,params:{target:Ext.JSON.encode(b.target),parentId:b.parentId,comment:b.content,url:this.buildPostUrl(b.target)},callback:function(h,f,a){var g=Ext.JSON.decode(a.responseText);if(f&amp;&amp;g.success){this.changeCount(b.target,+1);b.callback&amp;&amp;b.callback.call(b.scope,g.comment)}},scope:this})},buildPostUrl:function(i){var f=i[0];var g=i[1];var h=i[2];if(f==&quot;video&quot;){var j=&quot;#!/video/&quot;+g}else{if(f==&quot;guide&quot;){var j=&quot;#!/guide/&quot;+g}else{var j=&quot;#!/api/&quot;+g+(h?&quot;-&quot;+h:&quot;&quot;)}}return&quot;http://&quot;+window.location.host+window.location.pathname+j},subscribe:function(h,e,g,f){this.request(&quot;ajax&quot;,{url:&quot;/subscribe&quot;,method:&quot;POST&quot;,params:{target:Ext.JSON.encode(h),subscribed:e},callback:function(c,a,d){var b=Ext.JSON.decode(d.responseText);if(a&amp;&amp;b.success){this.subscriptions.set(h,e);g&amp;&amp;g.call(f)}},scope:this})},request:function(c,d){d.url=this.buildRequestUrl(d.url);if(c===&quot;jsonp&quot;){Ext.data.JsonP.request(d)}else{d.cors=true;Ext.Ajax.request(d)}},buildRequestUrl:function(b){b=Docs.data.commentsUrl+&quot;/&quot;+Docs.data.commentsDomain+b;return b+(b.match(/\?/)?&quot;&amp;&quot;:&quot;?&quot;)+&quot;sid=&quot;+Docs.Auth.getSid()},avatar:function(c,d){return&#39;&lt;img class=&quot;avatar &#39;+(d||&quot;&quot;)+&#39;&quot; width=&quot;25&quot; height=&quot;25&quot; src=&quot;http://www.gravatar.com/avatar/&#39;+c+&#39;?s=25&amp;amp;r=PG&amp;amp;d=identicon&quot;&gt;&#39;},counterHtml:function(b){return b&gt;0?&#39;&lt;span class=&quot;comment-counter-small&quot;&gt;&#39;+b+&quot;&lt;/span&gt;&quot;:&quot;&quot;}});Ext.define(&quot;Docs.controller.Auth&quot;,{extend:&quot;Ext.app.Controller&quot;,requires:[&quot;Docs.Auth&quot;,&quot;Docs.Comments&quot;],refs:[{ref:&quot;authHeaderForm&quot;,selector:&quot;authHeaderForm&quot;}],init:function(){this.control({&quot;authHeaderForm, authForm&quot;:{login:this.login,logout:this.logout}});var b=this.getController(&quot;Tabs&quot;);b.onLaunch=Ext.Function.createSequence(b.onLaunch,this.afterTabsLaunch,this)},afterTabsLaunch:function(){if(Docs.Comments.isEnabled()){if(Docs.Auth.isLoggedIn()){this.setLoggedIn()}else{this.setLoggedOut()}}},login:function(e,g,f,h){Docs.Auth.login({username:g,password:f,remember:h,success:this.setLoggedIn,failure:function(a){e.showMessage(a)},scope:this})},logout:function(b){Docs.Auth.logout(this.setLoggedOut,this)},setLoggedIn:function(){Docs.Comments.loadSubscriptions(function(){this.getAuthHeaderForm().showLoggedIn(Docs.Auth.getUser());this.eachCmp(&quot;commentsListWithForm&quot;,function(b){b.showCommentingForm()});this.eachCmp(&quot;commentsList&quot;,function(b){b.refresh()});this.getController(&quot;Tabs&quot;).showCommentsTab()},this)},setLoggedOut:function(){Docs.Comments.clearSubscriptions();this.getAuthHeaderForm().showLoggedOut();this.eachCmp(&quot;commentsListWithForm&quot;,function(b){b.showAuthForm()});this.eachCmp(&quot;commentsList&quot;,function(b){b.refresh()});this.getController(&quot;Tabs&quot;).hideCommentsTab()},eachCmp:function(e,f,d){Ext.Array.forEach(Ext.ComponentQuery.query(e),f,d)}});Ext.define(&quot;Docs.controller.Welcome&quot;,{extend:&quot;Docs.controller.Content&quot;,baseUrl:&quot;#&quot;,refs:[{ref:&quot;viewport&quot;,selector:&quot;#viewport&quot;},{ref:&quot;index&quot;,selector:&quot;#welcomeindex&quot;}],init:function(){this.addEvents(&quot;loadIndex&quot;)},loadIndex:function(){this.fireEvent(&quot;loadIndex&quot;);Ext.getCmp(&quot;treecontainer&quot;).hide();this.callParent([true])},isActive:function(){return !!this.getIndex().getTab()}});Ext.define(&quot;Docs.controller.Failure&quot;,{extend:&quot;Docs.controller.Content&quot;,baseUrl:&quot;#&quot;,refs:[{ref:&quot;viewport&quot;,selector:&quot;#viewport&quot;},{ref:&quot;index&quot;,selector:&quot;#failure&quot;}],show404:function(c){var d=new Ext.XTemplate(&quot;&lt;h1&gt;Oops...&lt;/h1&gt;&quot;,&quot;&lt;p&gt;{msg}&lt;/p&gt;&quot;,&quot;&lt;p&gt;Maybe it was renamed to something else?&lt;br&gt; Or maybe your internet connection has failed?&lt;br&gt; &quot;,&quot;This would be sad. Hopefully it&#39;s just a bug on our side.&lt;/p&gt;&quot;,&quot;&lt;p&gt;Most likely you just followed a broken link inside this very documentation. &quot;,&quot;Go and report it to the authors of the docs.&lt;/p&gt;&quot;,&quot;&lt;p&gt;But if you think it&#39;s a bug in JSDuck documentation-generator itself, feel free to open &quot;,&quot;an issue at the &lt;a href=&#39;https://github.com/senchalabs/jsduck/issues&#39;&gt;JSDuck issue tracker&lt;/a&gt;.&lt;/p&gt;&quot;,&quot;&lt;p&gt;Sorry for all this :(&lt;/p&gt;&quot;);Ext.getCmp(&quot;failure&quot;).update(d.apply({msg:c}));Ext.getCmp(&quot;card-panel&quot;).layout.setActiveItem(&quot;failure&quot;)}});Ext.define(&quot;Docs.controller.Classes&quot;,{extend:&quot;Docs.controller.Content&quot;,baseUrl:&quot;#!/api&quot;,title:&quot;API Documentation&quot;,requires:[&quot;Docs.History&quot;,&quot;Docs.Syntax&quot;,&quot;Docs.ClassRegistry&quot;],refs:[{ref:&quot;viewport&quot;,selector:&quot;#viewport&quot;},{ref:&quot;index&quot;,selector:&quot;#classindex&quot;},{ref:&quot;header&quot;,selector:&quot;classheader&quot;},{ref:&quot;overview&quot;,selector:&quot;classoverview&quot;},{ref:&quot;tabPanel&quot;,selector:&quot;classtabpanel&quot;},{ref:&quot;tree&quot;,selector:&quot;#classtree&quot;},{ref:&quot;favoritesGrid&quot;,selector:&quot;#favorites-grid&quot;}],cache:{},init:function(){this.addEvents(&quot;showIndex&quot;,&quot;showClass&quot;,&quot;showMember&quot;);Ext.getBody().addListener(&quot;click&quot;,function(c,d){this.handleUrlClick(decodeURI(d.href),c)},this,{preventDefault:true,delegate:&quot;.docClass&quot;});this.control({classtree:{urlclick:function(d,c){this.handleUrlClick(d,c,this.getTree())}},toolbar:{toggleExpanded:function(b){this.getOverview().setAllMembersExpanded(b)}},classoverview:{afterrender:function(b){b.el.addListener(&quot;click&quot;,function(i,k){var h=Ext.get(k).up(&quot;.member&quot;),l=h.down(&quot;.meta .defined-in&quot;),j=l.getAttribute(&quot;rel&quot;),a=h.getAttribute(&quot;id&quot;);if(this.getOverview().isMemberExpanded(a)){this.setExpanded(a,false)}else{this.setExpanded(a,true);this.fireEvent(&quot;showMember&quot;,j,a)}},this,{preventDefault:true,delegate:&quot;.expandable&quot;});b.el.addListener(&quot;click&quot;,Ext.emptyFn,this,{preventDefault:true,delegate:&quot;.not-expandable&quot;})}},treecontainer:{afterrender:function(b){b.el.addListener(&quot;dblclick&quot;,function(){if(b.getWidth()&lt;30){b.setWidth(b.expandedWidth)}else{b.expandedWidth=b.getWidth();b.setWidth(20)}},this,{delegate:&quot;.x-resizable-handle&quot;})}},doctabs:{tabClose:function(b){this.getOverview().eraseScrollContext(b)}}})},setExpanded:function(f,d){var e=this.currentCls;if(!e.expanded){e.expanded={}}this.getOverview().setMemberExpanded(f,d);if(d){e.expanded[f]=d}else{delete e.expanded[f]}},applyExpanded:function(b){Ext.Object.each(b.expanded||{},function(a){Ext.get(a).addCls(&quot;open&quot;)},this)},handleUrlClick:function(d,f,e){d=Docs.History.cleanUrl(d);if(this.opensNewWindow(f)){window.open(d);e&amp;&amp;e.selectUrl(this.currentCls?&quot;#!/api/&quot;+this.currentCls.name:&quot;&quot;)}else{this.loadClass(d)}},loadIndex:function(b){Ext.getCmp(&quot;treecontainer&quot;).showTree(&quot;classtree&quot;);this.callParent(arguments);this.fireEvent(&quot;showIndex&quot;)},loadClass:function(f,i){Ext.getCmp(&quot;card-panel&quot;).layout.setActiveItem(&quot;classcontainer&quot;);Ext.getCmp(&quot;treecontainer&quot;).showTree(&quot;classtree&quot;);i||Docs.History.push(f);var j=f.match(/^#!\/api\/(.*?)(?:-(.*))?$/);var g=Docs.ClassRegistry.canonicalName(j[1]);var h=j[2];if(this.getOverview()){this.getOverview().setLoading(true)}if(this.cache[g]){this.showClass(this.cache[g],h)}else{this.cache[g]=&quot;in-progress&quot;;Ext.data.JsonP.request({url:this.getBaseUrl()+&quot;/output/&quot;+g+&quot;.js&quot;,callbackName:g.replace(/\./g,&quot;_&quot;),success:function(b,a){this.cache[g]=b;this.showClass(b,h)},failure:function(b,a){this.cache[g]=false;this.getOverview().setLoading(false);this.getController(&quot;Failure&quot;).show404(&quot;Class &lt;b&gt;&quot;+g+&quot;&lt;/b&gt; was not found.&quot;)},scope:this})}},showClass:function(e,f){var d=false;if(e===&quot;in-progress&quot;){return}this.getOverview().setLoading(false);this.getViewport().setPageTitle(e.name);if(this.currentCls!==e){this.currentCls=e;this.getHeader().load(e);this.getOverview().load(e);this.applyExpanded(e);d=true}this.currentCls=e;this.getOverview().setScrollContext(&quot;#!/api/&quot;+e.name);if(f){this.getOverview().scrollToEl(&quot;#&quot;+f);this.fireEvent(&quot;showMember&quot;,e.name,f)}else{this.getOverview().restoreScrollState()}this.getTree().selectUrl(&quot;#!/api/&quot;+e.name);this.fireEvent(&quot;showClass&quot;,e.name,{reRendered:d})}});Ext.define(&quot;Docs.controller.Search&quot;,{extend:&quot;Ext.app.Controller&quot;,requires:[&quot;Docs.ClassRegistry&quot;,&quot;Docs.GuideSearch&quot;,&quot;Docs.store.Search&quot;,&quot;Docs.History&quot;],stores:[&quot;Search&quot;],refs:[{ref:&quot;field&quot;,selector:&quot;#search-field&quot;}],pageIndex:0,pageSize:10,basicSearchDelay:50,guideSearchDelay:500,dropdownHideDelay:500,init:function(){this.control({&quot;#search-dropdown&quot;:{itemclick:function(c,d){this.loadRecord(d)},changePage:function(c,d){this.pageIndex+=d;this.displayResults();this.keepDropdown()},footerClick:function(b){this.keepDropdown()}},&quot;#search-field&quot;:{keyup:function(m,l){var j=this.getDropdown();m.setHideTrigger(m.getValue().length===0);if(l.keyCode===Ext.EventObject.ESC||!m.value){j.hide();m.setValue(&quot;&quot;);return}else{j.show()}var h=j.getSelectionModel();var i=h.getLastSelected();var n=j.store.indexOf(i);var k=j.store.getCount()-1;if(l.keyCode===Ext.EventObject.UP){if(n===undefined){h.select(0)}else{h.select(n===0?k:(n-1))}}else{if(l.keyCode===Ext.EventObject.DOWN){if(n===undefined){h.select(0)}else{h.select(n===k?0:n+1)}}else{if(l.keyCode===Ext.EventObject.ENTER){l.preventDefault();i&amp;&amp;this.loadRecord(i)}else{this.pageIndex=0;clearTimeout(this.searchTimeout);this.searchTimeout=Ext.Function.defer(function(){this.search(m.value)},this.basicSearchDelay,this)}}}},focus:function(b){if(b.value&amp;&amp;this.getDropdown().store.getCount()&gt;0){this.getDropdown().show()}},blur:function(){var b=this.getDropdown();this.hideTimeout=Ext.Function.defer(b.hide,this.dropdownHideDelay,b)}}})},getDropdown:function(){return this.dropdown||(this.dropdown=Ext.getCmp(&quot;search-dropdown&quot;))},keepDropdown:function(){clearTimeout(this.hideTimeout);this.getField().focus()},loadRecord:function(b){Docs.History.navigate(b.get(&quot;url&quot;));this.getDropdown().hide()},search:function(b){if(b===this.previousTerm){return}this.previousTerm=b;this.basicSearch(b);if(Docs.GuideSearch.isEnabled()){this.guideSearch(b)}},guideSearch:function(b){Docs.GuideSearch.deferredSearch(b,function(a){this.basicSearch(b,a)},this,this.guideSearchDelay)},basicSearch:function(c,d){this.displayResults(Docs.ClassRegistry.search(c,d))},displayResults:function(d){d=d||this.previousResults;if(this.pageIndex&lt;0){this.pageIndex=0}else{if(this.pageIndex&gt;Math.floor(d.length/this.pageSize)){this.pageIndex=Math.floor(d.length/this.pageSize)}}var f=this.pageIndex*this.pageSize;var e=f+this.pageSize;this.getDropdown().setTotal(d.length);this.getDropdown().setStart(f);this.getDropdown().getStore().loadData(d.slice(f,e));this.getDropdown().alignTo(&quot;search-field&quot;,&quot;bl&quot;,[-12,-2]);if(d.length&gt;0){this.getDropdown().getSelectionModel().select(0)}this.previousResults=d}});Ext.define(&quot;Docs.controller.Examples&quot;,{extend:&quot;Docs.controller.Content&quot;,baseUrl:&quot;#!/example&quot;,title:&quot;Examples&quot;,refs:[{ref:&quot;viewport&quot;,selector:&quot;#viewport&quot;},{ref:&quot;index&quot;,selector:&quot;#exampleindex&quot;},{ref:&quot;tree&quot;,selector:&quot;#exampletree&quot;},{ref:&quot;page&quot;,selector:&quot;#example&quot;}],init:function(){this.addEvents(&quot;showExample&quot;);this.control({&quot;#exampletree&quot;:{urlclick:function(d,c){this.loadExample(d)}},&quot;exampleindex &gt; thumblist&quot;:{urlclick:function(b){this.loadExample(b)}},&quot;touchexamplecontainer, examplecontainer&quot;:{afterrender:function(b){b.el.addListener(&quot;click&quot;,function(d,a){this.openInNewWindow()},this,{delegate:&quot;button.new-window&quot;})}},touchexamplecontainer:{afterrender:function(b){b.el.addListener(&quot;click&quot;,function(d,a){this.changeDevice(&quot;tablet&quot;)},this,{delegate:&quot;button.tablet&quot;});b.el.addListener(&quot;click&quot;,function(d,a){this.changeDevice(&quot;phone&quot;)},this,{delegate:&quot;button.phone&quot;});b.el.addListener(&quot;click&quot;,function(d,a){this.changeOrientation(&quot;portrait&quot;)},this,{delegate:&quot;button.portrait&quot;});b.el.addListener(&quot;click&quot;,function(d,a){this.changeOrientation(&quot;landscape&quot;)},this,{delegate:&quot;button.landscape&quot;})}}})},loadIndex:function(){Ext.getCmp(&quot;treecontainer&quot;).showTree(&quot;exampletree&quot;);this.callParent()},loadExample:function(d,f){var e=this.getExample(d);if(!e){this.getController(&quot;Failure&quot;).show404(&quot;Example &lt;b&gt;&quot;+d+&quot;&lt;/b&gt; was not found.&quot;);return}this.getViewport().setPageTitle(e.text);if(this.activeUrl!==d){this.getPage().clear();this.activateExampleCard();this.getPage().load(e)}else{this.activateExampleCard()}f||Docs.History.push(d);this.fireEvent(&quot;showExample&quot;,d);this.getTree().selectUrl(d);this.activeUrl=d},activateExampleCard:function(){Ext.getCmp(&quot;card-panel&quot;).layout.setActiveItem(&quot;example&quot;);Ext.getCmp(&quot;treecontainer&quot;).showTree(&quot;exampletree&quot;)},getExample:function(b){if(!this.map){this.map={};Ext.Array.forEach(Docs.data.examples,function(a){Ext.Array.forEach(a.items,function(d){this.map[&quot;#!/example/&quot;+d.name]=d},this)},this)}return this.map[b]},changeOrientation:function(b){this.getPage().setOrientation(b)},changeDevice:function(b){this.getPage().setDevice(b)},openInNewWindow:function(){window.open(this.getExample(this.activeUrl).url)}});Ext.define(&quot;Docs.controller.Guides&quot;,{extend:&quot;Docs.controller.Content&quot;,baseUrl:&quot;#!/guide&quot;,title:&quot;Guides&quot;,refs:[{ref:&quot;viewport&quot;,selector:&quot;#viewport&quot;},{ref:&quot;index&quot;,selector:&quot;#guideindex&quot;},{ref:&quot;tree&quot;,selector:&quot;#guidetree&quot;},{ref:&quot;guide&quot;,selector:&quot;#guide&quot;}],cache:{},init:function(){this.addEvents(&quot;showGuide&quot;);this.control({&quot;#guidetree&quot;:{urlclick:function(d,c){this.handleUrlClick(d,c,this.getTree())}},&quot;guideindex &gt; thumblist&quot;:{urlclick:function(b){this.loadGuide(b)}},indexcontainer:{afterrender:function(b){b.el.addListener(&quot;click&quot;,function(d,a){this.handleUrlClick(a.href,d)},this,{preventDefault:true,delegate:&quot;.guide&quot;})}},doctabs:{tabClose:function(b){this.getGuide().eraseScrollContext(b)}}})},handleUrlClick:function(d,f,e){d=d.replace(/.*#!?/,&quot;#!&quot;);if(this.opensNewWindow(f)){window.open(d);e&amp;&amp;e.selectUrl(this.activeUrl?this.activeUrl:&quot;&quot;)}else{this.loadGuide(d)}},loadIndex:function(){Ext.getCmp(&quot;treecontainer&quot;).showTree(&quot;guidetree&quot;);this.callParent()},loadGuide:function(j,h){Ext.getCmp(&quot;card-panel&quot;).layout.setActiveItem(&quot;guide&quot;);Ext.getCmp(&quot;treecontainer&quot;).showTree(&quot;guidetree&quot;);var g=j.match(/^#!\/guide\/(.*?)(-section-.*)?$/);var f=g[1];var i=g[2];j=&quot;#!/guide/&quot;+f;h||Docs.History.push(j);if(this.cache[f]){this.showGuide(this.cache[f],j,f,i)}else{this.cache[f]=&quot;in-progress&quot;;Ext.data.JsonP.request({url:this.getBaseUrl()+&quot;/guides/&quot;+f+&quot;/README.js&quot;,callbackName:f,success:function(a){this.cache[f]=a;this.showGuide(a,j,f,i)},failure:function(b,a){this.cache[f]=false;this.getController(&quot;Failure&quot;).show404(&quot;Guide &lt;b&gt;&quot;+f+&quot;&lt;/b&gt; was not found.&quot;)},scope:this})}},showGuide:function(i,j,f,h){var g=false;if(i===&quot;in-progress&quot;){return}this.getViewport().setPageTitle(i.title);if(this.activeUrl!==j){Ext.getCmp(&quot;guide&quot;).load({name:f,content:i.guide});g=true}this.activeUrl=j;this.getGuide().setScrollContext(this.activeUrl);if(h){this.getGuide().scrollToEl(f+h)}else{this.getGuide().restoreScrollState()}this.fireEvent(&quot;showGuide&quot;,f,{reRendered:g});this.getTree().selectUrl(j)}});Ext.define(&quot;Docs.controller.Videos&quot;,{extend:&quot;Docs.controller.Content&quot;,baseUrl:&quot;#!/video&quot;,title:&quot;Videos&quot;,refs:[{ref:&quot;viewport&quot;,selector:&quot;#viewport&quot;},{ref:&quot;index&quot;,selector:&quot;#videoindex&quot;},{ref:&quot;tree&quot;,selector:&quot;#videotree&quot;}],init:function(){this.addEvents(&quot;showVideo&quot;);this.control({&quot;#videotree&quot;:{urlclick:function(b){this.loadVideo(b)}},&quot;videoindex &gt; thumblist&quot;:{urlclick:function(b){this.loadVideo(b)}}})},loadIndex:function(){Ext.getCmp(&quot;treecontainer&quot;).showTree(&quot;videotree&quot;);this.callParent()},loadVideo:function(j,h){var f=false;Ext.getCmp(&quot;card-panel&quot;).layout.setActiveItem(&quot;video&quot;);Ext.getCmp(&quot;treecontainer&quot;).showTree(&quot;videotree&quot;);var g=j.match(/^#!\/video\/(.*)$/)[1];var i=this.getVideo(g);if(!i){this.getController(&quot;Failure&quot;).show404(&quot;Video &lt;b&gt;&quot;+g+&quot;&lt;/b&gt; was not found.&quot;);return}this.getViewport().setPageTitle(i.title);if(this.activeUrl!==j){Ext.getCmp(&quot;video&quot;).load(i);f=true}h||Docs.History.push(j);this.fireEvent(&quot;showVideo&quot;,g,{reRendered:f});this.getTree().selectUrl(j);this.activeUrl=j},getVideo:function(b){if(!this.map){this.map={};Ext.Array.forEach(Docs.data.videos,function(a){Ext.Array.forEach(a.items,function(d){this.map[d.name]=d},this)},this)}return this.map[b]}});Ext.define(&quot;Docs.controller.CommentCounts&quot;,{extend:&quot;Ext.app.Controller&quot;,requires:[&quot;Docs.Comments&quot;],refs:[{ref:&quot;class&quot;,selector:&quot;classoverview&quot;},{ref:&quot;classIndex&quot;,selector:&quot;#classindex&quot;},{ref:&quot;guide&quot;,selector:&quot;#guide&quot;},{ref:&quot;guideIndex&quot;,selector:&quot;#guideindex&quot;},{ref:&quot;video&quot;,selector:&quot;#video&quot;},{ref:&quot;videoIndex&quot;,selector:&quot;#videoindex&quot;}],init:function(){Docs.Comments.on(&quot;countChange&quot;,this.updateCounts,this)},updateCounts:function(c,d){this.getClass().updateCommentCounts();this.getClassIndex().updateCommentCounts();this.getGuide().updateCommentCounts();this.getGuideIndex().updateCommentCounts();this.getVideo().updateCommentCounts();this.getVideoIndex().updateCommentCounts()}});Ext.define(&quot;Docs.controller.Tests&quot;,{extend:&quot;Docs.controller.Content&quot;,baseUrl:&quot;#!/tests&quot;,refs:[{ref:&quot;viewport&quot;,selector:&quot;#viewport&quot;},{ref:&quot;index&quot;,selector:&quot;#testsindex&quot;}],init:function(){this.addEvents(&quot;loadIndex&quot;);this.control({&quot;#testsgrid&quot;:{afterrender:this.loadExamples}})},loadIndex:function(){this.fireEvent(&quot;loadIndex&quot;);Ext.getCmp(&quot;treecontainer&quot;).hide();this.callParent([true])},isActive:function(){return !!this.getIndex().getTab()},loadExamples:function(){this.getIndex().disable();Ext.data.JsonP.request({url:this.getBaseUrl()+&quot;/inline-examples.js&quot;,callbackName:&quot;__inline_examples__&quot;,success:function(b){this.getIndex().addExamples(b);this.getIndex().enable()},scope:this})}});Ext.define(&quot;Docs.store.Settings&quot;,{extend:&quot;Ext.data.Store&quot;,requires:[&quot;Docs.model.Setting&quot;],model:&quot;Docs.model.Setting&quot;});Ext.define(&quot;Docs.Settings&quot;,{extend:&quot;Docs.LocalStore&quot;,singleton:true,requires:&quot;Docs.store.Settings&quot;,storeName:&quot;Docs.store.Settings&quot;,defaults:{show:{&quot;public&quot;:true,&quot;protected&quot;:false,&quot;private&quot;:false,deprecated:false,removed:false,inherited:true,accessor:true},comments:{hideRead:false},showPrivateClasses:false,classTreeLogic:&quot;PackageLogic&quot;},set:function(d,f){var e=this.store.findExact(&quot;key&quot;,d);if(e&gt;-1){this.store.removeAt(e)}this.store.add({key:d,value:f});this.syncStore()},get:function(c){var d=this.store.findExact(&quot;key&quot;,c);return d&gt;-1?this.store.getAt(d).get(&quot;value&quot;):this.defaults[c]}});Ext.define(&quot;Docs.controller.Tabs&quot;,{extend:&quot;Ext.app.Controller&quot;,requires:[&quot;Docs.History&quot;,&quot;Docs.Settings&quot;],refs:[{ref:&quot;welcomeIndex&quot;,selector:&quot;#welcomeindex&quot;},{ref:&quot;classIndex&quot;,selector:&quot;#classindex&quot;},{ref:&quot;guideIndex&quot;,selector:&quot;#guideindex&quot;},{ref:&quot;videoIndex&quot;,selector:&quot;#videoindex&quot;},{ref:&quot;exampleIndex&quot;,selector:&quot;#exampleindex&quot;},{ref:&quot;testsIndex&quot;,selector:&quot;#testsindex&quot;},{ref:&quot;commentIndex&quot;,selector:&quot;#commentindex&quot;},{ref:&quot;classTree&quot;,selector:&quot;#classtree&quot;},{ref:&quot;guideTree&quot;,selector:&quot;#guidetree&quot;},{ref:&quot;exampleTree&quot;,selector:&quot;#exampletree&quot;},{ref:&quot;videoTree&quot;,selector:&quot;#videotree&quot;},{ref:&quot;doctabs&quot;,selector:&quot;#doctabs&quot;}],init:function(){this.getController(&quot;Classes&quot;).addListener({showClass:function(b){this.addTabFromTree(&quot;#!/api/&quot;+b)},scope:this});this.getController(&quot;Guides&quot;).addListener({showGuide:function(b){this.addTabFromTree(&quot;#!/guide/&quot;+b)},scope:this});this.getController(&quot;Examples&quot;).addListener({showExample:function(b){this.addTabFromTree(b)},scope:this});this.getController(&quot;Videos&quot;).addListener({showVideo:function(b){this.addTabFromTree(&quot;#!/video/&quot;+b)},scope:this});this.control({&quot;[componentCls=doctabs]&quot;:{tabActivate:function(d,c){Docs.History.push(d,c)},scope:this}})},onLaunch:function(){this.getDoctabs().setStaticTabs(Ext.Array.filter([this.getWelcomeIndex().getTab(),this.getClassIndex().getTab(),this.getGuideIndex().getTab(),this.getVideoIndex().getTab(),this.getExampleIndex().getTab(),this.getTestsIndex().getTab()],function(a){return a}));this.commentsTab=this.getCommentIndex().getTab();var b=Docs.Settings.get(&quot;tabs&quot;);if(b){Ext.Array.forEach(b,function(a){this.addTabFromTree(a,{animate:false})},this)}Docs.History.notifyTabsLoaded()},showCommentsTab:function(){var b=this.getDoctabs().getStaticTabs();this.getDoctabs().setStaticTabs(b.concat(this.commentsTab))},hideCommentsTab:function(){var b=this.getDoctabs().getStaticTabs();this.getDoctabs().setStaticTabs(Ext.Array.remove(b,this.commentsTab))},addTabFromTree:function(h,g){var e=this.getTree(h);var f=e.findRecordByUrl(h);if(f){this.addTab(f,g)}},addTab:function(d,c){c=c||{animate:true,activate:true};this.getDoctabs().addTab({href:d.url,text:d.text,iconCls:d.iconCls},c)},getTree:function(b){if(/#!?\/api/.test(b)){return this.getClassTree()}else{if(/#!?\/guide/.test(b)){return this.getGuideTree()}else{if(/#!?\/video/.test(b)){return this.getVideoTree()}else{if(/#!?\/example/.test(b)){return this.getExampleTree()}else{return this.getClassTree()}}}}}});Ext.define(&quot;Docs.controller.Comments&quot;,{extend:&quot;Docs.controller.Content&quot;,baseUrl:&quot;#!/comment&quot;,title:&quot;Comments&quot;,requires:[&quot;Docs.Settings&quot;,&quot;Docs.Comments&quot;],refs:[{ref:&quot;viewport&quot;,selector:&quot;#viewport&quot;},{ref:&quot;index&quot;,selector:&quot;#commentindex&quot;},{ref:&quot;commentsFullList&quot;,selector:&quot;commentsFullList&quot;}],recentCommentsSettings:{},init:function(){this.control({commentsFullList:{hideReadChange:function(){this.fetchRecentComments()},sortOrderChange:function(b){this.recentCommentsSettings.sortByScore=(b===&quot;votes&quot;);this.fetchRecentComments()}},commentsPager:{loadMore:function(b){this.fetchRecentComments(b)}},commentsUsers:{select:function(b){this.recentCommentsSettings.username=b;this.fetchRecentComments()}},commentsTargets:{select:function(b){this.recentCommentsSettings.targetId=b&amp;&amp;b.get(&quot;id&quot;);this.fetchRecentComments()}},commentsTags:{select:function(b){this.recentCommentsSettings.tagname=b&amp;&amp;b.get(&quot;tagname&quot;);this.fetchRecentComments()}}})},loadIndex:function(){this.fireEvent(&quot;loadIndex&quot;);Ext.getCmp(&quot;treecontainer&quot;).hide();if(!this.recentComments){this.fetchRecentComments();this.recentComments=true}this.callParent([true])},fetchRecentComments:function(f){var e=Docs.Settings.get(&quot;comments&quot;);var d={offset:f||0,limit:100,hideRead:e.hideRead?1:undefined,sortByScore:this.recentCommentsSettings.sortByScore?1:undefined,username:this.recentCommentsSettings.username,targetId:this.recentCommentsSettings.targetId,tagname:this.recentCommentsSettings.tagname};this.getCommentsFullList().setMasked(true);Docs.Comments.request(&quot;jsonp&quot;,{url:&quot;/comments_recent&quot;,method:&quot;GET&quot;,params:d,success:function(a){this.getCommentsFullList().setMasked(false);var b=f&gt;0;this.getCommentsFullList().load(a,b)},scope:this})}});Ext.define(&quot;Docs.view.search.Container&quot;,{extend:&quot;Ext.container.Container&quot;,alias:&quot;widget.searchcontainer&quot;,requires:&quot;Docs.view.search.Dropdown&quot;,initComponent:function(){if(Docs.data.search.length){this.cls=&quot;search&quot;;this.items=[{xtype:&quot;triggerfield&quot;,triggerCls:&quot;reset&quot;,emptyText:&quot;Search&quot;,width:170,id:&quot;search-field&quot;,enableKeyEvents:true,hideTrigger:true,onTriggerClick:function(){this.reset();this.focus();this.setHideTrigger(true);Ext.getCmp(&quot;search-dropdown&quot;).hide()}},{xtype:&quot;searchdropdown&quot;}]}this.callParent()}});Ext.define(&quot;Docs.view.Tabs&quot;,{extend:&quot;Ext.container.Container&quot;,alias:&quot;widget.doctabs&quot;,id:&quot;doctabs&quot;,componentCls:&quot;doctabs&quot;,requires:[&quot;Docs.History&quot;,&quot;Docs.ClassRegistry&quot;,&quot;Docs.view.TabMenu&quot;],minTabWidth:80,maxTabWidth:160,animDuration:150,tabs:[],tabsInBar:[],tabCache:{},staticTabs:[],initComponent:function(){this.addEvents(&quot;tabActivate&quot;,&quot;tabClose&quot;);this.tpl=Ext.create(&quot;Ext.XTemplate&quot;,&#39;&lt;tpl for=&quot;.&quot;&gt;&#39;,&#39;&lt;div class=&quot;doctab overview {cls}{active}&quot;&gt;&#39;,&#39;&lt;div class=&quot;l&quot;&gt;&lt;/div&gt;&#39;,&#39;&lt;div class=&quot;m&quot;&gt;&#39;,&#39;&lt;tpl if=&quot;text&quot;&gt;&#39;,&#39;&lt;a class=&quot;tabUrl ov-tab-text&quot; href=&quot;{href}&quot;&gt;{text}&lt;/a&gt;&#39;,&quot;&lt;tpl else&gt;&quot;,&#39;&lt;a class=&quot;tabUrl ov-tab&quot; href=&quot;{href}&quot;&gt;&amp;nbsp;&lt;/a&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;r&quot;&gt;&lt;/div&gt;&#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/tpl&gt;&quot;,&#39;&lt;div style=&quot;float: left; width: 8px&quot;&gt;&amp;nbsp;&lt;/div&gt;&#39;,&#39;&lt;div class=&quot;tab-overflow&quot;&gt;&lt;/div&gt;&#39;);this.html=this.tpl.applyTemplate(this.staticTabs);this.tabTpl=Ext.create(&quot;Ext.XTemplate&quot;,&#39;&lt;div class=&quot;doctab&#39;,&#39;{[values.active ? (&quot; active&quot;) : &quot;&quot;]}&#39;,&#39;&quot; style=&quot;&#39;,&#39;{[values.width ? (&quot;width: &quot; + values.width + &quot;px;&quot;) : &quot;&quot;]}&#39;,&#39;{[values.visible ? &quot;&quot; : &quot;visibility: hidden;&quot;]}&quot;&gt;&#39;,&#39;&lt;div class=&quot;l&quot;&gt;&lt;/div&gt;&#39;,&#39;&lt;div class=&quot;m&quot;&gt;&#39;,&#39;&lt;span class=&quot;icn {iconCls}&quot;&gt;&amp;nbsp;&lt;/span&gt;&#39;,&#39;&lt;a class=&quot;tabUrl main-tab&quot; href=&quot;{href}&quot;&gt;{text}&lt;/a&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;r&quot;&gt;&lt;a class=&quot;close&quot; href=&quot;#&quot;&gt;&amp;nbsp;&lt;/a&gt;&lt;/div&gt;&#39;,&quot;&lt;/div&gt;&quot;);this.on(&quot;afterrender&quot;,this.initListeners,this);this.on(&quot;resize&quot;,this.refresh,this);this.callParent()},initListeners:function(){this.el.on(&quot;mouseover&quot;,function(c,d){Ext.get(d).addCls(&quot;ovr&quot;)},this,{delegate:&quot;.close&quot;});this.el.on(&quot;mouseout&quot;,function(c,d){Ext.get(d).removeCls(&quot;ovr&quot;)},this,{delegate:&quot;.close&quot;});this.el.on(&quot;click&quot;,function(f,d){var e=Ext.get(d).up(&quot;.doctab&quot;).down(&quot;.tabUrl&quot;).getAttribute(&quot;href&quot;);e=Docs.History.cleanUrl(e);this.removeTab(e);this.fireEvent(&quot;tabClose&quot;,e)},this,{delegate:&quot;.close&quot;,preventDefault:true});this.el.on(&quot;click&quot;,function(f,d){if(Ext.fly(f.getTarget()).hasCls(&quot;close&quot;)){return}var e=Ext.get(d).down(&quot;.tabUrl&quot;).getAttribute(&quot;href&quot;);this.fireEvent(&quot;tabActivate&quot;,e,{navigate:true})},this,{delegate:&quot;.doctab&quot;});this.el.on(&quot;contextmenu&quot;,function(c,d){if(!Ext.get(d).hasCls(&quot;overview&quot;)){this.createMenu().showBy(d)}},this,{delegate:&quot;.doctab&quot;,preventDefault:true});this.el.on(&quot;click&quot;,Ext.emptyFn,this,{delegate:&quot;.tabUrl&quot;,preventDefault:true});this.el.on(&quot;mouseleave&quot;,function(){if(this.shouldResize){this.resizeTabs({animate:true})}},this)},setStaticTabs:function(b){this.staticTabs=b;this.refresh()},getStaticTabs:function(b){return this.staticTabs},addTab:function(d,c){d=this.formatTabTexts(d);this.tabCache[d.href]=d;if(!this.hasTab(d.href)){this.tabs.push(d.href);if(this.roomForNewTab()){this.addTabToBar(d,c)}this.addTabToMenu(this.overflowButton.menu,d)}if(c.activate){this.activateTab(d.href)}this.saveTabs()},formatTabTexts:function(c){if(/#!?\/api\//.test(c.href)){var d=c.href.replace(/^.*#!?\/api\//,&quot;&quot;);c.text=Docs.ClassRegistry.shortName(d);c.tooltip=d}else{c.tooltip=c.text}return c},removeTab:function(d){if(!this.hasTab(d)){return}this.removeFromArray(this.tabs,d);var e=this.removeFromArray(this.tabsInBar,d);var f=this.tabs[this.tabsInBar.length];if(f){this.tabsInBar.push(f)}if(this.activeTab===d){if(this.tabs.length===0){Docs.App.getController(this.getControllerName(d)).loadIndex()}else{if(e===this.tabs.length){e-=1}this.activateTab(this.tabs[e]);this.fireEvent(&quot;tabActivate&quot;,this.tabs[e])}}if(this.tabs.length&gt;=this.maxTabsInBar()){this.refresh()}else{this.removeTabFromBar(d)}this.saveTabs()},removeFromArray:function(f,d){var e=Ext.Array.indexOf(f,d);if(e!==-1){Ext.Array.erase(f,e,1)}return e},activateTab:function(d){this.activeTab=d;if(!this.inTabs(d)){this.swapLastTabWith(d)}Ext.Array.each(Ext.query(&quot;.doctab a.tabUrl&quot;),function(a){Ext.get(a).up(&quot;.doctab&quot;).removeCls([&quot;active&quot;,&quot;highlight&quot;])});var e=Ext.query(&#39;.doctab a[href=&quot;&#39;+d+&#39;&quot;]&#39;)[0];if(e){var f=Ext.get(e).up(&quot;.doctab&quot;);f.addCls(&quot;active&quot;)}this.highlightOverviewTab(d)},refresh:function(){var i=this.tpl.applyTemplate(this.staticTabs);var f=this.maxTabsInBar()&lt;this.tabs.length?this.maxTabsInBar():this.tabs.length;this.tabsInBar=this.tabs.slice(0,f);for(var j=0;j&lt;f;j++){var h=this.tabCache[this.tabs[j]];var g=Ext.apply(h,{visible:true,active:this.activeTab===h.href,width:this.tabWidth()});i+=this.tabTpl.applyTemplate(g)}this.el.dom.innerHTML=i;if(this.activeTab&amp;&amp;this.activeTab!==this.tabs[f-1]){this.activateTab(this.activeTab);this.fireEvent(&quot;tabActivate&quot;,this.activeTab)}this.highlightOverviewTab(this.activeTab);this.createOverflowButton();this.addToolTips()},closeAllTabs:function(){if(this.inTabBar(this.activeTab)){this.tabs=this.tabsInBar=[this.activeTab]}else{this.tabs=this.tabsInBar=[]}this.refresh();this.saveTabs()},tabData:function(){return Ext.Array.map(this.tabs,function(b){return this.tabCache[b]},this)},roomForNewTab:function(){return this.tabsInBar.length&lt;this.maxTabsInBar()},hasTab:function(b){return Ext.Array.contains(this.tabs,b)},addTabToBar:function(e,d){this.tabsInBar.push(e.href);var f=Ext.get(this.tabTpl.append(this.el.dom,e));this.addMainTabTooltip(f,e);if(d.animate&amp;&amp;!Ext.isIE){f.setStyle(&quot;width&quot;,&quot;10px&quot;);f.setStyle({visibility:&quot;visible&quot;});f.animate({to:{width:this.tabWidth()}})}else{f.setStyle({visibility:&quot;visible&quot;})}this.resizeTabs(d)},inTabBar:function(b){return Ext.Array.contains(this.tabsInBar,b)},inTabs:function(d){var c=Ext.Array.pluck(this.staticTabs,&quot;href&quot;).concat(this.tabsInBar);return Ext.Array.contains(c,d)},removeTabFromBar:function(d){var c=this.getTabEl(d);c.dom.removed=true;if(Ext.isIE){c.remove();this.createOverflowButton()}else{c.animate({to:{top:30},duration:this.animDuration}).animate({to:{width:10},duration:this.animDuration,listeners:{afteranimate:function(){c.remove();this.shouldResize=true;this.createOverflowButton()},scope:this}})}},swapLastTabWith:function(d){var e=this.getTabEl(this.tabsInBar[this.tabsInBar.length-1]);if(e){var f=this.tabTpl.append(document.body,this.tabCache[d]);e.dom.parentNode.replaceChild(f,e.dom);this.tabsInBar[this.tabsInBar.length-1]=d;Ext.get(f).setStyle({visibility:&quot;visible&quot;,width:String(this.tabWidth())+&quot;px&quot;});this.addMainTabTooltip(f,this.tabCache[d])}},highlightOverviewTab:function(d){var c=Ext.query(&quot;.doctab.&quot;+this.getControllerName(d).toLowerCase());if(c&amp;&amp;c[0]){Ext.get(c[0]).addCls(&quot;highlight&quot;)}},maxTabsInBar:function(){return Math.floor(this.tabBarWidth()/this.minTabWidth)},tabWidth:function(){var b=Math.floor(this.tabBarWidth()/this.tabsInBar.length)+6;if(b&gt;this.maxTabWidth){return this.maxTabWidth}else{if(b&lt;this.minTabWidth){return this.minTabWidth}else{return b}}},tabBarWidth:function(){return this.getWidth()-(this.staticTabs.length*50)-15},resizeTabs:function(b){this.shouldResize=false;Ext.Array.each(Ext.query(&quot;.doctab&quot;),function(a){var d=Ext.get(a);if(!d.dom.removed&amp;&amp;!d.hasCls(&quot;overview&quot;)){if(b&amp;&amp;b.animate&amp;&amp;!Ext.isIE){d.animate({to:{width:this.tabWidth()}})}else{d.setWidth(this.tabWidth())}}},this)},getTabEl:function(c){var d=Ext.query(&#39;.doctab a[href=&quot;&#39;+c+&#39;&quot;]&#39;);if(d&amp;&amp;d[0]){return Ext.get(d[0]).up(&quot;.doctab&quot;)}},createOverflowButton:function(){if(this.overflowButton){this.overflowButton.destroy()}this.overflowButton=Ext.create(&quot;Ext.button.Button&quot;,{baseCls:&quot;&quot;,renderTo:this.getEl().down(&quot;.tab-overflow&quot;),menu:this.createMenu()})},createMenu:function(){var b=new Docs.view.TabMenu({listeners:{closeAllTabs:this.closeAllTabs,tabItemClick:function(a){this.fireEvent(&quot;tabActivate&quot;,a.href,{navigate:true})},scope:this}});Ext.Array.each(this.tabs,function(a){this.addTabToMenu(b,this.tabCache[a])},this);return b},addTabToMenu:function(g,h){var f=Ext.Array.indexOf(this.tabs,h.href);if(this.tabs.length&gt;this.tabsInBar.length&amp;&amp;f===this.maxTabsInBar()){g.addTabCls(h,&quot;overflow&quot;)}var e=this.inTabBar(h.href);g.addTab(h,e?&quot;&quot;:&quot;overflow&quot;)},addToolTips:function(){Ext.Array.each(this.staticTabs,function(c){var d=Ext.get(Ext.query(&quot;.doctab.&quot;+c.cls)[0]);if(d){Ext.create(&quot;Ext.tip.ToolTip&quot;,{target:d,html:c.tooltip})}});Ext.Array.each(this.tabsInBar,function(e){var f=Ext.get(Ext.query(&#39;a.main-tab[href=&quot;&#39;+e+&#39;&quot;]&#39;)[0]);var d=this.tabCache[e];if(f){this.addMainTabTooltip(f.up(&quot;.doctab&quot;),d)}},this)},addMainTabTooltip:function(c,d){if(d.tooltip){Ext.create(&quot;Ext.tip.ToolTip&quot;,{target:c,html:d.tooltip})}},saveTabs:function(){Docs.Settings.set(&quot;tabs&quot;,this.tabs)},getControllerName:function(b){if(/#!?\/api/.test(b)){return&quot;Classes&quot;}else{if(/#!?\/guide/.test(b)){return&quot;Guides&quot;}else{if(/#!?\/video/.test(b)){return&quot;Videos&quot;}else{if(/#!?\/example/.test(b)){return&quot;Examples&quot;}else{if(/#!?\/tests/.test(b)){return&quot;Tests&quot;}else{if(/#!?\/comment/.test(b)){return&quot;Comments&quot;}else{return&quot;Index&quot;}}}}}}}});Ext.define(&quot;Docs.view.welcome.Index&quot;,{extend:&quot;Ext.container.Container&quot;,alias:&quot;widget.welcomeindex&quot;,mixins:[&quot;Docs.view.Scrolling&quot;],requires:[&quot;Docs.ContentGrabber&quot;],cls:&quot;welcome iScroll&quot;,initComponent:function(){this.html=Docs.ContentGrabber.get(&quot;welcome-content&quot;);this.hasContent=!!this.html;this.callParent(arguments)},getTab:function(){return this.hasContent?{cls:&quot;index&quot;,href:&quot;#&quot;,tooltip:&quot;Home&quot;}:false}});Ext.define(&quot;Docs.view.cls.Index&quot;,{extend:&quot;Ext.container.Container&quot;,alias:&quot;widget.classindex&quot;,requires:[&quot;Docs.ContentGrabber&quot;,&quot;Docs.Comments&quot;],mixins:[&quot;Docs.view.Scrolling&quot;],cls:&quot;class-categories iScroll&quot;,margin:&quot;15 10&quot;,autoScroll:true,initComponent:function(){this.tpl=new Ext.XTemplate(&#39;&lt;h1 class=&quot;top&quot; style=&quot;padding-bottom: 10px&quot;&gt;API Documentation&lt;/h1&gt;&#39;,&#39;&lt;tpl if=&quot;notice&quot;&gt;&#39;,&#39;&lt;div class=&quot;notice&quot;&gt;{notice}&lt;/div&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&quot;{categories}&quot;,&quot;{news}&quot;);this.data={notice:Docs.data.message||Docs.ContentGrabber.get(&quot;notice-text&quot;),categories:Docs.ContentGrabber.get(&quot;categories-content&quot;),news:Docs.ContentGrabber.get(&quot;news-content&quot;)};this.callParent(arguments)},afterRender:function(){this.callParent(arguments);if(!Docs.Comments.isEnabled()){return}this.initComments()},initComments:function(){this.getEl().select(&quot;a.docClass&quot;).each(function(a){var f=a.getHTML();var e=Docs.Comments.getClassTotalCount(f);if(e){Ext.DomHelper.append(a,Docs.Comments.counterHtml(e))}},this)},updateCommentCounts:function(){if(!this.getEl()){return}this.getEl().select(&quot;.comment-counter-small&quot;).remove();this.initComments()},getTab:function(){var b=(Docs.data.classes||[]).length&gt;0;return b?{cls:&quot;classes&quot;,href:&quot;#!/api&quot;,tooltip:&quot;API Documentation&quot;}:false}});Ext.define(&quot;Docs.view.examples.TouchContainer&quot;,{extend:&quot;Ext.panel.Panel&quot;,alias:&quot;widget.touchexamplecontainer&quot;,requires:[&quot;Docs.view.examples.Device&quot;],layout:&quot;fit&quot;,cls:&quot;example-container iScroll&quot;,autoScroll:true,bodyPadding:&quot;10 0 5 0&quot;,initComponent:function(){this.dockedItems=[{xtype:&quot;container&quot;,dock:&quot;top&quot;,html:[&#39;&lt;h1 class=&quot;example-title&quot;&gt;Example&lt;/h1&gt;&#39;,&#39;&lt;div class=&quot;cls-grouping example-toolbar&quot;&gt;&#39;,&#39;&lt;div class=&quot;devices&quot;&gt;&#39;,&#39;&lt;button class=&quot;phone selected&quot;&gt;Phone&lt;/button&gt;&#39;,&#39;&lt;button class=&quot;tablet&quot;&gt;Tablet&lt;/button&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;span class=&quot;separator&quot;&gt;&amp;nbsp;&lt;/span&gt;&#39;,&#39;&lt;div class=&quot;orientations&quot;&gt;&#39;,&#39;&lt;button class=&quot;landscape selected&quot;&gt;Landscape&lt;/button&gt;&#39;,&#39;&lt;button class=&quot;portrait&quot;&gt;Portrait&lt;/button&gt;&#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;div&gt;&quot;,&#39;&lt;button class=&quot;new-window&quot;&gt;Open in new window&lt;/button&gt;&#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;)}];this.callParent(arguments)},load:function(b){this.title=b.title+&quot; Example&quot;;this.device=Ext.create(&quot;Docs.view.examples.Device&quot;,{url:b.url,device:b.device||&quot;phone&quot;,orientation:b.orientation||&quot;landscape&quot;});this.refresh()},refresh:function(){this.update(this.device.toHtml());this.updateScale();this.updateTitle();this.updateButtons()},setDevice:function(b){this.device.setDevice(b);this.refresh()},setOrientation:function(b){this.device.setOrientation(b);this.refresh()},updateScale:function(){var b=Ext.query(&quot;iframe&quot;,this.el.dom)[0];if(b){b.onload=Ext.Function.bind(function(){var d=document.createElement(&quot;style&quot;);var a=&quot;html { overflow: hidden }&quot;;if(this.device.getDevice()===&quot;tablet&quot;){a+=&quot;body { font-size: 79.8% !important; }&quot;}d.innerHTML=a;b.contentWindow.document.body.appendChild(d)},this)}},updateTitle:function(){Ext.get(Ext.query(&quot;.example-title&quot;)).update(this.title)},updateButtons:function(){Ext.Array.each(Ext.query(&quot;.example-toolbar .orientations button&quot;),function(b){Ext.get(b).removeCls(&quot;selected&quot;)});Ext.get(Ext.query(&quot;.example-toolbar .orientations button.&quot;+this.device.getOrientation())).addCls(&quot;selected&quot;);Ext.Array.each(Ext.query(&quot;.example-toolbar .devices button&quot;),function(b){Ext.get(b).removeCls(&quot;selected&quot;)});Ext.get(Ext.query(&quot;.example-toolbar .devices button.&quot;+this.device.getDevice())).addCls(&quot;selected&quot;)},clear:function(){this.update(&quot;&quot;)}});Ext.define(&quot;Docs.view.GroupTree&quot;,{extend:&quot;Docs.view.DocTree&quot;,alias:&quot;widget.grouptree&quot;,initComponent:function(){this.root={text:&quot;Root&quot;,children:this.buildTree(this.data)};this.callParent()},buildTree:function(b){return Ext.Array.map(b,function(a){if(a.items){return{text:a.title,expanded:true,iconCls:&quot;icon-pkg&quot;,children:this.buildTree(a.items)}}else{return this.convert(a)}},this)}});Ext.define(&quot;Docs.view.auth.BaseForm&quot;,{extend:&quot;Ext.Component&quot;,requires:[&quot;Docs.Tip&quot;,&quot;Docs.Auth&quot;],createLoginFormHtml:function(){return[&#39;&lt;form class=&quot;loginForm&quot;&gt;&#39;,&#39;&lt;input class=&quot;username&quot; type=&quot;text&quot; name=&quot;username&quot; placeholder=&quot;Username&quot; /&gt;&#39;,&#39;&lt;input class=&quot;password&quot; type=&quot;password&quot; name=&quot;password&quot; placeholder=&quot;Password&quot; /&gt;&#39;,&#39;&lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;remember&quot; /&gt; Remember Me&lt;/label&gt;&#39;,&#39;&lt;input class=&quot;submit&quot; type=&quot;submit&quot; value=&quot;Sign in&quot; /&gt;&#39;,&quot; or &quot;,&#39;&lt;a class=&quot;register&quot; href=&quot;&#39;+Docs.Auth.getRegistrationUrl()+&#39;&quot; target=&quot;_blank&quot;&gt;Register&lt;/a&gt;&#39;,&quot;&lt;/form&gt;&quot;].join(&quot;&quot;)},bindFormSubmitEvent:function(){this.getEl().down(&quot;form&quot;).on(&quot;submit&quot;,this.submitLogin,this,{preventDefault:true})},submitLogin:function(m,h){var n=Ext.get(h);var j=n.down(&quot;input[name=username]&quot;).getValue();var i=n.down(&quot;input[name=password]&quot;).getValue();var l=n.down(&quot;input[name=remember]&quot;);var k=l?!!(l.getAttribute(&quot;checked&quot;)):false;this.fireEvent(&quot;login&quot;,this,j,i,k)},showMessage:function(c){var d=this.getEl().down(&quot;input[type=submit]&quot;);Docs.Tip.show(c,d,&quot;bottom&quot;)}});Ext.define(&quot;Docs.view.auth.HeaderForm&quot;,{extend:&quot;Docs.view.auth.BaseForm&quot;,alias:&quot;widget.authHeaderForm&quot;,requires:[&quot;Docs.Comments&quot;],afterRender:function(){this.callParent(arguments);this.getEl().addListener(&quot;click&quot;,this.showLoginForm,this,{preventDefault:true,delegate:&quot;.login&quot;});this.getEl().addListener(&quot;click&quot;,function(){this.fireEvent(&quot;logout&quot;,this)},this,{preventDefault:true,delegate:&quot;.logout&quot;})},showLoginForm:function(){this.update(this.createLoginFormHtml());this.bindFormSubmitEvent()},showLoggedIn:function(d){var c=Docs.Comments.avatar(d.emailHash);this.update(c+&quot;&lt;div&gt;&lt;span&gt;&quot;+d.userName+&#39;&lt;/span&gt; | &lt;a href=&quot;#&quot; class=&quot;logout&quot;&gt;Logout&lt;/a&gt;&lt;/div&gt;&#39;)},showLoggedOut:function(){this.update(&#39;&lt;a href=&quot;#&quot; class=&quot;login&quot;&gt;Sign in / Register&lt;/a&gt;&#39;)}});Ext.define(&quot;Docs.view.comments.Users&quot;,{alias:&quot;widget.commentsUsers&quot;,extend:&quot;Ext.panel.Panel&quot;,componentCls:&quot;comments-users&quot;,requires:[&quot;Docs.Comments&quot;,&quot;Docs.view.SimpleSelectBehavior&quot;,&quot;Docs.view.comments.FilterField&quot;],layout:&quot;border&quot;,initComponent:function(){this.items=[this.tabpanel=Ext.widget(&quot;tabpanel&quot;,{plain:true,region:&quot;north&quot;,height:50,items:[{title:&quot;Votes&quot;},{title:&quot;Comments&quot;}],dockedItems:[{dock:&quot;bottom&quot;,items:[{xtype:&quot;commentsFilterField&quot;,emptyText:&quot;Filter users by name...&quot;,width:320,height:20,listeners:{filter:this.onFilter,scope:this}}]}],listeners:{tabchange:this.onTabChange,scope:this}}),this.list=Ext.widget(&quot;dataview&quot;,{region:&quot;center&quot;,cls:&quot;iScroll users-list&quot;,autoScroll:true,store:Ext.create(&quot;Ext.data.Store&quot;,{fields:[&quot;userName&quot;,&quot;score&quot;,&quot;emailHash&quot;,&quot;mod&quot;]}),allowDeselect:true,tpl:[&quot;&lt;ul&gt;&quot;,&#39;&lt;tpl for=&quot;.&quot;&gt;&#39;,&quot;&lt;li&gt;&quot;,&#39;&lt;span class=&quot;score&quot;&gt;{score}&lt;/span&gt;&#39;,&quot;{[Docs.Comments.avatar(values.emailHash)]}&quot;,&#39;&lt;span class=&quot;username &lt;tpl if=&quot;mod&quot;&gt;moderator&lt;/tpl&gt;&quot;&gt;{userName}&lt;/span&gt;&#39;,&quot;&lt;/li&gt;&quot;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;/ul&gt;&quot;],itemSelector:&quot;li&quot;})];new Docs.view.SimpleSelectBehavior(this.list,{select:this.onSelect,deselect:this.onDeselect,scope:this});this.callParent(arguments)},afterRender:function(){this.callParent(arguments);this.fetchUsers(&quot;votes&quot;)},onTabChange:function(d,c){if(c.title===&quot;Votes&quot;){this.fetchUsers(&quot;votes&quot;)}else{this.fetchUsers(&quot;comments&quot;)}},onFilter:function(b){this.list.getSelectionModel().deselectAll();this.list.getStore().clearFilter(true);this.list.getStore().filter({property:&quot;userName&quot;,value:b,anyMatch:true})},deselectAll:function(){this.list.getSelectionModel().deselectAll()},onSelect:function(b){this.selectedUser=b;this.fireEvent(&quot;select&quot;,b.get(&quot;userName&quot;))},onDeselect:function(){this.selectedUser=undefined;this.fireEvent(&quot;select&quot;,undefined)},fetchUsers:function(b){Docs.Comments.request(&quot;jsonp&quot;,{url:&quot;/users&quot;,method:&quot;GET&quot;,params:{sortBy:b},success:this.loadUsers,scope:this})},loadUsers:function(c){this.list.getStore().loadData(c.data);if(this.selectedUser){var d=this.list.getStore().findExact(&quot;userName&quot;,this.selectedUser.get(&quot;userName&quot;));this.list.getSelectionModel().select(d,false,true)}}});Ext.override(Ext.dom.Element,{getAttribute:(Ext.isIE6||Ext.isIE7||Ext.isIE8)?function(f,h){var g=this.dom,d;if(h){d=typeof g[h+&quot;:&quot;+f];if(d!=&quot;undefined&quot;&amp;&amp;d!=&quot;unknown&quot;){return g[h+&quot;:&quot;+f]||null}return null}if(f===&quot;for&quot;){f=&quot;htmlFor&quot;}return g[f]||null}:function(e,d){var f=this.dom;if(d){return f.getAttributeNS(d,e)||f.getAttribute(d+&quot;:&quot;+e)}return f.getAttribute(e)||f[e]||null}});Ext.define(&quot;Docs.view.ThumbList&quot;,{extend:&quot;Ext.view.View&quot;,alias:&quot;widget.thumblist&quot;,requires:[&quot;Docs.Comments&quot;],cls:&quot;thumb-list&quot;,itemSelector:&quot;dl&quot;,urlField:&quot;url&quot;,commentType:&quot;&quot;,itemTpl:[],initComponent:function(){this.addEvents(&quot;urlclick&quot;);Ext.Array.forEach(this.data,function(c,d){c.id=&quot;sample-&quot;+d});this.store=Ext.create(&quot;Ext.data.JsonStore&quot;,{fields:[&quot;id&quot;,&quot;title&quot;,&quot;items&quot;]});this.store.loadData(this.flattenSubgroups(this.data));this.tpl=new Ext.XTemplate(Ext.Array.flatten([&quot;&lt;div&gt;&quot;,&#39;&lt;tpl for=&quot;.&quot;&gt;&#39;,&#39;&lt;div&gt;&lt;a name=&quot;{id}&quot;&gt;&lt;/a&gt;&lt;h2&gt;&lt;div&gt;{title}&lt;/div&gt;&lt;/h2&gt;&#39;,&quot;&lt;dl&gt;&quot;,&#39;&lt;tpl for=&quot;items&quot;&gt;&#39;,this.itemTpl,&quot;&lt;/tpl&gt;&quot;,&#39;&lt;div style=&quot;clear:left&quot;&gt;&lt;/div&gt;&lt;/dl&gt;&lt;/div&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;/div&gt;&quot;]));this.itemTpl=undefined;this.data=undefined;this.on(&quot;viewready&quot;,function(){this.initHover();if(Docs.Comments.isEnabled()){this.initComments()}},this);this.callParent(arguments)},initHover:function(){this.getEl().on(&quot;mouseover&quot;,function(c,d){Ext.get(d).addCls(&quot;over&quot;)},this,{delegate:&quot;dd&quot;});this.getEl().on(&quot;mouseout&quot;,function(c,d){Ext.get(d).removeCls(&quot;over&quot;)},this,{delegate:&quot;dd&quot;})},initComments:function(){this.getEl().select(&quot;dd&quot;).each(function(e){var d=e.getAttributeNS(&quot;ext&quot;,this.urlField).replace(/^.*\//,&quot;&quot;);var f=Docs.Comments.getCount([this.commentType,d,&quot;&quot;]);if(f){Ext.DomHelper.append(e.down(&quot;p&quot;),Docs.Comments.counterHtml(f))}},this)},updateCommentCounts:function(){if(!this.getEl()){return}this.getEl().select(&quot;.comment-counter-small&quot;).remove();this.initComments()},flattenSubgroups:function(c){function d(a){if(a.items){return Ext.Array.map(a.items,d)}else{return a}}return Ext.Array.map(c,function(a){return{id:a.id,title:a.title,items:Ext.Array.map(a.items,function(b){if(b.items){var f=Ext.apply({},d(b)[0]);f.title=b.title;return f}else{return b}})}})},onContainerClick:function(c){var d=c.getTarget(&quot;h2&quot;,3,true);if(d){d.up(&quot;div&quot;).toggleCls(&quot;collapsed&quot;)}},onItemClick:function(h,j,l,i){var k=i.getTarget(&quot;dd&quot;,5,true);if(k&amp;&amp;!i.getTarget(&quot;a&quot;,2)){var e=k.getAttributeNS(&quot;ext&quot;,this.urlField);this.fireEvent(&quot;urlclick&quot;,e)}return this.callParent(arguments)}});Ext.define(&quot;Docs.view.guides.Index&quot;,{extend:&quot;Ext.container.Container&quot;,alias:&quot;widget.guideindex&quot;,requires:[&quot;Docs.view.ThumbList&quot;],mixins:[&quot;Docs.view.Scrolling&quot;],cls:&quot;iScroll&quot;,margin:&quot;10 0 0 0&quot;,autoScroll:true,initComponent:function(){this.items=[{xtype:&quot;container&quot;,html:&#39;&lt;h1 class=&quot;eg&quot;&gt;Guides&lt;/h1&gt;&#39;},Ext.create(&quot;Docs.view.ThumbList&quot;,{commentType:&quot;guide&quot;,itemTpl:[&#39;&lt;dd ext:url=&quot;#!/guide/{name}&quot;&gt;&lt;div class=&quot;thumb&quot;&gt;&lt;img src=&quot;guides/{name}/icon.png&quot;/&gt;&lt;/div&gt;&#39;,&quot;&lt;div&gt;&lt;h4&gt;{title}&lt;/h4&gt;&lt;p&gt;{description}&lt;/p&gt;&lt;/div&gt;&quot;,&quot;&lt;/dd&gt;&quot;],data:Docs.data.guides})];this.callParent(arguments)},getTab:function(){var b=(Docs.data.guides||[]).length&gt;0;return b?{cls:&quot;guides&quot;,href:&quot;#!/guide&quot;,tooltip:&quot;Guides&quot;}:false},updateCommentCounts:function(){this.down(&quot;thumblist&quot;).updateCommentCounts()}});Ext.define(&quot;Docs.view.videos.Index&quot;,{extend:&quot;Ext.container.Container&quot;,alias:&quot;widget.videoindex&quot;,requires:[&quot;Docs.view.ThumbList&quot;],mixins:[&quot;Docs.view.Scrolling&quot;],cls:&quot;iScroll&quot;,margin:&quot;10 0 0 0&quot;,autoScroll:true,initComponent:function(){this.items=[{xtype:&quot;container&quot;,html:&#39;&lt;h1 class=&quot;eg&quot;&gt;Videos&lt;/h1&gt;&#39;},Ext.create(&quot;Docs.view.ThumbList&quot;,{commentType:&quot;video&quot;,itemTpl:[&#39;&lt;dd ext:url=&quot;#!/video/{name}&quot;&gt;&lt;div class=&quot;thumb&quot;&gt;&lt;img src=&quot;{thumb}&quot;/&gt;&lt;/div&gt;&#39;,&quot;&lt;div&gt;&lt;h4&gt;{title}&quot;,&quot;&lt;/h4&gt;&lt;p&gt;{[values.description.substr(0,80)]}...&lt;/p&gt;&lt;/div&gt;&quot;,&quot;&lt;/dd&gt;&quot;],data:Docs.data.videos})];this.callParent(arguments)},getTab:function(){var b=(Docs.data.videos||[]).length&gt;0;return b?{cls:&quot;videos&quot;,href:&quot;#!/video&quot;,tooltip:&quot;Videos&quot;}:false},updateCommentCounts:function(){this.down(&quot;thumblist&quot;).updateCommentCounts()}});Ext.define(&quot;Docs.view.examples.Index&quot;,{extend:&quot;Ext.container.Container&quot;,alias:&quot;widget.exampleindex&quot;,requires:[&quot;Docs.view.ThumbList&quot;],mixins:[&quot;Docs.view.Scrolling&quot;],cls:&quot;iScroll&quot;,margin:&quot;10 0 0 0&quot;,autoScroll:true,initComponent:function(){this.cls+=Docs.data.touchExamplesUi?&quot; touch-examples-ui&quot;:&quot;&quot;;this.items=[{xtype:&quot;container&quot;,html:&#39;&lt;h1 class=&quot;eg&quot;&gt;Examples&lt;/h1&gt;&#39;},Ext.create(&quot;Docs.view.ThumbList&quot;,{itemTpl:[&#39;&lt;dd ext:url=&quot;#!/example/{name}&quot;&gt;&#39;,&#39;&lt;div class=&quot;thumb&quot;&gt;&lt;img src=&quot;{icon}&quot;/&gt;&lt;/div&gt;&#39;,&quot;&lt;div&gt;&lt;h4&gt;{title}&quot;,&quot;&lt;tpl if=\&quot;status === &#39;new&#39;\&quot;&gt;&quot;,&#39;&lt;span class=&quot;new-sample&quot;&gt; (New)&lt;/span&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;tpl if=\&quot;status === &#39;updated&#39;\&quot;&gt;&quot;,&#39;&lt;span class=&quot;updated-sample&quot;&gt; (Updated)&lt;/span&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;tpl if=\&quot;status === &#39;experimental&#39;\&quot;&gt;&quot;,&#39;&lt;span class=&quot;new-sample&quot;&gt; (Experimental)&lt;/span&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;/h4&gt;&lt;p&gt;{description}&lt;/p&gt;&lt;/div&gt;&quot;,&quot;&lt;/dd&gt;&quot;],data:Docs.data.examples})];this.callParent(arguments)},getTab:function(){var b=(Docs.data.examples||[]).length&gt;0;return b?{cls:&quot;examples&quot;,href:&quot;#!/example&quot;,tooltip:&quot;Examples&quot;}:false}});Ext.define(&quot;Docs.view.examples.Inline&quot;,{extend:&quot;Ext.Panel&quot;,alias:&quot;widget.inlineexample&quot;,requires:[&quot;Docs.view.examples.InlineEditor&quot;,&quot;Docs.view.examples.InlinePreview&quot;],componentCls:&quot;inline-example-cmp&quot;,layout:&quot;card&quot;,border:0,resizable:{transparent:true,handles:&quot;s&quot;,constrainTo:false},maxCodeHeight:400,options:{},constructor:function(){this.callParent(arguments);this.addEvents(&quot;previewsuccess&quot;,&quot;previewfailure&quot;)},initComponent:function(){this.options=Ext.apply({device:&quot;phone&quot;,orientation:&quot;landscape&quot;},this.options);this.items=[this.editor=Ext.create(&quot;Docs.view.examples.InlineEditor&quot;,{cmpName:&quot;code&quot;,value:this.value,listeners:{init:this.updateHeight,change:this.updateHeight,scope:this}}),this.preview=Ext.create(&quot;Docs.view.examples.InlinePreview&quot;,{cmpName:&quot;preview&quot;,options:this.options})];this.relayEvents(this.preview,[&quot;previewsuccess&quot;,&quot;previewfailure&quot;]);if(this.options.preview){this.activeItem=1;if(this.toolbar){this.toolbar.activateButton(&quot;preview&quot;)}}else{this.activeItem=0;if(this.toolbar){this.toolbar.activateButton(&quot;code&quot;)}}this.on(&quot;afterrender&quot;,this.init,this);this.callParent(arguments)},init:function(){var b=this.layout.getActiveItem();if(b.cmpName===&quot;preview&quot;){this.showPreview()}this.updateHeight();if(this.toolbar){this.initToolbarEvents()}},initToolbarEvents:function(){this.toolbar.on(&quot;buttonclick&quot;,function(b){if(b===&quot;code&quot;){this.showCode()}else{if(b===&quot;preview&quot;){this.showPreview()}else{if(b===&quot;copy&quot;){this.showCode();this.editor.selectAll()}}}},this)},showCode:function(){this.layout.setActiveItem(0);this.updateHeight();if(this.toolbar){this.toolbar.activateButton(&quot;code&quot;)}},showPreview:function(){this.preview.update(this.editor.getValue());this.layout.setActiveItem(1);this.updateHeight();if(this.toolbar){this.toolbar.activateButton(&quot;preview&quot;)}},updateHeight:function(){var d=this.preview.getHeight();var e=this.editor.getHeight();var f=30;if(Docs.data.touchExamplesUi&amp;&amp;d&gt;0){this.setHeight(d+f)}else{if(e&gt;0){this.setHeight(Ext.Number.constrain(e+f,0,this.maxCodeHeight))}}}});Ext.define(&quot;Docs.view.examples.InlineWrap&quot;,{requires:[&quot;Docs.view.examples.Inline&quot;,&quot;Docs.view.examples.InlineToolbar&quot;],constructor:function(c){this.pre=c;var d=this.parseOptions(c.className);this.initToolbar();if(d.preview){this.replacePre(d)}else{this.tb.on(&quot;buttonclick&quot;,function(a){d.preview=(a===&quot;preview&quot;);this.replacePre(d)},this,{single:true})}},parseOptions:function(c){var d={};Ext.Array.forEach(c.split(/ +/),function(a){if(a===&quot;phone&quot;||a===&quot;miniphone&quot;||a===&quot;tablet&quot;){d.device=a}else{if(a===&quot;ladscape&quot;||a===&quot;portrait&quot;){d.orientation=a}else{d[a]=true}}});return d},initToolbar:function(){var b=document.createElement(&quot;div&quot;);this.pre.parentNode.insertBefore(b,this.pre);this.tb=Ext.create(&quot;Docs.view.examples.InlineToolbar&quot;,{renderTo:b})},replacePre:function(d){var c=document.createElement(&quot;div&quot;);this.pre.parentNode.replaceChild(c,this.pre);Ext.create(&quot;Docs.view.examples.Inline&quot;,{height:200,renderTo:c,value:Ext.String.htmlDecode(Ext.util.Format.stripTags(this.pre.innerHTML)),options:d,toolbar:this.tb})}});Ext.define(&quot;Docs.controller.InlineExamples&quot;,{extend:&quot;Ext.app.Controller&quot;,requires:[&quot;Docs.view.examples.InlineWrap&quot;],init:function(){this.control({classoverview:{resize:this.createResizer(&quot;.class-overview&quot;),afterload:this.replaceExampleDivs},guidecontainer:{resize:this.createResizer(&quot;.guide-container&quot;),afterload:this.replaceExampleDivs}})},createResizer:function(b){return function(){Ext.Array.each(Ext.ComponentQuery.query(b+&quot; .inlineexample&quot;),function(a){if(a.editor&amp;&amp;a.isVisible()){a.doLayout()}})}},replaceExampleDivs:function(){Ext.Array.each(Ext.query(&quot;.inline-example&quot;),function(b){Ext.create(&quot;Docs.view.examples.InlineWrap&quot;,b)},this)}});Ext.define(&quot;Docs.view.tests.BatchRunner&quot;,{extend:&quot;Ext.container.Container&quot;,requires:[&quot;Docs.view.examples.Inline&quot;],initComponent:function(){this.addEvents(&quot;start&quot;,&quot;finish&quot;,&quot;statuschange&quot;);this.callParent(arguments)},run:function(b){this.fireEvent(&quot;start&quot;);this.runNext({pass:0,fail:0,total:b.length,remaining:b})},runNext:function(h){this.fireEvent(&quot;statuschange&quot;,h);if(!h.remaining||h.remaining.length&lt;1){this.fireEvent(&quot;finish&quot;);return}var j=h.remaining.shift();var i=j.get(&quot;options&quot;);i.preview=false;var f=&quot;var alert = function(){};\n&quot;;var g=Ext.create(&quot;Docs.view.examples.Inline&quot;,{cls:&quot;doc-test-preview&quot;,height:0,value:f+j.get(&quot;code&quot;),options:i,listeners:{previewsuccess:function(a){this.onSuccess(j,h)},previewfailure:function(a,b){this.onFailure(j,h,b)},scope:this}});this.removeAll();this.add(g);g.showPreview()},onSuccess:function(d,c){d.set(&quot;status&quot;,&quot;success&quot;);d.commit();c.pass++;this.runNext(c)},onFailure:function(e,f,d){e.set(&quot;status&quot;,&quot;failure&quot;);e.set(&quot;message&quot;,d.toString());e.commit();f.fail++;this.runNext(f)}});Ext.define(&quot;Docs.view.tests.Index&quot;,{extend:&quot;Ext.container.Container&quot;,requires:[&quot;Docs.model.Test&quot;,&quot;Docs.view.tests.BatchRunner&quot;],mixins:[&quot;Docs.view.Scrolling&quot;],alias:&quot;widget.testsindex&quot;,layout:{type:&quot;vbox&quot;,align:&quot;stretch&quot;,shrinkToFit:true},padding:10,initComponent:function(){this.store=Ext.create(&quot;Ext.data.Store&quot;,{model:&quot;Docs.model.Test&quot;,data:[]});this.grid=Ext.create(&quot;Ext.grid.Panel&quot;,{itemId:&quot;testsgrid&quot;,padding:&quot;5 0 5 0&quot;,autoScroll:true,flex:1,store:this.store,selModel:{mode:&quot;MULTI&quot;},columns:[{xtype:&quot;templatecolumn&quot;,text:&quot;Name&quot;,width:300,tpl:&#39;&lt;a href=&quot;{href}&quot;&gt;{name}&lt;/a&gt;&#39;},{xtype:&quot;templatecolumn&quot;,text:&quot;Status&quot;,width:80,tpl:&#39;&lt;span class=&quot;doc-test-{status}&quot;&gt;{status}&lt;/span&gt;&#39;},{text:&quot;Message&quot;,flex:1,dataIndex:&quot;message&quot;}],listeners:{itemdblclick:function(c,d){this.batchRunner.run([d])},scope:this}});this.batchRunner=Ext.create(&quot;Docs.view.tests.BatchRunner&quot;,{height:0,listeners:{start:this.disable,finish:this.enable,statuschange:this.updateTestStatus,scope:this}});this.items=[{html:&quot;&lt;h1&gt;Inline examples test page&lt;/h1&gt;&quot;,height:30},{itemId:&quot;testcontainer&quot;,layout:{type:&quot;vbox&quot;,align:&quot;stretch&quot;,shrinkToFit:true},flex:1,items:[{itemId:&quot;testcontrols&quot;,layout:&quot;hbox&quot;,items:[{html:&quot;&lt;b&gt;Double-click&lt;/b&gt; to run an example, or&quot;,margin:&quot;5 5 5 0&quot;},{xtype:&quot;button&quot;,itemId:&quot;run-selected-button&quot;,text:&quot;Run Selected&quot;,margin:5,handler:function(){this.batchRunner.run(this.grid.getSelectionModel().getSelection())},scope:this},{html:&quot;or&quot;,margin:5},{xtype:&quot;button&quot;,itemId:&quot;run-all-button&quot;,text:&quot;Run All Examples&quot;,margin:5,handler:function(){this.batchRunner.run(this.store.getRange())},scope:this},{itemId:&quot;testStatus&quot;,margin:&quot;5 5 5 15&quot;}]},this.grid]},this.batchRunner];this.callParent(arguments)},getTab:function(){return Docs.data.tests?{cls:&quot;tests&quot;,href:&quot;#!/tests&quot;,tooltip:&quot;Tests&quot;,text:&quot;Tests&quot;}:false},addExamples:function(b){this.store.add(b);this.setStatus(true,this.store.getCount()+&quot; examples loaded.&quot;)},updateTestStatus:function(d){var c=d.pass+d.fail;this.setStatus(d.fail===0,c+&quot;/&quot;+d.total+&quot; examples tested, &quot;+d.fail+&quot; failures&quot;)},setStatus:function(d,f){var e=d?&quot;doc-test-success&quot;:&quot;doc-test-failure&quot;;this.down(&quot;#testStatus&quot;).update(&#39;&lt;span class=&quot;&#39;+e+&#39;&quot;&gt;&#39;+f+&quot;&lt;/span&gt;&quot;)}});Ext.define(&quot;Docs.view.cls.PackageLogic&quot;,{extend:&quot;Docs.view.cls.Logic&quot;,requires:&quot;Docs.ClassRegistry&quot;,create:function(){this.root={children:[],text:&quot;Root&quot;};this.packages={&quot;&quot;:this.root};this.privates=[];Ext.Array.forEach(this.classes,this.addClass,this);this.sortTree(this.root);return{root:this.root,privates:this.privates}},sortTree:function(b){b.children.sort(this.compare);Ext.Array.forEach(b.children,this.sortTree,this)},compare:function(g,h){if(g.leaf===h.leaf){var b=g.text.toLowerCase();var a=h.text.toLowerCase();return b&gt;a?1:(b&lt;a?-1:0)}else{return g.leaf?1:-1}},addClass:function(g){if(g[&quot;private&quot;]&amp;&amp;!this.showPrivateClasses){this.privates.push(this.classNode(g));return}if(this.packages[g.name]){var f=this.packages[g.name];var i=this.classNode(g);f.iconCls=i.iconCls;f.url=i.url}else{var h=Docs.ClassRegistry.packageName(g.name);var j=this.packages[h]||this.addPackage(h);var i=this.classNode(g);this.addChild(j,i);this.packages[g.name]=i}},addPackage:function(e){var g=Docs.ClassRegistry.packageName(e);var h=this.packages[g]||this.addPackage(g);var f=this.packageNode(e);this.addChild(h,f);this.packages[e]=f;return f},addChild:function(d,c){d.children.push(c);if(d.leaf){d.leaf=false}},classNode:function(b){return{text:Docs.ClassRegistry.shortName(b.name),url:&quot;#!/api/&quot;+b.name,iconCls:b.icon,cls:b[&quot;private&quot;]?&quot;private&quot;:&quot;&quot;,leaf:true,children:[]}},packageNode:function(b){return{text:Docs.ClassRegistry.shortName(b),iconCls:&quot;icon-pkg&quot;,leaf:false,children:[]}}});Ext.define(&quot;Docs.view.cls.InheritanceLogic&quot;,{extend:&quot;Docs.view.cls.Logic&quot;,create:function(){this.root={children:[],text:&quot;Root&quot;};this.privates=[];this.subclasses=this.buildLookupTable(this.classes);Ext.Array.forEach(this.classes,this.addClass,this);if(!this.showPrivateClasses){this.stripPrivateClasses(this.root)}this.sortTree(this.root);return{root:this.root,privates:this.privates}},sortTree:function(b){b.children.sort(Ext.bind(this.compare,this));Ext.Array.forEach(b.children,this.sortTree,this)},compare:function(g,h){var b=g.text.toLowerCase();var a=h.text.toLowerCase();return b&gt;a?1:(b&lt;a?-1:0)},buildLookupTable:function(d){var c={};Ext.Array.forEach(d,function(b){var a=b[&quot;extends&quot;];if(a&amp;&amp;a!==&quot;Object&quot;){if(!c[a]){c[a]=[]}c[a].push(b)}},this);return c},classNode:function(b){return{text:b.name,url:&quot;#!/api/&quot;+b.name,iconCls:b.icon,cls:b[&quot;private&quot;]?&quot;private&quot;:&quot;&quot;}},addClass:function(e){var d=e[&quot;extends&quot;];if(!d||d===&quot;Object&quot;){var f=this.classNode(e);this.root.children.push(f);f.children=this.getSubclasses(e.name);f.leaf=f.children.length===0}},getSubclasses:function(b){if(!this.subclasses[b]){return[]}return Ext.Array.map(this.subclasses[b],function(a){var d=this.classNode(a);d.children=this.getSubclasses(a.name);d.leaf=d.children.length===0;return d},this)},stripPrivateClasses:function(b){b.children=Ext.Array.filter(b.children,function(a){this.stripPrivateClasses(a);if(a.cls===&quot;private&quot;&amp;&amp;a.children.length===0){this.privates.push(a);return false}else{return true}},this)}});Ext.define(&quot;Docs.view.cls.Tree&quot;,{extend:&quot;Docs.view.DocTree&quot;,alias:&quot;widget.classtree&quot;,requires:[&quot;Docs.view.cls.PackageLogic&quot;,&quot;Docs.view.cls.InheritanceLogic&quot;,&quot;Docs.Settings&quot;],initComponent:function(){this.setLogic(Docs.Settings.get(&quot;classTreeLogic&quot;),Docs.Settings.get(&quot;showPrivateClasses&quot;));this.dockedItems=[{xtype:&quot;container&quot;,dock:&quot;bottom&quot;,layout:&quot;hbox&quot;,items:[{width:34},{xtype:&quot;checkbox&quot;,boxLabel:&quot;Show private classes&quot;,cls:&quot;cls-private-cb&quot;,checked:Docs.Settings.get(&quot;showPrivateClasses&quot;),listeners:{change:function(d,c){this.setLogic(Docs.Settings.get(&quot;classTreeLogic&quot;),c)},scope:this}}]},{xtype:&quot;container&quot;,dock:&quot;bottom&quot;,cls:&quot;cls-grouping&quot;,html:[this.makeButtonHtml(&quot;PackageLogic&quot;,&quot;By Package&quot;),this.makeButtonHtml(&quot;InheritanceLogic&quot;,&quot;By Inheritance&quot;)].join(&quot;&quot;)}];this.on(&quot;afterrender&quot;,this.setupButtonClickHandler,this);this.callParent()},makeButtonHtml:function(d,c){return Ext.String.format(&#39;&lt;button class=&quot;{0} {1}&quot;&gt;{2}&lt;/button&gt;&#39;,d,Docs.Settings.get(&quot;classTreeLogic&quot;)===d?&quot;selected&quot;:&quot;&quot;,c)},setupButtonClickHandler:function(){this.el.addListener(&quot;click&quot;,function(g,h){var f=Ext.get(h),e=Ext.get(Ext.query(&quot;.cls-grouping button.selected&quot;)[0]);if(e.dom===f.dom){return}e.removeCls(&quot;selected&quot;);f.addCls(&quot;selected&quot;);if(f.hasCls(&quot;PackageLogic&quot;)){this.setLogic(&quot;PackageLogic&quot;,Docs.Settings.get(&quot;showPrivateClasses&quot;))}else{this.setLogic(&quot;InheritanceLogic&quot;,Docs.Settings.get(&quot;showPrivateClasses&quot;))}},this,{delegate:&quot;button&quot;})},setLogic:function(i,f){Docs.Settings.set(&quot;classTreeLogic&quot;,i);Docs.Settings.set(&quot;showPrivateClasses&quot;,f);var g=new Docs.view.cls[i]({classes:this.data,showPrivateClasses:f});if(this.root){var h=this.getSelectionModel().getLastSelected();var j=g.create();this.expandLonelyNode(j.root);this.setRootNode(j.root);this.initNodeLinks();h&amp;&amp;this.selectUrl(h.raw.url)}else{var j=g.create();this.root=j.root;this.expandLonelyNode(this.root)}this.privates=j.privates},expandLonelyNode:function(d){var c=Ext.Array.filter(d.children,function(a){return a.children.length&gt;0});if(c.length==1){c[0].expanded=true}},findRecordByUrl:function(b){return this.callParent([b])||this.findPrivateRecordByUrl(b)},findPrivateRecordByUrl:function(e){var f=this.privates;for(var d=0;d&lt;f.length;d++){if(f[d].url===e){return f[d]}}return undefined}});Ext.define(&quot;Docs.view.TreeContainer&quot;,{extend:&quot;Ext.panel.Panel&quot;,alias:&quot;widget.treecontainer&quot;,requires:[&quot;Docs.view.cls.Tree&quot;,&quot;Docs.view.GroupTree&quot;],cls:&quot;iScroll&quot;,layout:&quot;card&quot;,resizable:true,resizeHandles:&quot;e&quot;,collapsible:true,hideCollapseTool:true,animCollapse:true,header:false,initComponent:function(){this.items=[{},{xtype:&quot;classtree&quot;,id:&quot;classtree&quot;,data:Docs.data.classes},{xtype:&quot;grouptree&quot;,id:&quot;exampletree&quot;,data:Docs.data.examples,convert:function(b){return{leaf:true,text:b.title,url:&quot;#!/example/&quot;+b.name,iconCls:&quot;icon-example&quot;}}},{xtype:&quot;grouptree&quot;,id:&quot;guidetree&quot;,data:Docs.data.guides,convert:function(b){return{leaf:true,text:b.title,url:&quot;#!/guide/&quot;+b.name,iconCls:&quot;icon-guide&quot;}}},{xtype:&quot;grouptree&quot;,id:&quot;videotree&quot;,data:Docs.data.videos,convert:function(b){return{leaf:true,text:b.title,url:&quot;#!/video/&quot;+b.name,iconCls:&quot;icon-video&quot;}}}];this.callParent()},showTree:function(b){this.show();this.layout.setActiveItem(b)}});Ext.define(&quot;Docs.view.comments.Expander&quot;,{alias:&quot;widget.commentsExpander&quot;,extend:&quot;Ext.Component&quot;,requires:[&quot;Docs.Comments&quot;,&quot;Docs.view.comments.TopLevelDropZone&quot;],uses:[&quot;Docs.view.comments.ListWithForm&quot;],componentCls:&quot;comments-expander&quot;,initComponent:function(){this.tpl=new Ext.XTemplate(&#39;&lt;a href=&quot;#&quot; class=&quot;side toggleComments&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/a&gt;&#39;,&#39;&lt;a href=&quot;#&quot; class=&quot;name toggleComments&quot;&gt;&#39;,&quot;{[this.renderCount(values.count)]}&quot;,&quot;&lt;/a&gt;&quot;,{renderCount:this.renderCount});this.data={count:this.count};this.callParent(arguments)},renderCount:function(b){if(b===1){return&quot;View 1 comment.&quot;}else{if(b&gt;1){return&quot;View &quot;+b+&quot; comments.&quot;}else{return&quot;No comments. Click to add.&quot;}}},afterRender:function(){this.callParent(arguments);this.getEl().select(&quot;.toggleComments&quot;).each(function(b){b.on(&quot;click&quot;,this.toggle,this,{preventDefault:true})},this);new Docs.view.comments.TopLevelDropZone(this.getEl().down(&quot;.side.toggleComments&quot;),{onValidDrop:Ext.Function.bind(this.setParent,this)})},setParent:function(c,d){c.setParent(d,this.reload,this)},toggle:function(){this.expanded?this.collapse():this.expand()},expand:function(){this.expanded=true;this.getEl().addCls(&quot;open&quot;);this.getEl().down(&quot;.name&quot;).setStyle(&quot;display&quot;,&quot;none&quot;);if(this.list){this.list.show()}else{this.loadComments()}},collapse:function(){this.expanded=false;this.getEl().removeCls(&quot;open&quot;);this.getEl().down(&quot;.name&quot;).setStyle(&quot;display&quot;,&quot;block&quot;);if(this.list){this.list.hide()}},loadComments:function(){this.list=new Docs.view.comments.ListWithForm({target:this.target,newCommentTitle:this.newCommentTitle,renderTo:this.getEl(),listeners:{reorder:this.reload,scope:this}});this.reload()},reload:function(){Docs.Comments.load(this.target,function(b){this.list.load(b)},this)},setCount:function(b){this.getEl().down(&quot;.name&quot;).update(this.renderCount(b))}});Ext.define(&quot;Docs.view.comments.LargeExpander&quot;,{requires:[&quot;Docs.Comments&quot;,&quot;Docs.view.comments.Expander&quot;],html:[&#39;&lt;div class=&quot;comments-large-expander&quot;&gt;&#39;,&#39;&lt;h3 class=&quot;icon-comment&quot;&gt;Comments&lt;/h3&gt;&#39;,&quot;&lt;div&gt;&lt;/div&gt;&quot;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),type:&quot;class&quot;,constructor:function(e){Ext.apply(this,e);this.el=Ext.get(e.el);var d=Ext.DomHelper.append(this.el,this.html,true).down(&quot;div&quot;);var f=[this.type,this.name,&quot;&quot;];this.expander=new Docs.view.comments.Expander({count:Docs.Comments.getCount(f),target:f,renderTo:d,onCountUpdated:this.onCountUpdated})},getExpander:function(){return this.expander}});Ext.define(&quot;Docs.view.guides.Container&quot;,{extend:&quot;Ext.panel.Panel&quot;,alias:&quot;widget.guidecontainer&quot;,componentCls:&quot;guide-container&quot;,mixins:[&quot;Docs.view.Scrolling&quot;],requires:[&quot;Docs.Comments&quot;,&quot;Docs.view.comments.LargeExpander&quot;],initComponent:function(){this.addEvents(&quot;afterload&quot;);this.callParent(arguments)},scrollToEl:function(c){var d=Ext.get(c);if(!d){d=Ext.get(Ext.query(&quot;a[name=&#39;&quot;+c+&quot;&#39;]&quot;)[0])}this.scrollToView(d,{highlight:true,offset:-100})},load:function(b){this.guide=b;this.tpl=this.tpl||new Ext.XTemplate(Docs.data.showPrintButton?&#39;&lt;a class=&quot;print guide&quot; href=&quot;?print=/guide/{name}&quot; target=&quot;_blank&quot;&gt;Print&lt;/a&gt;&#39;:&quot;&quot;,&quot;{content}&quot;);this.update(this.tpl.apply(b));Docs.Syntax.highlight(this.getEl());if(Docs.Comments.isEnabled()){this.initComments()}this.fireEvent(&quot;afterload&quot;)},initComments:function(){this.expander=new Docs.view.comments.LargeExpander({type:&quot;guide&quot;,name:this.guide.name,el:this.getEl().down(&quot;.x-panel-body&quot;)})},updateCommentCounts:function(){if(!this.expander){return}this.expander.getExpander().setCount(Docs.Comments.getCount([&quot;guide&quot;,this.guide.name,&quot;&quot;]))}});Ext.define(&quot;Docs.view.videos.Container&quot;,{extend:&quot;Ext.panel.Panel&quot;,alias:&quot;widget.videocontainer&quot;,componentCls:&quot;video-container&quot;,requires:[&quot;Docs.Comments&quot;,&quot;Docs.view.comments.LargeExpander&quot;],initComponent:function(){this.callParent(arguments);this.on(&quot;hide&quot;,this.pauseVideo,this)},pauseVideo:function(){var b=document.getElementById(&quot;video_player&quot;);if(b&amp;&amp;b.api_pause){b.api_pause()}},load:function(b){this.video=b;this.tpl=this.tpl||new Ext.XTemplate(&#39;&lt;iframe src=&quot;http://player.vimeo.com/video/{id}&quot; width=&quot;640&quot; height=&quot;360&quot; frameborder=&quot;0&quot; &#39;,&quot;webkitAllowFullScreen mozallowfullscreen allowFullScreen&gt;&lt;/iframe&gt;&quot;,&quot;&lt;h1&gt;{title}&lt;/h1&gt;&quot;,&quot;&lt;p&gt;{[this.linkify(values.description)]}&lt;/p&gt;&quot;,{linkify:function(a){return a.replace(/(\bhttps?:\/\/\S+)/ig,&quot;&lt;a href=&#39;$1&#39;&gt;$1&lt;/a&gt;&quot;)}});this.update(this.tpl.apply(b));if(Docs.Comments.isEnabled()){this.initComments()}},initComments:function(){this.expander=new Docs.view.comments.LargeExpander({type:&quot;video&quot;,name:this.video.name,el:this.getEl().down(&quot;.x-panel-body&quot;)})},updateCommentCounts:function(){if(!this.expander){return}this.expander.getExpander().setCount(Docs.Comments.getCount([&quot;video&quot;,this.video.name,&quot;&quot;]))}});Ext.define(&quot;Docs.view.comments.MemberWrap&quot;,{extend:&quot;Docs.view.cls.MemberWrap&quot;,requires:[&quot;Docs.Comments&quot;,&quot;Docs.view.comments.Expander&quot;],constructor:function(d){this.callParent([d]);var c=Docs.Comments.getCount(this.getTarget());if(c&gt;0){this.updateSignatureCommentCount(c)}},getTarget:function(){if(!this.target){this.target=[&quot;class&quot;,this.getDefinedIn(),this.getMemberId()]}return this.target},getExpander:function(){if(!this.expander){var b=Ext.DomHelper.append(this.el.down(&quot;.long&quot;),&quot;&lt;div&gt;&lt;/div&gt;&quot;);this.expander=new Docs.view.comments.Expander({count:Docs.Comments.getCount(this.getTarget()),target:this.getTarget(),newCommentTitle:this.getNewCommentTitle(),renderTo:b})}return this.expander},setCount:function(b){this.getExpander().setCount(b);this.updateSignatureCommentCount(b)},updateSignatureCommentCount:function(g){var e=this.el.down(&quot;.title&quot;);var f=e.down(&quot;.comment-counter-small&quot;);if(g&gt;0){if(f){f.update(&quot;&quot;+g)}else{var h=Ext.DomHelper.append(e,Docs.Comments.counterHtml(g),true);h.on(&quot;click&quot;,function(){this.el.addCls(&quot;open&quot;);this.getExpander().expand();this.parent.scrollToEl(this.getExpander().getEl())},this)}}else{if(f){f.remove()}}},getNewCommentTitle:function(){if(this.getDefinedIn()!==this.className){return[&quot;&lt;b&gt;Be aware.&lt;/b&gt; This member is inherited from &lt;b&gt;&quot;+this.getDefinedIn()+&quot;&lt;/b&gt;; &quot;,&quot;comments posted here will also be posted to that page.&quot;].join(&quot;&quot;)}else{return undefined}},setExpanded:function(b){this.callParent([b]);if(b){this.getExpander().show()}}});Ext.define(&quot;Docs.view.comments.Template&quot;,{extend:&quot;Ext.XTemplate&quot;,requires:[&quot;Docs.Auth&quot;,&quot;Docs.Comments&quot;],statics:{create:function(d){var c=&quot;tpl-&quot;+Ext.JSON.encode(d);if(!this[c]){this[c]=new this();Ext.apply(this[c],d)}return this[c]}},constructor:function(){this.callParent([&quot;&lt;div&gt;&quot;,&#39;&lt;tpl for=&quot;.&quot;&gt;&#39;,&#39;&lt;div class=&quot;comment&quot; id=&quot;{id}&quot;&gt;&#39;,&#39;&lt;tpl if=&quot;deleted&quot;&gt;&#39;,&#39;&lt;div class=&quot;deleted-comment&quot;&gt;Comment was deleted. &lt;a href=&quot;#&quot; class=&quot;undoDeleteComment&quot;&gt;Undo&lt;/a&gt;.&lt;/div&gt;&#39;,&quot;&lt;tpl else&gt;&quot;,&#39;&lt;div class=&quot;com-meta&quot;&gt;&#39;,&quot;{[this.avatar(values.emailHash)]}&quot;,&#39;&lt;div class=&quot;author&lt;tpl if=&quot;moderator&quot;&gt; moderator&quot; title=&quot;Sencha Engineer&lt;/tpl&gt;&quot;&gt;&#39;,&quot;{author}&quot;,&#39;&lt;tpl if=&quot;this.isTargetVisible()&quot;&gt;&#39;,&#39;&lt;span class=&quot;target&quot;&gt; on {[this.target(values.target)]}&lt;/span&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;top-right&quot;&gt;&#39;,&#39;&lt;tpl for=&quot;tags&quot;&gt;&#39;,&#39;&lt;span href=&quot;#&quot; class=&quot;command tag&quot;&gt;&#39;,&quot;&lt;b&gt;{.}&lt;/b&gt;&quot;,&#39;&lt;tpl if=&quot;this.isMod()&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;remove-tag&quot; title=&quot;Delete tag&quot;&gt;&amp;ndash;&lt;/a&gt;&lt;/tpl&gt;&#39;,&quot;&lt;/span&gt;&quot;,&quot;&lt;/tpl&gt;&quot;,&#39;&lt;tpl if=&quot;this.isMod()&quot;&gt;&#39;,&#39;&lt;a href=&quot;#&quot; class=&quot;command add-tag&quot; title=&quot;Add new tag&quot;&gt;+&lt;/a&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&#39;&lt;tpl if=&quot;this.isMod()&quot;&gt;&#39;,&#39;&lt;a href=&quot;#&quot; class=&quot;command readComment &lt;tpl if=&quot;read&quot;&gt;read&lt;/tpl&gt;&quot;&gt;Read&lt;/a&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&#39;&lt;tpl if=&quot;this.isMod() || this.isAuthor(values.author)&quot;&gt;&#39;,&#39;&lt;a href=&quot;#&quot; class=&quot;command editComment&quot;&gt;Edit&lt;/a&gt;&#39;,&#39;&lt;a href=&quot;#&quot; class=&quot;command deleteComment&quot;&gt;Delete&lt;/a&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&#39;&lt;span class=&quot;time&quot; title=&quot;{[this.date(values.createdAt)]}&quot;&gt;{[this.dateStr(values.createdAt)]}&lt;/span&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;vote&quot;&gt;&#39;,&#39;&lt;a href=&quot;#&quot; class=&quot;voteCommentUp{[values.upVote ? &quot; selected&quot; : &quot;&quot;]}&quot; &#39;,&#39;title=&quot;Vote Up&quot;&gt;&amp;nbsp;&lt;/a&gt;&#39;,&#39;&lt;span class=&quot;score&quot;&gt;{score}&lt;/span&gt;&#39;,&#39;&lt;a href=&quot;#&quot; class=&quot;voteCommentDown{[values.downVote ? &quot; selected&quot; : &quot;&quot;]}&quot; &#39;,&#39;title=&quot;Vote Down&quot;&gt;&amp;nbsp;&lt;/a&gt;&#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;content&quot;&gt;{contentHtml}&lt;/div&gt;&#39;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;/div&gt;&quot;,this])},avatar:function(b){return Docs.Comments.avatar(b,this.isMod()&amp;&amp;this.enableDragDrop?&quot;drag-handle&quot;:&quot;&quot;)},isTargetVisible:function(){return this.showTarget},dateStr:function(e){try{var h=Math.ceil(Number(new Date())/1000);var i=Math.ceil(Number(new Date(e))/1000);var k=h-i;if(k&lt;60){return&quot;just now&quot;}else{if(k&lt;60*60){var j=String(Math.round(k/(60)));return j+(j==&quot;1&quot;?&quot; minute&quot;:&quot; minutes&quot;)+&quot; ago&quot;}else{if(k&lt;60*60*24){var j=String(Math.round(k/(60*60)));return j+(j==&quot;1&quot;?&quot; hour&quot;:&quot; hours&quot;)+&quot; ago&quot;}else{if(k&lt;60*60*24*31){var j=String(Math.round(k/(60*60*24)));return j+(j==&quot;1&quot;?&quot; day&quot;:&quot; days&quot;)+&quot; ago&quot;}else{return Ext.Date.format(new Date(e),&quot;jS M &#39;y&quot;)}}}}}catch(l){return&quot;&quot;}},date:function(d){try{return Ext.Date.format(new Date(d),&quot;jS F Y g:ia&quot;)}catch(c){return&quot;&quot;}},isMod:function(){return Docs.Auth.isModerator()},isAuthor:function(b){return Docs.Auth.getUser().userName==b},target:function(h){var e=h[1],g=h[1],f=&quot;#!/api/&quot;;if(h[0]==&quot;video&quot;){g=&quot;Video &quot;+g;f=&quot;#!/video/&quot;}else{if(h[0]==&quot;guide&quot;){g=&quot;Guide &quot;+g;f=&quot;#!/guide/&quot;}else{if(h[2]!=&quot;&quot;){e+=&quot;-&quot;+h[2];if(h[0]==&quot;class&quot;){g+=&quot;#&quot;+h[2].replace(/^.*-/,&quot;&quot;)}else{g+=&quot; &quot;+h[2]}}}}return&#39;&lt;a href=&quot;&#39;+f+e+&#39;&quot;&gt;&#39;+g+&quot;&lt;/a&gt;&quot;}});Ext.define(&quot;Docs.view.comments.RepliesExpander&quot;,{alias:&quot;widget.commentsRepliesExpander&quot;,extend:&quot;Ext.Component&quot;,requires:[&quot;Docs.Comments&quot;],uses:[&quot;Docs.view.comments.ListWithForm&quot;],componentCls:&quot;comments-replies-expander&quot;,initComponent:function(){this.tpl=new Ext.XTemplate(&#39;&lt;a href=&quot;#&quot; class=&quot;replies-button {[this.getCountCls(values.count)]}&quot;&gt;&#39;,&quot;{[this.renderCount(values.count)]}&quot;,&quot;&lt;/a&gt;&quot;,{renderCount:this.renderCount,getCountCls:this.getCountCls});this.data={count:this.count};this.callParent(arguments)},renderCount:function(b){if(b===1){return&quot;1 reply...&quot;}else{if(b&gt;1){return b+&quot; replies...&quot;}else{return&quot;Write reply...&quot;}}},getCountCls:function(b){return(b&gt;0)?&quot;with-replies&quot;:&quot;&quot;},afterRender:function(){this.callParent(arguments);this.getEl().down(&quot;.replies-button&quot;).on(&quot;click&quot;,this.toggle,this,{preventDefault:true})},toggle:function(){this.expanded?this.collapse():this.expand()},expand:function(){this.expanded=true;this.getEl().down(&quot;.replies-button&quot;).update(&quot;Hide replies.&quot;);if(this.list){this.list.show()}else{this.loadComments()}},collapse:function(){this.expanded=false;this.refreshRepliesButton();if(this.list){this.list.hide()}},refreshRepliesButton:function(){var b=this.getEl().down(&quot;.replies-button&quot;);b.update(this.renderCount(this.count));b.removeCls(&quot;with-replies&quot;);b.addCls(this.getCountCls(this.count))},loadComments:function(){this.list=new Docs.view.comments.ListWithForm({target:this.target,parentId:this.parentId,newCommentTitle:&quot;&lt;b&gt;Reply to comment&lt;/b&gt;&quot;,renderTo:this.getEl(),listeners:{countChange:this.setCount,scope:this}});Docs.Comments.loadReplies(this.parentId,function(b){this.list.load(b)},this)},setCount:function(b){this.count=b;if(!this.expanded){this.refreshRepliesButton()}}});Ext.define(&quot;Docs.model.Comment&quot;,{extend:&quot;Ext.data.Model&quot;,requires:[&quot;Docs.Comments&quot;],fields:[{name:&quot;id&quot;,mapping:&quot;_id&quot;},&quot;author&quot;,&quot;emailHash&quot;,&quot;moderator&quot;,&quot;createdAt&quot;,&quot;target&quot;,&quot;score&quot;,&quot;upVote&quot;,&quot;downVote&quot;,&quot;contentHtml&quot;,&quot;read&quot;,&quot;tags&quot;,&quot;deleted&quot;,&quot;parentId&quot;,&quot;replyCount&quot;],proxy:{type:&quot;ajax&quot;,reader:&quot;json&quot;},vote:function(c,d){this.request({method:&quot;POST&quot;,url:&quot;/comments/&quot;+this.get(&quot;id&quot;),params:{vote:c},success:function(a){this.set(&quot;upVote&quot;,a.direction===&quot;up&quot;);this.set(&quot;downVote&quot;,a.direction===&quot;down&quot;);this.set(&quot;score&quot;,a.total);this.commit()},failure:Ext.Function.bind(d.failure,d.scope),scope:this})},loadContent:function(c,d){this.request({url:&quot;/comments/&quot;+this.get(&quot;id&quot;),method:&quot;GET&quot;,success:function(a){c.call(d,a.content)},scope:this})},saveContent:function(b){this.request({url:&quot;/comments/&quot;+this.get(&quot;id&quot;),method:&quot;POST&quot;,params:{content:b},success:function(a){this.set(&quot;contentHtml&quot;,a.content);this.commit()},scope:this})},setDeleted:function(b){this.request({url:&quot;/comments/&quot;+this.get(&quot;id&quot;)+(b?&quot;/delete&quot;:&quot;/undo_delete&quot;),method:&quot;POST&quot;,success:function(){this.set(&quot;deleted&quot;,b);this.commit();Docs.Comments.changeCount(this.get(&quot;target&quot;),b?-1:+1)},scope:this})},markRead:function(){this.request({url:&quot;/comments/&quot;+this.get(&quot;id&quot;)+&quot;/read&quot;,method:&quot;POST&quot;,success:function(){this.set(&quot;read&quot;,true);this.commit()},scope:this})},setParent:function(d,f,e){this.request({url:&quot;/comments/&quot;+this.get(&quot;id&quot;)+&quot;/set_parent&quot;,method:&quot;POST&quot;,params:d?{parentId:d.get(&quot;id&quot;)}:undefined,success:f,scope:e})},addTag:function(b){this.changeTag(&quot;add_tag&quot;,b,function(){this.get(&quot;tags&quot;).push(b)},this)},removeTag:function(b){this.changeTag(&quot;remove_tag&quot;,b,function(){Ext.Array.remove(this.get(&quot;tags&quot;),b)},this)},changeTag:function(h,e,g,f){this.request({url:&quot;/comments/&quot;+this.get(&quot;id&quot;)+&quot;/&quot;+h,method:&quot;POST&quot;,params:{tagname:e},success:function(){g.call(f);this.commit()},scope:this})},request:function(b){Docs.Comments.request(&quot;ajax&quot;,{url:b.url,method:b.method,params:b.params,callback:function(h,f,a){var g=Ext.JSON.decode(a.responseText);if(f&amp;&amp;g.success){b.success&amp;&amp;b.success.call(b.scope,g)}else{b.failure&amp;&amp;b.failure.call(b.scope,g.reason)}},scope:this})}});Ext.define(&quot;Docs.CommentsProxy&quot;,{extend:&quot;Ext.data.proxy.JsonP&quot;,alias:&quot;proxy.comments&quot;,requires:[&quot;Docs.Comments&quot;],constructor:function(b){b.url=Docs.Comments.buildRequestUrl(b.url);this.callParent([b])}});Ext.define(&quot;Docs.model.Target&quot;,{extend:&quot;Ext.data.Model&quot;,requires:[&quot;Docs.CommentsProxy&quot;],fields:[&quot;id&quot;,&quot;type&quot;,&quot;cls&quot;,&quot;member&quot;,&quot;score&quot;,{name:&quot;text&quot;,convert:function(e,f){var d=f.data;if(d.type===&quot;class&quot;){return d.cls+(d.member?&quot;#&quot;+d.member.replace(/^.*-/,&quot;&quot;):&quot;&quot;)}else{return d.type+&quot; &quot;+d.cls}}}],proxy:{type:&quot;comments&quot;,url:&quot;/targets&quot;,reader:{type:&quot;json&quot;,root:&quot;data&quot;}}});Ext.define(&quot;Docs.view.comments.Targets&quot;,{extend:&quot;Docs.view.comments.TopList&quot;,alias:&quot;widget.commentsTargets&quot;,requires:[&quot;Docs.model.Target&quot;],model:&quot;Docs.model.Target&quot;,displayField:&quot;text&quot;,filterEmptyText:&quot;Filter topics by name...&quot;});Ext.define(&quot;Docs.model.Tag&quot;,{extend:&quot;Ext.data.Model&quot;,requires:[&quot;Docs.CommentsProxy&quot;],fields:[&quot;tagname&quot;,&quot;score&quot;],proxy:{type:&quot;comments&quot;,url:&quot;/tags&quot;,reader:{type:&quot;json&quot;,root:&quot;data&quot;}}});Ext.define(&quot;Docs.view.comments.Tags&quot;,{extend:&quot;Docs.view.comments.TopList&quot;,alias:&quot;widget.commentsTags&quot;,requires:[&quot;Docs.model.Tag&quot;],model:&quot;Docs.model.Tag&quot;,displayField:&quot;tagname&quot;,filterEmptyText:&quot;Filter tags by name...&quot;});Ext.define(&quot;Docs.view.comments.TagEditor&quot;,{extend:&quot;Ext.container.Container&quot;,requires:[&quot;Docs.model.Tag&quot;],floating:true,hidden:true,componentCls:&quot;comments-tageditor&quot;,statics:{cachedStore:undefined,getStore:function(){if(!this.cachedStore){this.cachedStore=Ext.create(&quot;Ext.data.Store&quot;,{model:&quot;Docs.model.Tag&quot;,listeners:{load:function(){this.cachedStore.sort(&quot;tagname&quot;,&quot;ASC&quot;)},scope:this}});this.cachedStore.load()}return this.cachedStore}},initComponent:function(){this.items=[{xtype:&quot;combobox&quot;,listConfig:{cls:&quot;comments-tageditor-boundlist&quot;},store:this.statics().getStore(),queryMode:&quot;local&quot;,displayField:&quot;tagname&quot;,valueField:&quot;tagname&quot;,enableKeyEvents:true,emptyText:&quot;New tag name...&quot;,listeners:{select:this.handleSelect,blur:this.destroy,keyup:this.onKeyUp,scope:this}}];this.callParent(arguments)},popup:function(b){this.show();this.alignTo(b,&quot;bl&quot;,[-12,-2]);this.down(&quot;combobox&quot;).focus(true,100)},onKeyUp:function(c,d){if(d.keyCode===Ext.EventObject.ENTER){this.handleSelect()}else{if(d.keyCode===Ext.EventObject.ESC){this.destroy()}}},handleSelect:function(){var c=Ext.String.trim(this.down(&quot;combobox&quot;).getValue()||&quot;&quot;);if(c){var d=this.rememberNewTag(c);this.fireEvent(&quot;select&quot;,d)}this.destroy()},rememberNewTag:function(g){var f=this.statics().getStore();var e=new RegExp(&quot;^&quot;+Ext.String.escapeRegex(g)+&quot;$&quot;,&quot;i&quot;);var h=f.query(&quot;tagname&quot;,e);if(h.getCount()===0){f.add({tagname:g});f.sort(&quot;tagname&quot;,&quot;ASC&quot;);return g}else{return h.get(0).get(&quot;tagname&quot;)}}});Ext.define(&quot;Docs.view.comments.List&quot;,{extend:&quot;Ext.view.View&quot;,alias:&quot;widget.commentsList&quot;,requires:[&quot;Docs.Auth&quot;,&quot;Docs.Syntax&quot;,&quot;Docs.Comments&quot;,&quot;Docs.view.comments.Template&quot;,&quot;Docs.view.comments.Form&quot;,&quot;Docs.view.comments.TagEditor&quot;,&quot;Docs.view.comments.RepliesExpander&quot;,&quot;Docs.view.comments.DragZone&quot;,&quot;Docs.view.comments.DropZone&quot;,&quot;Docs.model.Comment&quot;,&quot;Docs.Tip&quot;],componentCls:&quot;comments-list&quot;,itemSelector:&quot;div.comment&quot;,emptyText:&#39;&lt;div class=&quot;loading&quot;&gt;Loading...&lt;/div&gt;&#39;,deferEmptyText:false,initComponent:function(){this.store=Ext.create(&quot;Ext.data.Store&quot;,{model:&quot;Docs.model.Comment&quot;,listeners:{update:this.fireChangeEvent,scope:this}});this.tpl=Docs.view.comments.Template.create({showTarget:this.showTarget,enableDragDrop:this.enableDragDrop});this.callParent(arguments);this.on(&quot;refresh&quot;,function(){Docs.Syntax.highlight(this.getEl());this.renderExpanders(this.store.getRange())},this);this.on(&quot;itemupdate&quot;,function(f,e,d){Docs.Syntax.highlight(d);this.renderExpanders([f])},this)},renderExpanders:function(b){if(b[0]&amp;&amp;b[0].get(&quot;parentId&quot;)){return}Ext.Array.forEach(b,function(a){if(a.get(&quot;deleted&quot;)){return}new Docs.view.comments.RepliesExpander({count:a.get(&quot;replyCount&quot;),target:a.get(&quot;target&quot;),parentId:a.get(&quot;id&quot;),renderTo:this.getNode(a)})},this)},afterRender:function(){this.callParent(arguments);this.mun(this.getTargetEl(),&quot;keydown&quot;);this.delegateClick(&quot;a.voteCommentUp&quot;,function(d,c){this.vote(d,c,&quot;up&quot;)},this);this.delegateClick(&quot;a.voteCommentDown&quot;,function(d,c){this.vote(d,c,&quot;down&quot;)},this);this.delegateClick(&quot;a.editComment&quot;,function(d,c){this.edit(d,c)},this);this.delegateClick(&quot;a.deleteComment&quot;,function(d,c){this.setDeleted(d,c,true)},this);this.delegateClick(&quot;a.undoDeleteComment&quot;,function(d,c){this.setDeleted(d,c,false)},this);this.delegateClick(&quot;a.readComment&quot;,this.markRead,this);this.delegateClick(&quot;a.add-tag&quot;,this.addTag,this);this.delegateClick(&quot;a.remove-tag&quot;,this.removeTag,this);if(this.enableDragDrop){new Docs.view.comments.DragZone(this);new Docs.view.comments.DropZone(this,{onValidDrop:Ext.Function.bind(this.setParent,this)})}},delegateClick:function(e,f,d){this.getEl().on(&quot;click&quot;,function(b,c){var a=this.getRecord(this.findItemByChild(c));if(a){f.call(d,c,a)}},this,{preventDefault:true,delegate:e})},vote:function(e,f,d){if(!Docs.Auth.isLoggedIn()){Docs.Tip.show(&quot;Please login to vote on this comment&quot;,e);return}if(f.get(&quot;upVote&quot;)&amp;&amp;d===&quot;up&quot;||f.get(&quot;downVote&quot;)&amp;&amp;d===&quot;down&quot;){Docs.Tip.show(&quot;You have already voted on this comment&quot;,e);return}f.vote(d,{failure:function(a){Docs.Tip.show(a,e)}})},edit:function(d,c){c.loadContent(function(a){var b=Ext.get(d).up(&quot;.comment&quot;).down(&quot;.content&quot;);b.update(&quot;&quot;);new Docs.view.comments.Form({renderTo:b,title:&quot;&lt;b&gt;Edit comment&lt;/b&gt;&quot;,user:Docs.Auth.getUser(),content:a,listeners:{submit:function(f){c.saveContent(f)},cancel:function(){this.refreshComment(c)},scope:this}})},this)},refreshComment:function(b){this.refreshNode(this.getStore().findExact(&quot;id&quot;,b.get(&quot;id&quot;)))},setDeleted:function(d,f,e){f.setDeleted(e)},markRead:function(d,c){c.markRead()},addTag:function(d,f){var e=new Docs.view.comments.TagEditor();e.on(&quot;select&quot;,f.addTag,f);e.popup(d)},removeTag:function(e,f){var d=Ext.get(e).up(&quot;.tag&quot;).down(&quot;b&quot;).getHTML();f.removeTag(d)},setParent:function(c,d){c.setParent(d,function(){this.fireEvent(&quot;reorder&quot;)},this)},load:function(f,e){if(f.length===0){this.emptyText=&quot;&quot;}var d=this.store.getProxy().getReader().readRecords(f).records;this.store.loadData(d,e);this.fireChangeEvent()},fireChangeEvent:function(){var b=function(a){return !a.get(&quot;deleted&quot;)};this.fireEvent(&quot;countChange&quot;,this.getStore().queryBy(b).getCount())}});Ext.define(&quot;Docs.view.comments.FullList&quot;,{extend:&quot;Ext.panel.Panel&quot;,alias:&quot;widget.commentsFullList&quot;,requires:[&quot;Docs.Settings&quot;,&quot;Docs.Auth&quot;,&quot;Docs.Comments&quot;,&quot;Docs.view.comments.List&quot;,&quot;Docs.view.comments.Pager&quot;],componentCls:&quot;comments-full-list&quot;,dockedItems:[{xtype:&quot;container&quot;,dock:&quot;top&quot;,height:35,html:[&#39;&lt;h1 style=&quot;float:left;&quot;&gt;Comments&lt;/h1&gt;&#39;,&#39;&lt;p style=&quot;float:left; margin: 5px 0 0 25px&quot;&gt;&#39;,&#39;&lt;label style=&quot;padding-right: 10px;&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;hideRead&quot; id=&quot;hideRead&quot; /&gt; Hide read&lt;/label&gt;&#39;,&quot;&lt;/p&gt;&quot;].join(&quot; &quot;)}],layout:&quot;border&quot;,items:[{xtype:&quot;tabpanel&quot;,cls:&quot;comments-tabpanel&quot;,plain:true,region:&quot;north&quot;,height:25,items:[{title:&quot;Recent&quot;},{title:&quot;Votes&quot;}]},{region:&quot;center&quot;,xtype:&quot;container&quot;,autoScroll:true,cls:&quot;iScroll&quot;,items:[{xtype:&quot;commentsList&quot;,id:&quot;recentcomments&quot;,showTarget:true},{xtype:&quot;commentsPager&quot;}]}],afterRender:function(){this.callParent(arguments);this.initCheckboxes();this.initTabs();this.setMasked(true)},load:function(f,e){this.down(&quot;commentsList&quot;).load(f,e);var d=f[f.length-1];if(d){this.down(&quot;commentsPager&quot;).configure(d)}else{this.down(&quot;commentsPager&quot;).reset()}},setMasked:function(c){var d=this.getEl();if(d){d[c?&quot;mask&quot;:&quot;unmask&quot;]()}},initCheckboxes:function(){var f=Docs.Settings.get(&quot;comments&quot;);var e=Ext.get(&quot;hideRead&quot;);if(e){e.dom.checked=f.hideRead;e.on(&quot;change&quot;,function(){this.saveSetting(&quot;hideRead&quot;,e.dom.checked);this.fireEvent(&quot;hideReadChange&quot;)},this)}this.setHideReadVisibility();var d=Docs.App.getController(&quot;Auth&quot;);d.on(&quot;available&quot;,this.setHideReadVisibility,this);d.on(&quot;loggedIn&quot;,this.setHideReadVisibility,this);d.on(&quot;loggedOut&quot;,this.setHideReadVisibility,this)},setHideReadVisibility:function(){var b=Docs.Auth.isModerator();Ext.get(&quot;hideRead&quot;).up(&quot;label&quot;).setStyle(&quot;display&quot;,b?&quot;inline&quot;:&quot;none&quot;)},initTabs:function(){this.down(&quot;tabpanel[cls=comments-tabpanel]&quot;).on(&quot;tabchange&quot;,function(d,c){if(c.title===&quot;Recent&quot;){this.fireEvent(&quot;sortOrderChange&quot;,&quot;recent&quot;)}else{this.fireEvent(&quot;sortOrderChange&quot;,&quot;votes&quot;)}},this)},saveSetting:function(d,e){var f=Docs.Settings.get(&quot;comments&quot;);f[d]=e;Docs.Settings.set(&quot;comments&quot;,f)},getTab:function(){return Docs.Comments.isEnabled()?{cls:&quot;comments&quot;,href:&quot;#!/comment&quot;,tooltip:&quot;Comments&quot;}:false}});Ext.define(&quot;Docs.view.comments.Index&quot;,{extend:&quot;Ext.panel.Panel&quot;,alias:&quot;widget.commentindex&quot;,mixins:[&quot;Docs.view.Scrolling&quot;],requires:[&quot;Docs.Comments&quot;,&quot;Docs.view.comments.FullList&quot;,&quot;Docs.view.comments.HeaderMenu&quot;,&quot;Docs.view.comments.Users&quot;,&quot;Docs.view.comments.Targets&quot;,&quot;Docs.view.comments.Tags&quot;],componentCls:&quot;comments-index&quot;,margin:&quot;10 0 0 0&quot;,layout:&quot;border&quot;,items:[{region:&quot;center&quot;,xtype:&quot;commentsFullList&quot;},{region:&quot;east&quot;,itemId:&quot;cardPanel&quot;,layout:&quot;border&quot;,width:300,margin:&quot;0 0 0 20&quot;,layout:&quot;card&quot;,dockedItems:[{xtype:&quot;commentsHeaderMenu&quot;,dock:&quot;top&quot;,height:35}],items:[{xtype:&quot;commentsUsers&quot;},{xtype:&quot;commentsTargets&quot;},{xtype:&quot;commentsTags&quot;}]}],initComponent:function(){this.callParent(arguments);var d=this.down(&quot;#cardPanel&quot;);var c={users:this.down(&quot;commentsUsers&quot;),targets:this.down(&quot;commentsTargets&quot;),tags:this.down(&quot;commentsTags&quot;)};this.down(&quot;commentsHeaderMenu&quot;).on(&quot;select&quot;,function(a){Ext.Object.each(c,function(b,f){if(b!==a){f.deselectAll()}});d.getLayout().setActiveItem(c[a])},this)},getTab:function(){return Docs.Comments.isEnabled()?{cls:&quot;comments&quot;,href:&quot;#!/comment&quot;,tooltip:&quot;Comments&quot;}:false}});Ext.define(&quot;Docs.view.HoverMenu&quot;,{extend:&quot;Ext.view.View&quot;,requires:[&quot;Docs.Comments&quot;],alias:&quot;widget.hovermenu&quot;,componentCls:&quot;hover-menu&quot;,itemSelector:&quot;div.item&quot;,deferEmptyText:false,columnHeight:25,initComponent:function(){this.renderTo=Ext.getBody();this.tpl=new Ext.XTemplate(&quot;&lt;table&gt;&quot;,&quot;&lt;tr&gt;&quot;,&quot;&lt;td&gt;&quot;,&#39;&lt;tpl for=&quot;.&quot;&gt;&#39;,&#39;&lt;div class=&quot;item&quot;&gt;&#39;,&quot;{[this.renderLink(values)]}&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;tpl if=&quot;xindex % this.columnHeight === 0 &amp;&amp; xcount &amp;gt; xindex&quot;&gt;&#39;,&quot;&lt;/td&gt;&lt;td&gt;&quot;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;/tpl&gt;&quot;,&quot;&lt;/td&gt;&quot;,&quot;&lt;/tr&gt;&quot;,&quot;&lt;/table&gt;&quot;,{columnHeight:this.columnHeight,renderLink:function(e){var d=Ext.Array.map(Docs.data.signatures,function(a){return e.meta[a.key]?&#39;&lt;span class=&quot;signature &#39;+a.key+&#39;&quot;&gt;&#39;+(a[&quot;short&quot;])+&quot;&lt;/span&gt;&quot;:&quot;&quot;}).join(&quot; &quot;);var f=Docs.Comments.counterHtml(e.commentCount);return Ext.String.format(&#39;&lt;a href=&quot;#!/api/{0}&quot; rel=&quot;{0}&quot; class=&quot;docClass&quot;&gt;{1} {2} {3}&lt;/a&gt;&#39;,e.url,e.label,d,f)}});this.callParent()}});Ext.define(&quot;Docs.view.HoverMenuButton&quot;,{extend:&quot;Ext.toolbar.TextItem&quot;,alias:&quot;widget.hovermenubutton&quot;,componentCls:&quot;hover-menu-button&quot;,requires:[&quot;Docs.view.HoverMenu&quot;],showCount:false,statics:{menus:[]},initComponent:function(){this.addEvents(&quot;click&quot;);if(this.showCount){this.initialText=this.text;this.text+=&quot; &lt;sup&gt;&quot;+this.store.getCount()+&quot;&lt;/sup&gt;&quot;;this.store.on(&quot;datachanged&quot;,function(){this.setText(this.initialText+&quot; &lt;sup&gt;&quot;+this.store.getCount()+&quot;&lt;/sup&gt;&quot;)},this)}this.callParent(arguments)},getColumnHeight:function(){var c=200;var d=18;return Math.floor((Ext.Element.getViewportHeight()-c)/d)},onRender:function(){this.callParent(arguments);this.getEl().on({click:function(){this.fireEvent(&quot;click&quot;)},mouseover:this.deferShowMenu,mouseout:this.deferHideMenu,scope:this})},onDestroy:function(){if(this.menu){this.menu.destroy();Ext.Array.remove(Docs.view.HoverMenuButton.menus,this.menu)}this.callParent(arguments)},renderMenu:function(){this.menu=Ext.create(&quot;Docs.view.HoverMenu&quot;,{store:this.store,columnHeight:this.getColumnHeight()});this.menu.getEl().on({click:function(b){this.menu.hide();b.preventDefault()},mouseover:function(){clearTimeout(this.hideTimeout)},mouseout:this.deferHideMenu,scope:this});Docs.view.HoverMenuButton.menus.push(this.menu)},deferHideMenu:function(){clearTimeout(Docs.view.HoverMenuButton.showTimeout);if(!this.menu){return}this.hideTimeout=Ext.Function.defer(function(){this.menu.hide()},200,this)},deferShowMenu:function(){clearTimeout(Docs.view.HoverMenuButton.showTimeout);Docs.view.HoverMenuButton.showTimeout=Ext.Function.defer(function(){if(!this.menu){this.renderMenu()}Ext.Array.forEach(Docs.view.HoverMenuButton.menus,function(a){if(a!==this.menu){a.hide()}},this);clearTimeout(this.hideTimeout);this.menu.show();var j=this.getEl().getXY(),n=Ext.ComponentQuery.query(&quot;classoverview toolbar&quot;)[0],k=j[0]-10,l=n.getEl().getXY(),i=n.getWidth(),m=this.menu.getEl().getWidth(),h=Ext.getCmp(&quot;doctabs&quot;).getWidth();if(m&gt;h){k=0}else{if((k+m)&gt;h){k=h-m-30}}if(k&lt;l[0]){k=l[0]}this.menu.getEl().setStyle({left:k+&quot;px&quot;,top:(j[1]+25)+&quot;px&quot;})},200,this)},getStore:function(){return this.store}});Ext.define(&quot;Docs.view.cls.Toolbar&quot;,{extend:&quot;Ext.toolbar.Toolbar&quot;,requires:[&quot;Docs.view.HoverMenuButton&quot;,&quot;Docs.Settings&quot;,&quot;Docs.Comments&quot;,&quot;Ext.form.field.Checkbox&quot;],dock:&quot;top&quot;,cls:&quot;member-links&quot;,docClass:{},accessors:{},initComponent:function(){this.addEvents(&quot;menubuttonclick&quot;,&quot;commentcountclick&quot;,&quot;filter&quot;,&quot;toggleExpanded&quot;);this.items=[];this.memberButtons={};var h={cfg:&quot;Configs&quot;,property:&quot;Properties&quot;,method:&quot;Methods&quot;,event:&quot;Events&quot;,css_var:&quot;CSS Vars&quot;,css_mixin:&quot;CSS Mixins&quot;};for(var i in h){var f=this.docClass.members[i].concat(this.docClass.statics[i]);f.sort(function(a,b){if(a.name===&quot;constructor&quot;&amp;&amp;a.tagname===&quot;method&quot;){return -1}return a.name&lt;b.name?-1:(a.name&gt;b.name?1:0)});if(f.length&gt;0){var j=this.createMemberButton({text:h[i],type:i,members:f});this.memberButtons[i]=j;this.items.push(j)}}this.checkItems={&quot;public&quot;:this.createCb(&quot;Public&quot;,&quot;public&quot;),&quot;protected&quot;:this.createCb(&quot;Protected&quot;,&quot;protected&quot;),&quot;private&quot;:this.createCb(&quot;Private&quot;,&quot;private&quot;),inherited:this.createCb(&quot;Inherited&quot;,&quot;inherited&quot;),accessor:this.createCb(&quot;Accessor&quot;,&quot;accessor&quot;),deprecated:this.createCb(&quot;Deprecated&quot;,&quot;deprecated&quot;),removed:this.createCb(&quot;Removed&quot;,&quot;removed&quot;)};var g=this;this.items=this.items.concat([{xtype:&quot;tbfill&quot;},this.filterField=Ext.widget(&quot;triggerfield&quot;,{triggerCls:&quot;reset&quot;,cls:&quot;member-filter&quot;,hideTrigger:true,emptyText:&quot;Filter class members&quot;,enableKeyEvents:true,width:150,listeners:{keyup:function(a){this.fireEvent(&quot;filter&quot;,a.getValue(),this.getShowFlags());a.setHideTrigger(a.getValue().length===0)},specialkey:function(a,b){if(b.keyCode===Ext.EventObject.ESC){a.reset();this.fireEvent(&quot;filter&quot;,&quot;&quot;,this.getShowFlags())}},scope:this},onTriggerClick:function(){this.reset();this.focus();g.fireEvent(&quot;filter&quot;,&quot;&quot;,g.getShowFlags());this.setHideTrigger(true)}}),{xtype:&quot;tbspacer&quot;,width:10},this.commentCount=this.createCommentCount(),{xtype:&quot;button&quot;,text:&quot;Show&quot;,menu:[this.checkItems[&quot;public&quot;],this.checkItems[&quot;protected&quot;],this.checkItems[&quot;private&quot;],&quot;-&quot;,this.checkItems.inherited,this.checkItems.accessor,this.checkItems.deprecated,this.checkItems.removed]},{xtype:&quot;button&quot;,iconCls:&quot;expand-all-members&quot;,tooltip:&quot;Expand all&quot;,enableToggle:true,toggleHandler:function(b,a){b.setIconCls(a?&quot;collapse-all-members&quot;:&quot;expand-all-members&quot;);this.fireEvent(&quot;toggleExpanded&quot;,a)},scope:this}]);this.callParent(arguments)},getShowFlags:function(){var d={};for(var c in this.checkItems){d[c]=this.checkItems[c].checked}return d},createCb:function(c,d){return Ext.widget(&quot;menucheckitem&quot;,{text:c,checked:Docs.Settings.get(&quot;show&quot;)[d],listeners:{checkchange:function(){this.fireEvent(&quot;filter&quot;,this.filterField.getValue(),this.getShowFlags())},scope:this}})},createMemberButton:function(d){var c=Ext.Array.map(d.members,function(a){return this.createLinkRecord(this.docClass.name,a)},this);return Ext.create(&quot;Docs.view.HoverMenuButton&quot;,{text:d.text,cls:&quot;icon-&quot;+d.type,store:this.createStore(c),showCount:true,listeners:{click:function(){this.fireEvent(&quot;menubuttonclick&quot;,d.type)},scope:this}})},createStore:function(c){var d=Ext.create(&quot;Ext.data.Store&quot;,{fields:[&quot;id&quot;,&quot;url&quot;,&quot;label&quot;,&quot;inherited&quot;,&quot;accessor&quot;,&quot;meta&quot;,&quot;commentCount&quot;]});d.add(c);return d},createLinkRecord:function(d,c){return{id:c.id,url:d+&quot;-&quot;+c.id,label:(c.tagname===&quot;method&quot;&amp;&amp;c.name===&quot;constructor&quot;)?&quot;new &quot;+d:c.name,inherited:c.owner!==d,accessor:c.tagname===&quot;method&quot;&amp;&amp;this.accessors.hasOwnProperty(c.name),meta:c.meta,commentCount:Docs.Comments.getCount([&quot;class&quot;,d,c.id])}},showMenuItems:function(d,e,f){Ext.Array.forEach([&quot;cfg&quot;,&quot;property&quot;,&quot;method&quot;,&quot;event&quot;],function(b){if(this.memberButtons[b]){var c=this.memberButtons[b].getStore();c.filterBy(function(h){return !(!d[&quot;public&quot;]&amp;&amp;!(h.get(&quot;meta&quot;)[&quot;private&quot;]||h.get(&quot;meta&quot;)[&quot;protected&quot;])||!d[&quot;protected&quot;]&amp;&amp;h.get(&quot;meta&quot;)[&quot;protected&quot;]||!d[&quot;private&quot;]&amp;&amp;h.get(&quot;meta&quot;)[&quot;private&quot;]||!d.inherited&amp;&amp;h.get(&quot;inherited&quot;)||!d.accessor&amp;&amp;h.get(&quot;accessor&quot;)||!d.deprecated&amp;&amp;h.get(&quot;meta&quot;)[&quot;deprecated&quot;]||!d.removed&amp;&amp;h.get(&quot;meta&quot;)[&quot;removed&quot;]||e&amp;&amp;!f.test(h.get(&quot;label&quot;)))});var a=this.memberButtons[b].menu;if(a&amp;&amp;Ext.getVersion().version&gt;=&quot;4.1.0&quot;){a.show();a.hide()}}},this)},getFilterValue:function(){return this.filterField.getValue()},createCommentCount:function(){return Ext.create(&quot;Ext.container.Container&quot;,{width:24,margin:&quot;0 4 0 0&quot;,cls:&quot;comment-btn&quot;,html:&quot;0&quot;,hidden:true,listeners:{afterrender:function(b){b.el.addListener(&quot;click&quot;,function(){this.fireEvent(&quot;commentcountclick&quot;)},this)},scope:this}})},showCommentCount:function(){this.commentCount.show()},setCommentCount:function(b){this.commentCount.update(&quot;&quot;+(b||0));this.refreshMenuCommentCounts()},refreshMenuCommentCounts:function(){Ext.Object.each(this.memberButtons,function(c,d){d.getStore().each(function(a){a.set(&quot;commentCount&quot;,Docs.Comments.getCount([&quot;class&quot;,this.docClass.name,a.get(&quot;id&quot;)]))},this)},this)}});Ext.define(&quot;Docs.view.cls.Overview&quot;,{extend:&quot;Ext.panel.Panel&quot;,alias:&quot;widget.classoverview&quot;,requires:[&quot;Docs.view.cls.Toolbar&quot;,&quot;Docs.view.examples.Inline&quot;,&quot;Docs.view.comments.LargeExpander&quot;,&quot;Docs.view.cls.MemberWrap&quot;,&quot;Docs.view.comments.MemberWrap&quot;,&quot;Docs.Syntax&quot;,&quot;Docs.Settings&quot;,&quot;Docs.Comments&quot;],mixins:[&quot;Docs.view.Scrolling&quot;],cls:&quot;class-overview iScroll&quot;,autoScroll:true,border:false,bodyPadding:&quot;20 8 20 5&quot;,initComponent:function(){this.addEvents(&quot;afterload&quot;);this.callParent(arguments)},scrollToEl:function(j,h){var g=(typeof j==&quot;string&quot;)?Ext.get(Ext.query(j)[0]):j;if(g){var f=g.hasCls(&quot;member&quot;);g.show();if(!g.isVisible(true)){g.up(&quot;.subsection&quot;).show();g.up(&quot;.members-section&quot;).show()}if(f&amp;&amp;g.down(&quot;.expandable&quot;)){this.setMemberExpanded(j.replace(/#/,&quot;&quot;),true)}var i=this.body.getBox().y;this.scrollToView(g,{highlight:true,offset:(h||0)-(f?i:i-10)})}},load:function(b){this.docClass=b;this.accessors=this.buildAccessorsMap();if(this.toolbar){this.removeDocked(this.toolbar,false);this.toolbar.destroy()}this.toolbar=Ext.create(&quot;Docs.view.cls.Toolbar&quot;,{docClass:this.docClass,accessors:this.accessors,listeners:{filter:function(d,a){this.filterMembers(d,a)},menubuttonclick:function(a){this.scrollToEl(&quot;h3.members-title.icon-&quot;+a,-20)},commentcountclick:this.expandClassComments,scope:this}});this.addDocked(this.toolbar);this.update(b.html);Docs.Syntax.highlight(this.getEl());this.filterMembers(&quot;&quot;,Docs.Settings.get(&quot;show&quot;));if(Docs.Comments.isEnabled()){this.initComments()}else{this.initBasicMemberWrappers()}this.fireEvent(&quot;afterload&quot;)},initComments:function(){this.toolbar.showCommentCount();this.toolbar.setCommentCount(Docs.Comments.getCount([&quot;class&quot;,this.docClass.name,&quot;&quot;]));this.clsExpander=new Docs.view.comments.LargeExpander({name:this.docClass.name,el:Ext.query(&quot;.doc-contents&quot;)[0]});this.memberWrappers={};Ext.Array.forEach(Ext.query(&quot;.member&quot;),function(c){var d=new Docs.view.comments.MemberWrap({parent:this,className:this.docClass.name,el:c});this.memberWrappers[d.getMemberId()]=d},this)},initBasicMemberWrappers:function(){this.memberWrappers={};Ext.Array.forEach(Ext.query(&quot;.member&quot;),function(c){var d=new Docs.view.cls.MemberWrap({el:c});this.memberWrappers[d.getMemberId()]=d},this)},updateCommentCounts:function(){if(!this.docClass){return}var b=Docs.Comments.getCount([&quot;class&quot;,this.docClass.name,&quot;&quot;]);this.toolbar.setCommentCount(b);this.clsExpander.getExpander().setCount(b);Ext.Object.each(this.memberWrappers,function(a,d){d.setCount(Docs.Comments.getCount(d.getTarget()))},this)},expandClassComments:function(){var b=this.clsExpander.getExpander();b.expand();this.scrollToEl(b.getEl(),-40)},setMemberExpanded:function(c,d){this.memberWrappers[c].setExpanded(d)},isMemberExpanded:function(b){return this.memberWrappers[b].isExpanded()},setAllMembersExpanded:function(b){if(Docs.Comments.isEnabled()){Ext.Object.each(this.memberWrappers,function(a,d){d.getExpander().show()},this)}Ext.Object.each(this.memberWrappers,function(a,d){d.setExpanded(b)},this)},filterMembers:function(h,e){Docs.Settings.set(&quot;show&quot;,e);var f=h.length&gt;0;Ext.Array.forEach(Ext.query(&quot;.doc-contents, .hierarchy&quot;),function(a){Ext.get(a).setStyle({display:f?&quot;none&quot;:&quot;block&quot;})});var g=new RegExp(Ext.String.escapeRegex(h),&quot;i&quot;);this.eachMember(function(c){var b=Ext.get(c.id);var a=!(!e[&quot;public&quot;]&amp;&amp;!(c.meta[&quot;private&quot;]||c.meta[&quot;protected&quot;])||!e[&quot;protected&quot;]&amp;&amp;c.meta[&quot;protected&quot;]||!e[&quot;private&quot;]&amp;&amp;c.meta[&quot;private&quot;]||!e.inherited&amp;&amp;(c.owner!==this.docClass.name)||!e.accessor&amp;&amp;c.tagname===&quot;method&quot;&amp;&amp;this.accessors.hasOwnProperty(c.name)||!e.deprecated&amp;&amp;c.meta.deprecated||!e.removed&amp;&amp;c.meta.removed||f&amp;&amp;!g.test(c.name));if(a){b.setStyle({display:&quot;block&quot;})}else{b.setStyle({display:&quot;none&quot;})}},this);Ext.Array.forEach(Ext.query(&quot;.member.first-child&quot;),function(a){Ext.get(a).removeCls(&quot;first-child&quot;)});Ext.Array.forEach(Ext.query(&quot;.members-section&quot;),function(b){var a=this.getVisibleElements(&quot;.member&quot;,b);Ext.get(b).setStyle({display:a.length&gt;0?&quot;block&quot;:&quot;none&quot;});Ext.Array.forEach(Ext.query(&quot;.subsection&quot;,b),function(d){var c=this.getVisibleElements(&quot;.member&quot;,d);if(c.length&gt;0){c[0].addCls(&quot;first-child&quot;);Ext.get(d).setStyle({display:&quot;block&quot;})}else{Ext.get(d).setStyle({display:&quot;none&quot;})}},this)},this);this.toolbar.showMenuItems(e,f,g)},buildAccessorsMap:function(c){var d={};Ext.Array.forEach(this.docClass.members.cfg,function(b){var a=Ext.String.capitalize(b.name);d[&quot;get&quot;+a]=true;d[&quot;set&quot;+a]=true});return d},getVisibleElements:function(e,d){var f=Ext.Array.map(Ext.query(e,d),function(a){return Ext.get(a)});return Ext.Array.filter(f,function(a){return a.isVisible()})},eachMember:function(c,d){Ext.Array.forEach([&quot;members&quot;,&quot;statics&quot;],function(a){Ext.Object.each(this.docClass[a],function(b,f){Ext.Array.forEach(f,c,d)},this)},this)}});Ext.define(&quot;Docs.view.cls.Container&quot;,{extend:&quot;Ext.container.Container&quot;,alias:&quot;widget.classcontainer&quot;,requires:[&quot;Docs.view.cls.Header&quot;,&quot;Docs.view.cls.Overview&quot;],layout:&quot;border&quot;,padding:&quot;5 10 0 10&quot;,initComponent:function(){this.items=[Ext.create(&quot;Docs.view.cls.Header&quot;,{region:&quot;north&quot;}),Ext.create(&quot;Docs.view.cls.Overview&quot;,{region:&quot;center&quot;})];this.callParent(arguments)}});Ext.define(&quot;Docs.view.Viewport&quot;,{extend:&quot;Ext.container.Viewport&quot;,requires:[&quot;Docs.view.search.Container&quot;,&quot;Docs.view.Header&quot;,&quot;Docs.view.Tabs&quot;,&quot;Docs.view.TreeContainer&quot;,&quot;Docs.view.welcome.Index&quot;,&quot;Docs.view.auth.HeaderForm&quot;,&quot;Docs.view.comments.Index&quot;,&quot;Docs.view.cls.Index&quot;,&quot;Docs.view.cls.Container&quot;,&quot;Docs.view.guides.Index&quot;,&quot;Docs.view.guides.Container&quot;,&quot;Docs.view.videos.Index&quot;,&quot;Docs.view.videos.Container&quot;,&quot;Docs.view.examples.Index&quot;,&quot;Docs.view.examples.Container&quot;,&quot;Docs.view.examples.TouchContainer&quot;,&quot;Docs.view.tests.Index&quot;],id:&quot;viewport&quot;,layout:&quot;border&quot;,defaults:{xtype:&quot;container&quot;},initComponent:function(){this.items=[{region:&quot;north&quot;,id:&quot;north-region&quot;,height:65,layout:{type:&quot;vbox&quot;,align:&quot;stretch&quot;},items:[{height:37,xtype:&quot;container&quot;,layout:&quot;hbox&quot;,items:[{xtype:&quot;docheader&quot;},{xtype:&quot;container&quot;,flex:1},{id:&quot;loginContainer&quot;,xtype:&quot;authHeaderForm&quot;,padding:&quot;10 20 0 0&quot;},{xtype:&quot;searchcontainer&quot;,id:&quot;search-container&quot;,width:230,margin:&quot;4 0 0 0&quot;}]},{xtype:&quot;doctabs&quot;}]},{region:&quot;center&quot;,layout:&quot;border&quot;,items:[{region:&quot;west&quot;,xtype:&quot;treecontainer&quot;,id:&quot;treecontainer&quot;,border:1,bodyPadding:&quot;10 9 4 9&quot;,width:240},{region:&quot;center&quot;,id:&quot;center-container&quot;,layout:&quot;fit&quot;,border:false,padding:&quot;5 10&quot;,items:{id:&quot;card-panel&quot;,cls:&quot;card-panel&quot;,xtype:&quot;container&quot;,layout:{type:&quot;card&quot;,deferredRender:true},items:[{autoScroll:true,xtype:&quot;welcomeindex&quot;,id:&quot;welcomeindex&quot;},{xtype:&quot;container&quot;,id:&quot;failure&quot;},{autoScroll:true,xtype:&quot;classindex&quot;,id:&quot;classindex&quot;},{xtype:&quot;classcontainer&quot;,id:&quot;classcontainer&quot;},{autoScroll:true,xtype:&quot;guideindex&quot;,id:&quot;guideindex&quot;},{autoScroll:true,xtype:&quot;guidecontainer&quot;,id:&quot;guide&quot;,cls:&quot;iScroll&quot;},{xtype:&quot;videoindex&quot;,id:&quot;videoindex&quot;},{autoScroll:true,xtype:&quot;videocontainer&quot;,id:&quot;video&quot;,cls:&quot;iScroll&quot;},{xtype:&quot;exampleindex&quot;,id:&quot;exampleindex&quot;},{xtype:Docs.data.touchExamplesUi?&quot;touchexamplecontainer&quot;:&quot;examplecontainer&quot;,id:&quot;example&quot;},{xtype:&quot;testsindex&quot;,id:&quot;testsindex&quot;},{xtype:&quot;commentindex&quot;,id:&quot;commentindex&quot;}]}}]},{region:&quot;south&quot;,id:&quot;footer&quot;,height:20,contentEl:&quot;footer-content&quot;}];this.callParent(arguments)},setPageTitle:function(b){b=Ext.util.Format.stripTags(b);if(!this.origTitle){this.origTitle=document.title}document.title=b?(b+&quot; - &quot;+this.origTitle):this.origTitle}});Ext.define(&quot;Docs.Application&quot;,{requires:[&quot;Ext.app.Application&quot;,&quot;Docs.History&quot;,&quot;Docs.Comments&quot;,&quot;Docs.Settings&quot;,&quot;Docs.view.Viewport&quot;,&quot;Docs.controller.Auth&quot;,&quot;Docs.controller.Welcome&quot;,&quot;Docs.controller.Failure&quot;,&quot;Docs.controller.Classes&quot;,&quot;Docs.controller.Search&quot;,&quot;Docs.controller.InlineExamples&quot;,&quot;Docs.controller.Examples&quot;,&quot;Docs.controller.Guides&quot;,&quot;Docs.controller.Videos&quot;,&quot;Docs.controller.Tabs&quot;,&quot;Docs.controller.Comments&quot;,&quot;Docs.controller.CommentCounts&quot;,&quot;Docs.controller.Tests&quot;],constructor:function(){Docs.Comments.init(this.createApp,this)},createApp:function(){new Ext.app.Application({name:&quot;Docs&quot;,controllers:[&quot;Auth&quot;,&quot;Welcome&quot;,&quot;Failure&quot;,&quot;Classes&quot;,&quot;Search&quot;,&quot;InlineExamples&quot;,&quot;Examples&quot;,&quot;Guides&quot;,&quot;Videos&quot;,&quot;Tabs&quot;,&quot;Comments&quot;,&quot;CommentCounts&quot;,&quot;Tests&quot;],launch:this.launch})},launch:function(){Docs.App=this;Docs.Settings.init();Ext.create(&quot;Docs.view.Viewport&quot;);Docs.History.init();if(Docs.initEventTracking){Docs.initEventTracking()}Ext.get(&quot;loading&quot;).remove()}});Ext.define(&quot;Docs.view.auth.Form&quot;,{extend:&quot;Docs.view.auth.BaseForm&quot;,alias:&quot;widget.authForm&quot;,componentCls:&quot;auth-form&quot;,initComponent:function(){this.html=[&#39;&lt;span class=&quot;before-text&quot;&gt;Sign in to post a comment:&lt;/span&gt;&#39;,this.createLoginFormHtml()];this.callParent(arguments)},afterRender:function(){this.callParent(arguments);this.bindFormSubmitEvent()}});Ext.define(&quot;Docs.view.comments.ListWithForm&quot;,{extend:&quot;Ext.container.Container&quot;,alias:&quot;widget.commentsListWithForm&quot;,requires:[&quot;Docs.view.comments.List&quot;,&quot;Docs.view.comments.Form&quot;,&quot;Docs.view.auth.Form&quot;,&quot;Docs.Comments&quot;,&quot;Docs.Auth&quot;],componentCls:&quot;comments-list-with-form&quot;,initComponent:function(){this.items=[this.list=new Docs.view.comments.List({enableDragDrop:true})];this.relayEvents(this.list,[&quot;countChange&quot;,&quot;reorder&quot;]);this.callParent(arguments)},load:function(c,d){this.list.load(c,d);if(Docs.Auth.isLoggedIn()){this.showCommentingForm()}else{this.showAuthForm()}},showAuthForm:function(){if(this.commentingForm){this.remove(this.commentingForm);delete this.commentingForm}if(!this.authForm){this.authForm=new Docs.view.auth.Form();this.add(this.authForm)}},showCommentingForm:function(){if(this.authForm){this.remove(this.authForm);delete this.authForm}if(!this.commentingForm){this.commentingForm=new Docs.view.comments.Form({title:this.newCommentTitle,user:Docs.Auth.getUser(),userSubscribed:Docs.Comments.hasSubscription(this.target),listeners:{submit:this.postComment,subscriptionChange:this.subscribe,scope:this}});this.add(this.commentingForm)}},postComment:function(b){Docs.Comments.post({target:this.target,parentId:this.parentId,content:b,callback:function(a){this.commentingForm.setValue(&quot;&quot;);this.list.load([a],true)},scope:this})},subscribe:function(b){Docs.Comments.subscribe(this.target,b,function(){this.commentingForm.showSubscriptionMessage(b)},this)}});Ext.ns(&quot;Docs&quot;);Ext.Loader.setConfig({enabled:true,paths:{Docs:&quot;app&quot;}});Ext.require(&quot;Ext.form.field.Trigger&quot;);Ext.require(&quot;Ext.tab.Panel&quot;);Ext.require(&quot;Ext.grid.column.Action&quot;);Ext.require(&quot;Ext.grid.plugin.DragDrop&quot;);Ext.require(&quot;Ext.layout.container.Border&quot;);Ext.require(&quot;Ext.data.TreeStore&quot;);Ext.require(&quot;Ext.toolbar.Spacer&quot;);Ext.require(&quot;Docs.Application&quot;);Ext.onReady(function(){Ext.create(&quot;Docs.Application&quot;)});var q=null;window.PR_SHOULD_USE_CONTINUATION=!0;(function(){function d(F){function w(J){var K=J.charCodeAt(0);if(K!==92){return K}var I=J.charAt(1);return(K=k[I])?K:&quot;0&quot;&lt;=I&amp;&amp;I&lt;=&quot;7&quot;?parseInt(J.substring(1),8):I===&quot;u&quot;||I===&quot;x&quot;?parseInt(J.substring(2),16):J.charCodeAt(1)}function C(I){if(I&lt;32){return(I&lt;16?&quot;\\x0&quot;:&quot;\\x&quot;)+I.toString(16)}I=String.fromCharCode(I);if(I===&quot;\\&quot;||I===&quot;-&quot;||I===&quot;[&quot;||I===&quot;]&quot;){I=&quot;\\&quot;+I}return I}function A(J){for(var M=J.substring(1,J.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),J=[],I=[],O=M[0]===&quot;^&quot;,P=O?1:0,L=M.length;P&lt;L;++P){var K=M[P];if(/\\[bdsw]/i.test(K)){J.push(K)}else{var K=w(K),N;P+2&lt;L&amp;&amp;&quot;-&quot;===M[P+1]?(N=w(M[P+2]),P+=2):N=K;I.push([K,N]);N&lt;65||K&gt;122||(N&lt;65||K&gt;90||I.push([Math.max(65,K)|32,Math.min(N,90)|32]),N&lt;97||K&gt;122||I.push([Math.max(97,K)&amp;-33,Math.min(N,122)&amp;-33]))}}I.sort(function(Q,R){return Q[0]-R[0]||R[1]-Q[1]});M=[];K=[NaN,NaN];for(P=0;P&lt;I.length;++P){L=I[P],L[0]&lt;=K[1]+1?K[1]=Math.max(K[1],L[1]):M.push(K=L)}I=[&quot;[&quot;];O&amp;&amp;I.push(&quot;^&quot;);I.push.apply(I,J);for(P=0;P&lt;M.length;++P){L=M[P],I.push(C(L[0])),L[1]&gt;L[0]&amp;&amp;(L[1]+1&gt;L[0]&amp;&amp;I.push(&quot;-&quot;),I.push(C(L[1])))}I.push(&quot;]&quot;);return I.join(&quot;&quot;)}function E(J){for(var M=J.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),I=M.length,N=[],O=0,L=0;O&lt;I;++O){var K=M[O];K===&quot;(&quot;?++L:&quot;\\&quot;===K.charAt(0)&amp;&amp;(K=+K.substring(1))&amp;&amp;K&lt;=L&amp;&amp;(N[K]=-1)}for(O=1;O&lt;N.length;++O){-1===N[O]&amp;&amp;(N[O]=++G)}for(L=O=0;O&lt;I;++O){K=M[O],K===&quot;(&quot;?(++L,N[L]===void 0&amp;&amp;(M[O]=&quot;(?:&quot;)):&quot;\\&quot;===K.charAt(0)&amp;&amp;(K=+K.substring(1))&amp;&amp;K&lt;=L&amp;&amp;(M[O]=&quot;\\&quot;+N[L])}for(L=O=0;O&lt;I;++O){&quot;^&quot;===M[O]&amp;&amp;&quot;^&quot;!==M[O+1]&amp;&amp;(M[O]=&quot;&quot;)}if(J.ignoreCase&amp;&amp;H){for(O=0;O&lt;I;++O){K=M[O],J=K.charAt(0),K.length&gt;=2&amp;&amp;J===&quot;[&quot;?M[O]=A(K):J!==&quot;\\&quot;&amp;&amp;(M[O]=K.replace(/[A-Za-z]/g,function(P){P=P.charCodeAt(0);return&quot;[&quot;+String.fromCharCode(P&amp;-33,P|32)+&quot;]&quot;}))}}return M.join(&quot;&quot;)}for(var G=0,H=!1,x=!1,u=0,D=F.length;u&lt;D;++u){var B=F[u];if(B.ignoreCase){x=!0}else{if(/[a-z]/i.test(B.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,&quot;&quot;))){H=!0;x=!1;break}}}for(var k={b:8,t:9,n:10,v:11,f:12,r:13},v=[],u=0,D=F.length;u&lt;D;++u){B=F[u];if(B.global||B.multiline){throw Error(&quot;&quot;+B)}v.push(&quot;(?:&quot;+E(B)+&quot;)&quot;)}return RegExp(v.join(&quot;|&quot;),x?&quot;gi&quot;:&quot;g&quot;)}function c(B){function u(E){switch(E.nodeType){case 1:if(x.test(E.className)){break}for(var F=E.firstChild;F;F=F.nextSibling){u(F)}F=E.nodeName;if(&quot;BR&quot;===F||&quot;LI&quot;===F){w[D]=&quot;\n&quot;,C[D&lt;&lt;1]=A++,C[D++&lt;&lt;1|1]=E}break;case 3:case 4:F=E.nodeValue,F.length&amp;&amp;(F=k?F.replace(/\r\n?/g,&quot;\n&quot;):F.replace(/[\t\n\r ]+/g,&quot; &quot;),w[D]=F,C[D&lt;&lt;1]=A,A+=F.length,C[D++&lt;&lt;1|1]=E)}}var x=/(?:^|\s)nocode(?:\s|$)/,w=[],A=0,C=[],D=0,v;B.currentStyle?v=B.currentStyle.whiteSpace:window.getComputedStyle&amp;&amp;(v=document.defaultView.getComputedStyle(B,q).getPropertyValue(&quot;white-space&quot;));var k=v&amp;&amp;&quot;pre&quot;===v.substring(0,3);u(B);return{a:w.join(&quot;&quot;).replace(/\n$/,&quot;&quot;),c:C}}function t(u,k,w,v){k&amp;&amp;(u={a:k,d:u},w(u),v.push.apply(v,u.e))}function h(u,k){function x(P){for(var F=P.d,C=[F,&quot;pln&quot;],L=0,J=P.a.match(A)||[],B={},E=0,N=J.length;E&lt;N;++E){var K=J[E],O=B[K],D=void 0,M;if(typeof O===&quot;string&quot;){M=!1}else{var I=w[K.charAt(0)];if(I){D=K.match(I[1]),O=I[0]}else{for(M=0;M&lt;v;++M){if(I=k[M],D=K.match(I[1])){O=I[0];break}}D||(O=&quot;pln&quot;)}if((M=O.length&gt;=5&amp;&amp;&quot;lang-&quot;===O.substring(0,5))&amp;&amp;!(D&amp;&amp;typeof D[1]===&quot;string&quot;)){M=!1,O=&quot;src&quot;}M||(B[K]=O)}I=L;L+=K.length;if(M){M=D[1];var H=K.indexOf(M),G=H+M.length;D[2]&amp;&amp;(G=K.length-D[2].length,H=G-M.length);O=O.substring(5);t(F+I,K.substring(0,H),x,C);t(F+I+H,M,s(O,M),C);t(F+I+G,K.substring(G),x,C)}else{C.push(F+I,O)}}P.e=C}var w={},A;(function(){for(var G=u.concat(k),B=[],F={},H=0,E=G.length;H&lt;E;++H){var D=G[H],I=D[3];if(I){for(var C=I.length;--C&gt;=0;){w[I.charAt(C)]=D}}D=D[1];I=&quot;&quot;+D;F.hasOwnProperty(I)||(B.push(D),F[I]=q)}B.push(/[\S\s]/);A=d(B)})();var v=k.length;return x}function o(u){var k=[],w=[];u.tripleQuotedStrings?k.push([&quot;str&quot;,/^(?:&#39;&#39;&#39;(?:[^&#39;\\]|\\[\S\s]|&#39;&#39;?(?=[^&#39;]))*(?:&#39;&#39;&#39;|$)|&quot;&quot;&quot;(?:[^&quot;\\]|\\[\S\s]|&quot;&quot;?(?=[^&quot;]))*(?:&quot;&quot;&quot;|$)|&#39;(?:[^&#39;\\]|\\[\S\s])*(?:&#39;|$)|&quot;(?:[^&quot;\\]|\\[\S\s])*(?:&quot;|$))/,q,&quot;&#39;\&quot;&quot;]):u.multiLineStrings?k.push([&quot;str&quot;,/^(?:&#39;(?:[^&#39;\\]|\\[\S\s])*(?:&#39;|$)|&quot;(?:[^&quot;\\]|\\[\S\s])*(?:&quot;|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,q,&quot;&#39;\&quot;`&quot;]):k.push([&quot;str&quot;,/^(?:&#39;(?:[^\n\r&#39;\\]|\\.)*(?:&#39;|$)|&quot;(?:[^\n\r&quot;\\]|\\.)*(?:&quot;|$))/,q,&quot;\&quot;&#39;&quot;]);u.verbatimStrings&amp;&amp;w.push([&quot;str&quot;,/^@&quot;(?:[^&quot;]|&quot;&quot;)*(?:&quot;|$)/,q]);var v=u.hashComments;v&amp;&amp;(u.cStyleComments?(v&gt;1?k.push([&quot;com&quot;,/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,&quot;#&quot;]):k.push([&quot;com&quot;,/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,q,&quot;#&quot;]),w.push([&quot;str&quot;,/^&lt;(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)&gt;/,q])):k.push([&quot;com&quot;,/^#[^\n\r]*/,q,&quot;#&quot;]));u.cStyleComments&amp;&amp;(w.push([&quot;com&quot;,/^\/\/[^\n\r]*/,q]),w.push([&quot;com&quot;,/^\/\*[\S\s]*?(?:\*\/|$)/,q]));u.regexLiterals&amp;&amp;w.push([&quot;lang-regex&quot;,/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&amp;|&amp;&amp;|&amp;&amp;=|&amp;=|\(|\*|\*=|\+=|,|-=|-&gt;|\/|\/=|:|::|;|&lt;|&lt;&lt;|&lt;&lt;=|&lt;=|=|==|===|&gt;|&gt;=|&gt;&gt;|&gt;&gt;=|&gt;&gt;&gt;|&gt;&gt;&gt;=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]);(v=u.types)&amp;&amp;w.push([&quot;typ&quot;,v]);u=(&quot;&quot;+u.keywords).replace(/^ | $/g,&quot;&quot;);u.length&amp;&amp;w.push([&quot;kwd&quot;,RegExp(&quot;^(?:&quot;+u.replace(/[\s,]+/g,&quot;|&quot;)+&quot;)\\b&quot;),q]);k.push([&quot;pln&quot;,/^\s+/,q,&quot; \r\n\t\xa0&quot;]);w.push([&quot;lit&quot;,/^@[$_a-z][\w$@]*/i,q],[&quot;typ&quot;,/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],[&quot;pln&quot;,/^[$_a-z][\w$@]*/i,q],[&quot;lit&quot;,/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,&quot;0123456789&quot;],[&quot;pln&quot;,/^\\[\S\s]?/,q],[&quot;pun&quot;,/^.[^\s\w&quot;-$&#39;./@\\`]*/,q]);return h(k,w)}function r(H,x){function E(K){switch(K.nodeType){case 1:if(B.test(K.className)){break}if(&quot;BR&quot;===K.nodeName){C(K),K.parentNode&amp;&amp;K.parentNode.removeChild(K)}else{for(K=K.firstChild;K;K=K.nextSibling){E(K)}}break;case 3:case 4:if(v){var k=K.nodeValue,L=k.match(I);if(L){var M=k.substring(0,L.index);K.nodeValue=M;(k=k.substring(L.index+L[0].length))&amp;&amp;K.parentNode.insertBefore(J.createTextNode(k),K.nextSibling);C(K);M||K.parentNode.removeChild(K)}}}}function C(K){function k(M,R){var Q=R?M.cloneNode(!1):M,P=M.parentNode;if(P){var P=k(P,1),O=M.nextSibling;P.appendChild(Q);for(var N=O;N;N=O){O=N.nextSibling,P.appendChild(N)}}return Q}for(;!K.nextSibling;){if(K=K.parentNode,!K){return}}for(var K=k(K.nextSibling,0),L;(L=K.parentNode)&amp;&amp;L.nodeType===1;){K=L}F.push(K)}var B=/(?:^|\s)nocode(?:\s|$)/,I=/\r\n?|\n/,J=H.ownerDocument,A;H.currentStyle?A=H.currentStyle.whiteSpace:window.getComputedStyle&amp;&amp;(A=J.defaultView.getComputedStyle(H,q).getPropertyValue(&quot;white-space&quot;));var v=A&amp;&amp;&quot;pre&quot;===A.substring(0,3);for(A=J.createElement(&quot;LI&quot;);H.firstChild;){A.appendChild(H.firstChild)}for(var F=[A],D=0;D&lt;F.length;++D){E(F[D])}x===(x|0)&amp;&amp;F[0].setAttribute(&quot;value&quot;,x);var u=J.createElement(&quot;OL&quot;);u.className=&quot;linenums&quot;;for(var w=Math.max(0,x-1|0)||0,D=0,G=F.length;D&lt;G;++D){A=F[D],A.className=&quot;L&quot;+(D+w)%10,A.firstChild||A.appendChild(J.createTextNode(&quot;\xa0&quot;)),u.appendChild(A)}H.appendChild(u)}function z(u,k){for(var w=k.length;--w&gt;=0;){var v=k[w];y.hasOwnProperty(v)?window.console&amp;&amp;console.warn(&quot;cannot override language handler %s&quot;,v):y[v]=u}}function s(u,k){if(!u||!y.hasOwnProperty(u)){u=/^\s*&lt;/.test(k)?&quot;default-markup&quot;:&quot;default-code&quot;}return y[u]}function p(X){var L=X.g;try{var T=c(X.h),Q=T.a;X.a=Q;X.c=T.c;X.d=0;s(L,Q)(X);var N=/\bMSIE\b/.test(navigator.userAgent),L=/\n/g,F=X.a,G=F.length,T=0,M=X.c,I=M.length,Q=0,U=X.e,R=U.length,X=0;U[R]=G;var H,K;for(K=H=0;K&lt;R;){U[K]!==U[K+2]?(U[H++]=U[K++],U[H++]=U[K++]):K+=2}R=H;for(K=H=0;K&lt;R;){for(var A=U[K],S=U[K+1],W=K+2;W+2&lt;=R&amp;&amp;U[W+1]===S;){W+=2}U[H++]=A;U[H++]=S;K=W}for(U.length=H;Q&lt;I;){var J=M[Q+2]||G,V=U[X+2]||G,W=Math.min(J,V),P=M[Q+1],O;if(P.nodeType!==1&amp;&amp;(O=F.substring(T,W))){N&amp;&amp;(O=O.replace(L,&quot;\r&quot;));P.nodeValue=O;var E=P.ownerDocument,D=E.createElement(&quot;SPAN&quot;);D.className=U[X+1];var B=P.parentNode;B.replaceChild(D,P);D.appendChild(P);T&lt;J&amp;&amp;(M[Q+1]=P=E.createTextNode(F.substring(W,J)),B.insertBefore(P,D.nextSibling))}T=W;T&gt;=J&amp;&amp;(Q+=2);T&gt;=V&amp;&amp;(X+=2)}}catch(C){&quot;console&quot; in window&amp;&amp;console.log(C&amp;&amp;C.stack?C.stack:C)}}var m=[&quot;break,continue,do,else,for,if,return,while&quot;],j=[[m,&quot;auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile&quot;],&quot;catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof&quot;],n=[j,&quot;alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where&quot;],l=[j,&quot;abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient&quot;],i=[l,&quot;as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var&quot;],j=[j,&quot;debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN&quot;],g=[m,&quot;and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None&quot;],f=[m,&quot;alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END&quot;],m=[m,&quot;case,done,elif,esac,eval,fi,function,in,local,set,then,until&quot;],e=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,b=/\S/,a=o({keywords:[n,i,j,&quot;caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END&quot;+g,f,m],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),y={};z(a,[&quot;default-code&quot;]);z(h([],[[&quot;pln&quot;,/^[^&lt;?]+/],[&quot;dec&quot;,/^&lt;!\w[^&gt;]*(?:&gt;|$)/],[&quot;com&quot;,/^&lt;\!--[\S\s]*?(?:--\&gt;|$)/],[&quot;lang-&quot;,/^&lt;\?([\S\s]+?)(?:\?&gt;|$)/],[&quot;lang-&quot;,/^&lt;%([\S\s]+?)(?:%&gt;|$)/],[&quot;pun&quot;,/^(?:&lt;[%?]|[%?]&gt;)/],[&quot;lang-&quot;,/^&lt;xmp\b[^&gt;]*&gt;([\S\s]+?)&lt;\/xmp\b[^&gt;]*&gt;/i],[&quot;lang-js&quot;,/^&lt;script\b[^&gt;]*&gt;([\S\s]*?)(&lt;\/script\b[^&gt;]*&gt;)/i],[&quot;lang-css&quot;,/^&lt;style\b[^&gt;]*&gt;([\S\s]*?)(&lt;\/style\b[^&gt;]*&gt;)/i],[&quot;lang-in.tag&quot;,/^(&lt;\/?[a-z][^&lt;&gt;]*&gt;)/i]]),[&quot;default-markup&quot;,&quot;htm&quot;,&quot;html&quot;,&quot;mxml&quot;,&quot;xhtml&quot;,&quot;xml&quot;,&quot;xsl&quot;]);z(h([[&quot;pln&quot;,/^\s+/,q,&quot; \t\r\n&quot;],[&quot;atv&quot;,/^(?:&quot;[^&quot;]*&quot;?|&#39;[^&#39;]*&#39;?)/,q,&quot;\&quot;&#39;&quot;]],[[&quot;tag&quot;,/^^&lt;\/?[a-z](?:[\w-.:]*\w)?|\/?&gt;$/i],[&quot;atn&quot;,/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],[&quot;lang-uq.val&quot;,/^=\s*([^\s&quot;&#39;&gt;]*(?:[^\s&quot;&#39;/&gt;]|\/(?=\s)))/],[&quot;pun&quot;,/^[/&lt;-&gt;]+/],[&quot;lang-js&quot;,/^on\w+\s*=\s*&quot;([^&quot;]+)&quot;/i],[&quot;lang-js&quot;,/^on\w+\s*=\s*&#39;([^&#39;]+)&#39;/i],[&quot;lang-js&quot;,/^on\w+\s*=\s*([^\s&quot;&#39;&gt;]+)/i],[&quot;lang-css&quot;,/^style\s*=\s*&quot;([^&quot;]+)&quot;/i],[&quot;lang-css&quot;,/^style\s*=\s*&#39;([^&#39;]+)&#39;/i],[&quot;lang-css&quot;,/^style\s*=\s*([^\s&quot;&#39;&gt;]+)/i]]),[&quot;in.tag&quot;]);z(h([],[[&quot;atv&quot;,/^[\S\s]+/]]),[&quot;uq.val&quot;]);z(o({keywords:n,hashComments:!0,cStyleComments:!0,types:e}),[&quot;c&quot;,&quot;cc&quot;,&quot;cpp&quot;,&quot;cxx&quot;,&quot;cyc&quot;,&quot;m&quot;]);z(o({keywords:&quot;null,true,false&quot;}),[&quot;json&quot;]);z(o({keywords:i,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:e}),[&quot;cs&quot;]);z(o({keywords:l,cStyleComments:!0}),[&quot;java&quot;]);z(o({keywords:m,hashComments:!0,multiLineStrings:!0}),[&quot;bsh&quot;,&quot;csh&quot;,&quot;sh&quot;]);z(o({keywords:g,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),[&quot;cv&quot;,&quot;py&quot;]);z(o({keywords:&quot;caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END&quot;,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),[&quot;perl&quot;,&quot;pl&quot;,&quot;pm&quot;]);z(o({keywords:f,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),[&quot;rb&quot;]);z(o({keywords:j,cStyleComments:!0,regexLiterals:!0}),[&quot;js&quot;]);z(o({keywords:&quot;all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes&quot;,hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),[&quot;coffee&quot;]);z(h([],[[&quot;str&quot;,/^[\S\s]+/]]),[&quot;regex&quot;]);window.prettyPrintOne=function(u,k,w){var v=document.createElement(&quot;PRE&quot;);v.innerHTML=u;w&amp;&amp;r(v,w);p({g:k,i:w,h:v});return v.innerHTML};window.prettyPrint=function(E){function v(){for(var L=window.PR_SHOULD_USE_CONTINUATION?w.now()+250:Infinity;u&lt;A.length&amp;&amp;w.now()&lt;L;u++){var O=A[u],I=O.className;if(I.indexOf(&quot;prettyprint&quot;)&gt;=0){var I=I.match(B),K,H;if(H=!I){H=O;for(var M=void 0,N=H.firstChild;N;N=N.nextSibling){var J=N.nodeType,M=J===1?M?H:N:J===3?b.test(N.nodeValue)?H:M:M}H=(K=M===H?void 0:M)&amp;&amp;&quot;CODE&quot;===K.tagName}H&amp;&amp;(I=K.className.match(B));I&amp;&amp;(I=I[1]);H=!1;for(M=O.parentNode;M;M=M.parentNode){if((M.tagName===&quot;pre&quot;||M.tagName===&quot;code&quot;||M.tagName===&quot;xmp&quot;)&amp;&amp;M.className&amp;&amp;M.className.indexOf(&quot;prettyprint&quot;)&gt;=0){H=!0;break}}H||((H=(H=O.className.match(/\blinenums\b(?::(\d+))?/))?H[1]&amp;&amp;H[1].length?+H[1]:!0:!1)&amp;&amp;r(O,H),D={g:I,h:O,i:H},p(D))}}u&lt;A.length?setTimeout(v,250):E&amp;&amp;E()}for(var C=[document.getElementsByTagName(&quot;pre&quot;),document.getElementsByTagName(&quot;code&quot;),document.getElementsByTagName(&quot;xmp&quot;)],A=[],x=0;x&lt;C.length;++x){for(var F=0,G=C[x].length;F&lt;G;++F){A.push(C[x][F])}}var C=q,w=Date;w.now||(w={now:function(){return +new Date}});var u=0,D,B=/\blang(?:uage)?-([\w.]+)(?!\S)/;v()};window.PR={createSimpleLexer:h,registerLangHandler:z,sourceDecorator:o,PR_ATTRIB_NAME:&quot;atn&quot;,PR_ATTRIB_VALUE:&quot;atv&quot;,PR_COMMENT:&quot;com&quot;,PR_DECLARATION:&quot;dec&quot;,PR_KEYWORD:&quot;kwd&quot;,PR_LITERAL:&quot;lit&quot;,PR_NOCODE:&quot;nocode&quot;,PR_PLAIN:&quot;pln&quot;,PR_PUNCTUATION:&quot;pun&quot;,PR_SOURCE:&quot;src&quot;,PR_STRING:&quot;str&quot;,PR_TAG:&quot;tag&quot;,PR_TYPE:&quot;typ&quot;}})();</pre>
</body>
</html>
