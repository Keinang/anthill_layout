<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">tinymce.PluginManager.add(&quot;fullpage&quot;,function(a){function b(){var b=c();a.windowManager.open({title:&quot;Document properties&quot;,data:b,defaults:{type:&quot;textbox&quot;,size:40},body:[{name:&quot;title&quot;,label:&quot;Title&quot;},{name:&quot;keywords&quot;,label:&quot;Keywords&quot;},{name:&quot;description&quot;,label:&quot;Description&quot;},{name:&quot;robots&quot;,label:&quot;Robots&quot;},{name:&quot;author&quot;,label:&quot;Author&quot;},{name:&quot;docencoding&quot;,label:&quot;Encoding&quot;}],onSubmit:function(a){d(tinymce.extend(b,a.data))}})}function c(){function b(a,b){var c=a.attr(b);return c||&quot;&quot;}var c,d,f=e(),g={};return g.fontface=a.getParam(&quot;fullpage_default_fontface&quot;,&quot;&quot;),g.fontsize=a.getParam(&quot;fullpage_default_fontsize&quot;,&quot;&quot;),c=f.firstChild,7==c.type&amp;&amp;(g.xml_pi=!0,d=/encoding=&quot;([^&quot;]+)&quot;/.exec(c.value),d&amp;&amp;(g.docencoding=d[1])),c=f.getAll(&quot;#doctype&quot;)[0],c&amp;&amp;(g.doctype=&quot;&lt;!DOCTYPE&quot;+c.value+&quot;&gt;&quot;),c=f.getAll(&quot;title&quot;)[0],c&amp;&amp;c.firstChild&amp;&amp;(g.title=c.firstChild.value),k(f.getAll(&quot;meta&quot;),function(a){var b,c=a.attr(&quot;name&quot;),d=a.attr(&quot;http-equiv&quot;);c?g[c.toLowerCase()]=a.attr(&quot;content&quot;):&quot;Content-Type&quot;==d&amp;&amp;(b=/charset\s*=\s*(.*)\s*/gi.exec(a.attr(&quot;content&quot;)),b&amp;&amp;(g.docencoding=b[1]))}),c=f.getAll(&quot;html&quot;)[0],c&amp;&amp;(g.langcode=b(c,&quot;lang&quot;)||b(c,&quot;xml:lang&quot;)),g.stylesheets=[],tinymce.each(f.getAll(&quot;link&quot;),function(a){&quot;stylesheet&quot;==a.attr(&quot;rel&quot;)&amp;&amp;g.stylesheets.push(a.attr(&quot;href&quot;))}),c=f.getAll(&quot;body&quot;)[0],c&amp;&amp;(g.langdir=b(c,&quot;dir&quot;),g.style=b(c,&quot;style&quot;),g.visited_color=b(c,&quot;vlink&quot;),g.link_color=b(c,&quot;link&quot;),g.active_color=b(c,&quot;alink&quot;)),g}function d(b){function c(a,b,c){a.attr(b,c?c:void 0)}function d(a){g.firstChild?g.insert(a,g.firstChild):g.append(a)}var f,g,h,j,m,n=a.dom;f=e(),g=f.getAll(&quot;head&quot;)[0],g||(j=f.getAll(&quot;html&quot;)[0],g=new l(&quot;head&quot;,1),j.firstChild?j.insert(g,j.firstChild,!0):j.append(g)),j=f.firstChild,b.xml_pi?(m=&#39;version=&quot;1.0&quot;&#39;,b.docencoding&amp;&amp;(m+=&#39; encoding=&quot;&#39;+b.docencoding+&#39;&quot;&#39;),7!=j.type&amp;&amp;(j=new l(&quot;xml&quot;,7),f.insert(j,f.firstChild,!0)),j.value=m):j&amp;&amp;7==j.type&amp;&amp;j.remove(),j=f.getAll(&quot;#doctype&quot;)[0],b.doctype?(j||(j=new l(&quot;#doctype&quot;,10),b.xml_pi?f.insert(j,f.firstChild):d(j)),j.value=b.doctype.substring(9,b.doctype.length-1)):j&amp;&amp;j.remove(),j=null,k(f.getAll(&quot;meta&quot;),function(a){&quot;Content-Type&quot;==a.attr(&quot;http-equiv&quot;)&amp;&amp;(j=a)}),b.docencoding?(j||(j=new l(&quot;meta&quot;,1),j.attr(&quot;http-equiv&quot;,&quot;Content-Type&quot;),j.shortEnded=!0,d(j)),j.attr(&quot;content&quot;,&quot;text/html; charset=&quot;+b.docencoding)):j&amp;&amp;j.remove(),j=f.getAll(&quot;title&quot;)[0],b.title?(j?j.empty():(j=new l(&quot;title&quot;,1),d(j)),j.append(new l(&quot;#text&quot;,3)).value=b.title):j&amp;&amp;j.remove(),k(&quot;keywords,description,author,copyright,robots&quot;.split(&quot;,&quot;),function(a){var c,e,g=f.getAll(&quot;meta&quot;),h=b[a];for(c=0;c&lt;g.length;c++)if(e=g[c],e.attr(&quot;name&quot;)==a)return void(h?e.attr(&quot;content&quot;,h):e.remove());h&amp;&amp;(j=new l(&quot;meta&quot;,1),j.attr(&quot;name&quot;,a),j.attr(&quot;content&quot;,h),j.shortEnded=!0,d(j))});var o={};tinymce.each(f.getAll(&quot;link&quot;),function(a){&quot;stylesheet&quot;==a.attr(&quot;rel&quot;)&amp;&amp;(o[a.attr(&quot;href&quot;)]=a)}),tinymce.each(b.stylesheets,function(a){o[a]||(j=new l(&quot;link&quot;,1),j.attr({rel:&quot;stylesheet&quot;,text:&quot;text/css&quot;,href:a}),j.shortEnded=!0,d(j)),delete o[a]}),tinymce.each(o,function(a){a.remove()}),j=f.getAll(&quot;body&quot;)[0],j&amp;&amp;(c(j,&quot;dir&quot;,b.langdir),c(j,&quot;style&quot;,b.style),c(j,&quot;vlink&quot;,b.visited_color),c(j,&quot;link&quot;,b.link_color),c(j,&quot;alink&quot;,b.active_color),n.setAttribs(a.getBody(),{style:b.style,dir:b.dir,vLink:b.visited_color,link:b.link_color,aLink:b.active_color})),j=f.getAll(&quot;html&quot;)[0],j&amp;&amp;(c(j,&quot;lang&quot;,b.langcode),c(j,&quot;xml:lang&quot;,b.langcode)),g.firstChild||g.remove(),h=new tinymce.html.Serializer({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:&quot;head,html,body,meta,title,script,link,style&quot;,indent_after:&quot;head,html,body,meta,title,script,link,style&quot;}).serialize(f),i=h.substring(0,h.indexOf(&quot;&lt;/body&gt;&quot;))}function e(){return new tinymce.html.DomParser({validate:!1,root_name:&quot;#document&quot;}).parse(i)}function f(b){function c(a){return a.replace(/&lt;\/?[A-Z]+/g,function(a){return a.toLowerCase()})}var d,f,h,l,m=b.content,n=&quot;&quot;,o=a.dom;if(!b.selection&amp;&amp;!(&quot;raw&quot;==b.format&amp;&amp;i||b.source_view&amp;&amp;a.getParam(&quot;fullpage_hide_in_source_view&quot;))){0!==m.length||b.source_view||(m=tinymce.trim(i)+&quot;\n&quot;+tinymce.trim(m)+&quot;\n&quot;+tinymce.trim(j)),m=m.replace(/&lt;(\/?)BODY/gi,&quot;&lt;$1body&quot;),d=m.indexOf(&quot;&lt;body&quot;),-1!=d?(d=m.indexOf(&quot;&gt;&quot;,d),i=c(m.substring(0,d+1)),f=m.indexOf(&quot;&lt;/body&quot;,d),-1==f&amp;&amp;(f=m.length),b.content=m.substring(d+1,f),j=c(m.substring(f))):(i=g(),j=&quot;\n&lt;/body&gt;\n&lt;/html&gt;&quot;),h=e(),k(h.getAll(&quot;style&quot;),function(a){a.firstChild&amp;&amp;(n+=a.firstChild.value)}),l=h.getAll(&quot;body&quot;)[0],l&amp;&amp;o.setAttribs(a.getBody(),{style:l.attr(&quot;style&quot;)||&quot;&quot;,dir:l.attr(&quot;dir&quot;)||&quot;&quot;,vLink:l.attr(&quot;vlink&quot;)||&quot;&quot;,link:l.attr(&quot;link&quot;)||&quot;&quot;,aLink:l.attr(&quot;alink&quot;)||&quot;&quot;}),o.remove(&quot;fullpage_styles&quot;);var p=a.getDoc().getElementsByTagName(&quot;head&quot;)[0];n&amp;&amp;(o.add(p,&quot;style&quot;,{id:&quot;fullpage_styles&quot;},n),l=o.get(&quot;fullpage_styles&quot;),l.styleSheet&amp;&amp;(l.styleSheet.cssText=n));var q={};tinymce.each(p.getElementsByTagName(&quot;link&quot;),function(a){&quot;stylesheet&quot;==a.rel&amp;&amp;a.getAttribute(&quot;data-mce-fullpage&quot;)&amp;&amp;(q[a.href]=a)}),tinymce.each(h.getAll(&quot;link&quot;),function(a){var b=a.attr(&quot;href&quot;);q[b]||&quot;stylesheet&quot;!=a.attr(&quot;rel&quot;)||o.add(p,&quot;link&quot;,{rel:&quot;stylesheet&quot;,text:&quot;text/css&quot;,href:b,&quot;data-mce-fullpage&quot;:&quot;1&quot;}),delete q[b]}),tinymce.each(q,function(a){a.parentNode.removeChild(a)})}}function g(){var b,c=&quot;&quot;,d=&quot;&quot;;return a.getParam(&quot;fullpage_default_xml_pi&quot;)&amp;&amp;(c+=&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;&#39;+a.getParam(&quot;fullpage_default_encoding&quot;,&quot;ISO-8859-1&quot;)+&#39;&quot; ?&gt;\n&#39;),c+=a.getParam(&quot;fullpage_default_doctype&quot;,&quot;&lt;!DOCTYPE html&gt;&quot;),c+=&quot;\n&lt;html&gt;\n&lt;head&gt;\n&quot;,(b=a.getParam(&quot;fullpage_default_title&quot;))&amp;&amp;(c+=&quot;&lt;title&gt;&quot;+b+&quot;&lt;/title&gt;\n&quot;),(b=a.getParam(&quot;fullpage_default_encoding&quot;))&amp;&amp;(c+=&#39;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=&#39;+b+&#39;&quot; /&gt;\n&#39;),(b=a.getParam(&quot;fullpage_default_font_family&quot;))&amp;&amp;(d+=&quot;font-family: &quot;+b+&quot;;&quot;),(b=a.getParam(&quot;fullpage_default_font_size&quot;))&amp;&amp;(d+=&quot;font-size: &quot;+b+&quot;;&quot;),(b=a.getParam(&quot;fullpage_default_text_color&quot;))&amp;&amp;(d+=&quot;color: &quot;+b+&quot;;&quot;),c+=&quot;&lt;/head&gt;\n&lt;body&quot;+(d?&#39; style=&quot;&#39;+d+&#39;&quot;&#39;:&quot;&quot;)+&quot;&gt;\n&quot;}function h(b){b.selection||b.source_view&amp;&amp;a.getParam(&quot;fullpage_hide_in_source_view&quot;)||(b.content=tinymce.trim(i)+&quot;\n&quot;+tinymce.trim(b.content)+&quot;\n&quot;+tinymce.trim(j))}var i,j,k=tinymce.each,l=tinymce.html.Node;a.addCommand(&quot;mceFullPageProperties&quot;,b),a.addButton(&quot;fullpage&quot;,{title:&quot;Document properties&quot;,cmd:&quot;mceFullPageProperties&quot;}),a.addMenuItem(&quot;fullpage&quot;,{text:&quot;Document properties&quot;,cmd:&quot;mceFullPageProperties&quot;,context:&quot;file&quot;}),a.on(&quot;BeforeSetContent&quot;,f),a.on(&quot;GetContent&quot;,h)});</pre>
</body>
</html>
