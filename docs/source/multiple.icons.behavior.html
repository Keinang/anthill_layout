<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define([], function defineMultipleIconsBehavior() {
    var MultipleIconsBehavior = function MultipleIconsBehavior() {
        this.iconsDB = [
            {
                &quot;class&quot;: &quot;note-icon&quot;,
                &quot;title&quot;: &quot;Make a Note&quot;
            }
                ];

        this.iconsContainer = $(&#39;.icons-container&#39;);
        this.makeNote = $(&#39;.note-icon&#39;);
        this.appContainer = $(&#39;.app&#39;);

        this.initialize();
    }

    return MultipleIconsBehavior.extend(&#39;MultipleIconsBehavior&#39;, {

        initialize: function initialize() {
            for (var i = 0; i &lt; this.iconsDB.length; i++) {
                var currentIcon = &#39;&lt;li&gt;&lt;a class=&quot;&#39; + this.iconsDB[i].class + &#39;&quot; title=&quot;&#39; + this.iconsDB[i].title + &#39;&quot; /&gt;&lt;/li&gt;&#39;;
                this.iconsContainer.append(currentIcon);
            }

            $(document).on(&#39;click&#39;, &#39;.note-icon&#39;, function () {
                var notesAmount = $(&#39;.note-container&#39;).length;
                if (notesAmount &lt; 1) {
                    var noteVisual = &#39;&lt;div class=&quot;note-container&quot;&gt;&lt;a class=&quot;close-note&quot;&gt;&lt;/a&gt;&lt;div class=&quot;content&quot; onkeypress=&quot;return(this.innerText.length &lt;= 130)&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39;;
                    this.appContainer.prepend(noteVisual);
                }
            }.bind(this));

            $(document).on(&#39;click&#39;, &#39;.close-note&#39;, function () {
                var index = $(this).parent().index();
                $(this).parent(&#39;div&#39;).remove();
            });

            $(document).on(&#39;click&#39;, &#39;.note-container .content&#39;, function () {
                $(this).attr(&#39;contenteditable&#39;, &#39;true&#39;).addClass(&#39;editable&#39;);
            });

            $(document).on(&#39;mouseleave&#39;, &#39;.note-container .content&#39;, function () {
                if ($(this).hasClass(&#39;editable&#39;)) {
                    $(this).attr(&#39;contenteditable&#39;, &#39;false&#39;).removeClass(&#39;editable&#39;);
                }
            });

        }
    });
});</pre>
</body>
</html>
