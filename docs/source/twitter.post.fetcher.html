<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='global-property-twitterFetcher'>/*********************************************************************
</span> *  #### Twitter Post Fetcher v10.0 ####
 *  Coded by Jason Mayes 2013. A present to all the developers out there.
 *  www.jasonmayes.com
 *  Please keep this disclaimer with my code if you use it. Thanks. :-)
 *  Got feedback or questions, ask here:
 *  http://www.jasonmayes.com/projects/twitterApi/
 *  Updates will be posted to this site.
 *********************************************************************/
var twitterFetcher=function(){function x(e){return e.replace(/&lt;b[^&gt;]*&gt;(.*?)&lt;\/b&gt;/gi,function(c,e){return e}).replace(/class=&quot;.*?&quot;|data-query-source=&quot;.*?&quot;|dir=&quot;.*?&quot;|rel=&quot;.*?&quot;/gi,&quot;&quot;)}function p(e,c){for(var g=[],f=RegExp(&quot;(^| )&quot;+c+&quot;( |$)&quot;),a=e.getElementsByTagName(&quot;*&quot;),h=0,d=a.length;h&lt;d;h++)f.test(a[h].className)&amp;&amp;g.push(a[h]);return g}var y=&quot;&quot;,l=20,s=!0,k=[],t=!1,q=!0,r=!0,u=null,v=!0,z=!0,w=null,A=!0;return{fetch:function(e,c,g,f,a,h,d,b,m,n){void 0===g&amp;&amp;(g=20);void 0===f&amp;&amp;(s=!0);void 0===a&amp;&amp;(a=
    !0);void 0===h&amp;&amp;(h=!0);void 0===d&amp;&amp;(d=&quot;default&quot;);void 0===b&amp;&amp;(b=!0);void 0===m&amp;&amp;(m=null);void 0===n&amp;&amp;(n=!0);t?k.push({id:e,domId:c,maxTweets:g,enableLinks:f,showUser:a,showTime:h,dateFunction:d,showRt:b,customCallback:m,showInteraction:n}):(t=!0,y=c,l=g,s=f,r=a,q=h,z=b,u=d,w=m,A=n,c=document.createElement(&quot;script&quot;),c.type=&quot;text/javascript&quot;,c.src=&quot;//cdn.syndication.twimg.com/widgets/timelines/&quot;+e+&quot;?&amp;lang=en&amp;callback=twitterFetcher.callback&amp;suppress_response_codes=true&amp;rnd=&quot;+Math.random(),document.getElementsByTagName(&quot;head&quot;)[0].appendChild(c))},
    callback:function(e){var c=document.createElement(&quot;div&quot;);c.innerHTML=e.body;&quot;undefined&quot;===typeof c.getElementsByClassName&amp;&amp;(v=!1);e=[];var g=[],f=[],a=[],h=[],d=0;if(v)for(c=c.getElementsByClassName(&quot;tweet&quot;);d&lt;c.length;){0&lt;c[d].getElementsByClassName(&quot;retweet-credit&quot;).length?a.push(!0):a.push(!1);if(!a[d]||a[d]&amp;&amp;z)e.push(c[d].getElementsByClassName(&quot;e-entry-title&quot;)[0]),h.push(c[d].getAttribute(&quot;data-tweet-id&quot;)),g.push(c[d].getElementsByClassName(&quot;p-author&quot;)[0]),f.push(c[d].getElementsByClassName(&quot;dt-updated&quot;)[0]);
        d++}else for(c=p(c,&quot;tweet&quot;);d&lt;c.length;)e.push(p(c[d],&quot;e-entry-title&quot;)[0]),h.push(c[d].getAttribute(&quot;data-tweet-id&quot;)),g.push(p(c[d],&quot;p-author&quot;)[0]),f.push(p(c[d],&quot;dt-updated&quot;)[0]),0&lt;p(c[d],&quot;retweet-credit&quot;).length?a.push(!0):a.push(!1),d++;e.length&gt;l&amp;&amp;(e.splice(l,e.length-l),g.splice(l,g.length-l),f.splice(l,f.length-l),a.splice(l,a.length-l));c=[];d=e.length;for(a=0;a&lt;d;){if(&quot;string&quot;!==typeof u){var b=new Date(f[a].getAttribute(&quot;datetime&quot;).replace(/-/g,&quot;/&quot;).replace(&quot;T&quot;,&quot; &quot;).split(&quot;+&quot;)[0]),b=u(b);
        f[a].setAttribute(&quot;aria-label&quot;,b);if(e[a].innerText)if(v)f[a].innerText=b;else{var m=document.createElement(&quot;p&quot;),n=document.createTextNode(b);m.appendChild(n);m.setAttribute(&quot;aria-label&quot;,b);f[a]=m}else f[a].textContent=b}b=&quot;&quot;;s?(r&amp;&amp;(b+=&#39;&lt;div class=&quot;user&quot;&gt;&#39;+x(g[a].innerHTML)+&quot;&lt;/div&gt;&quot;),b+=&#39;&lt;p class=&quot;tweet&quot;&gt;&#39;+x(e[a].innerHTML)+&quot;&lt;/p&gt;&quot;,q&amp;&amp;(b+=&#39;&lt;p class=&quot;timePosted&quot;&gt;&#39;+f[a].getAttribute(&quot;aria-label&quot;)+&quot;&lt;/p&gt;&quot;)):e[a].innerText?(r&amp;&amp;(b+=&#39;&lt;p class=&quot;user&quot;&gt;&#39;+g[a].innerText+&quot;&lt;/p&gt;&quot;),b+=&#39;&lt;p class=&quot;tweet&quot;&gt;&#39;+e[a].innerText+
        &quot;&lt;/p&gt;&quot;,q&amp;&amp;(b+=&#39;&lt;p class=&quot;timePosted&quot;&gt;&#39;+f[a].innerText+&quot;&lt;/p&gt;&quot;)):(r&amp;&amp;(b+=&#39;&lt;p class=&quot;user&quot;&gt;&#39;+g[a].textContent+&quot;&lt;/p&gt;&quot;),b+=&#39;&lt;p class=&quot;tweet&quot;&gt;&#39;+e[a].textContent+&quot;&lt;/p&gt;&quot;,q&amp;&amp;(b+=&#39;&lt;p class=&quot;timePosted&quot;&gt;&#39;+f[a].textContent+&quot;&lt;/p&gt;&quot;));A&amp;&amp;(b+=&#39;&lt;p class=&quot;interact&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?in_reply_to=&#39;+h[a]+&#39;&quot; class=&quot;twitter_reply_icon&quot;&gt;Reply&lt;/a&gt;&lt;a href=&quot;https://twitter.com/intent/retweet?tweet_id=&#39;+h[a]+&#39;&quot; class=&quot;twitter_retweet_icon&quot;&gt;Retweet&lt;/a&gt;&lt;a href=&quot;https://twitter.com/intent/favorite?tweet_id=&#39;+
        h[a]+&#39;&quot; class=&quot;twitter_fav_icon&quot;&gt;Favorite&lt;/a&gt;&lt;/p&gt;&#39;),b+=&#39;&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;&#39;;c.push(b);a++}if(null==w){e=c.length;g=0;f=document.getElementById(y);for(h=&quot;&lt;ul&gt;&quot;;g&lt;e;)h+=&quot;&lt;li&gt;&quot;+c[g]+&quot;&lt;/li&gt;&quot;,g++;f.innerHTML=h+&quot;&lt;/ul&gt;&quot;}else w(c);t=!1;0&lt;k.length&amp;&amp;(twitterFetcher.fetch(k[0].id,k[0].domId,k[0].maxTweets,k[0].enableLinks,k[0].showUser,k[0].showTime,k[0].dateFunction,k[0].showRt,k[0].customCallback,k[0].showInteraction),k.splice(0,1))}}}();

/*
 * ### HOW TO CREATE A VALID ID TO USE: ###
 * Go to www.twitter.com and sign in as normal, go to your settings page.
 * Go to &quot;Widgets&quot; on the left hand side.
 * Create a new widget for what you need eg &quot;user timeline&quot; or &quot;search&quot; etc.
 * Feel free to check &quot;exclude replies&quot; if you dont want replies in results.
 * Now go back to settings page, and then go back to widgets page, you should
 * see the widget you just created. Click edit.
 * Now look at the URL in your web browser, you will see a long number like this:
 * 345735908357048478
 * Use this as your ID below instead!
 */

<span id='global-method-'>/**
</span> * How to use fetch function:
 * @param {string} Your Twitter widget ID.
 * @param {string} The ID of the DOM element you want to write results to.
 * @param {int} Optional - the maximum number of tweets you want returned. Must
 *     be a number between 1 and 20.
 * @param {boolean} Optional - set true if you want urls and hash
 tags to be hyperlinked!
 * @param {boolean} Optional - Set false if you dont want user photo /
 *     name for tweet to show.
 * @param {boolean} Optional - Set false if you dont want time of tweet
 *     to show.
 * @param {function/string} Optional - A function you can specify to format
 *     tweet date/time however you like. This function takes a JavaScript date
 *     as a parameter and returns a String representation of that date.
 *     Alternatively you may specify the string &#39;default&#39; to leave it with
 *     Twitter&#39;s default renderings.
 * @param {boolean} Optional - Show retweets or not. Set false to not show.
 * @param {function/string} Optional - A function to call when data is ready. It
 *     also passes the data to this function should you wish to manipulate it
 *     yourself before outputting. If you specify this parameter you  must
 *     output data yourself!
 * @param {boolean} Optional - Show links for reply, retweet, favourite. Set false to not show.
 */

// ##### Simple example 1 #####
// A simple example to get my latest tweet and write to a HTML element with
// id &quot;tweets&quot;. Also automatically hyperlinks URLS and user mentions and
// hashtags.
// twitterFetcher.fetch(&#39;345170787868762112&#39;, &#39;example1&#39;, 1, true);


// ##### Simple example 2 #####
// A simple example to get my latest 5 of my favourite tweets and write to a HTML
// element with id &quot;talk&quot;. Also automatically hyperlinks URLS and user mentions and
// hashtags but does not display time of post.
// twitterFetcher.fetch(&#39;347099293930377217&#39;, &#39;example2&#39;, 5, true, true, false);


// ##### Advanced example #####
// An advance example to get latest 5 posts using hashtag #API and write to a
// HTML element with id &quot;tweets2&quot; without showing user details and using a
// custom format to display the date/time of the post, and does not show
// retweets.
// twitterFetcher.fetch(&#39;345690956013633536&#39;, &#39;example3&#39;, 3, true, false, true, dateFormatter, false);

// For advanced example which allows you to customize how tweet time is
// formatted you simply define a function which takes a JavaScript date as a
// parameter and returns a string!
// See http://www.w3schools.com/jsref/jsref_obj_date.asp for properties
// of a Date object.
// function dateFormatter(date) {
//    return date.toTimeString();
// }


// ##### Advanced example 2 #####
// Similar as previous, except this time we pass a custom function to render the
// tweets ourself! Useful if you need to know exactly when data has returned or
// if you need full control over the output.
// twitterFetcher.fetch(&#39;345690956013633536&#39;, &#39;example4&#39;, 3, true, true, true, &#39;&#39;, false, handleTweets, false);

//function handleTweets(tweets){
//    var x = tweets.length;
//    var n = 0;
//    var element = document.getElementById(&#39;example4&#39;);
//    var html = &#39;&lt;ul&gt;&#39;;
//    while(n &lt; x) {
//        html += &#39;&lt;li&gt;&#39; + tweets[n] + &#39;&lt;/li&gt;&#39;;
//        n++;
//    }
//    html += &#39;&lt;/ul&gt;&#39;;
//    element.innerHTML = html;
//}</pre>
</body>
</html>
