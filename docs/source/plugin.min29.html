<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">!function(a,b){&quot;use strict&quot;;function c(a,b){for(var c,d=[],f=0;f&lt;a.length;++f){if(c=g[a[f]]||e(a[f]),!c)throw&quot;module definition dependecy not found: &quot;+a[f];d.push(c)}b.apply(null,d)}function d(a,d,e){if(&quot;string&quot;!=typeof a)throw&quot;invalid module definition, module id must be defined and be a string&quot;;if(d===b)throw&quot;invalid module definition, dependencies must be specified&quot;;if(e===b)throw&quot;invalid module definition, definition function must be specified&quot;;c(d,function(){g[a]=e.apply(null,arguments)})}function e(b){for(var c=a,d=b.split(/[.\/]/),e=0;e&lt;d.length;++e){if(!c[d[e]])return;c=c[d[e]]}return c}function f(c){for(var d=0;d&lt;c.length;d++){for(var e=a,f=c[d],h=f.split(/[.\/]/),i=0;i&lt;h.length-1;++i)e[h[i]]===b&amp;&amp;(e[h[i]]={}),e=e[h[i]];e[h[h.length-1]]=g[f]}}var g={};d(&quot;tinymce/pasteplugin/Utils&quot;,[&quot;tinymce/util/Tools&quot;,&quot;tinymce/html/DomParser&quot;,&quot;tinymce/html/Schema&quot;],function(a,b,c){function d(b,c){return a.each(c,function(a){b=a.constructor==RegExp?b.replace(a,&quot;&quot;):b.replace(a[0],a[1])}),b}function e(e){function f(a){var b=a.name,c=a;if(&quot;br&quot;===b)return void(i+=&quot;\n&quot;);if(j[b]&amp;&amp;(i+=&quot; &quot;),k[b])return void(i+=&quot; &quot;);if(3==a.type&amp;&amp;(i+=a.value),!a.shortEnded&amp;&amp;(a=a.firstChild))do f(a);while(a=a.next);l[b]&amp;&amp;c.next&amp;&amp;(i+=&quot;\n&quot;,&quot;p&quot;==b&amp;&amp;(i+=&quot;\n&quot;))}var g=new c,h=new b({},g),i=&quot;&quot;,j=g.getShortEndedElements(),k=a.makeMap(&quot;script noscript style textarea video audio iframe object&quot;,&quot; &quot;),l=g.getBlockElements();return e=d(e,[/&lt;!\[[^\]]+\]&gt;/g]),f(h.parse(e)),i}function f(a){function b(a,b,c){return b||c?&quot;\xa0&quot;:&quot; &quot;}return a=d(a,[/^[\s\S]*&lt;body[^&gt;]*&gt;\s*|\s*&lt;\/body[^&gt;]*&gt;[\s\S]*$/g,/&lt;!--StartFragment--&gt;|&lt;!--EndFragment--&gt;/g,[/( ?)&lt;span class=&quot;Apple-converted-space&quot;&gt;\u00a0&lt;\/span&gt;( ?)/g,b],/&lt;br&gt;$/i])}return{filter:d,innerText:e,trimHtml:f}}),d(&quot;tinymce/pasteplugin/Clipboard&quot;,[&quot;tinymce/Env&quot;,&quot;tinymce/util/VK&quot;,&quot;tinymce/pasteplugin/Utils&quot;],function(a,b,c){return function(d){function e(a){var b,c=d.dom;if(b=d.fire(&quot;BeforePastePreProcess&quot;,{content:a}),b=d.fire(&quot;PastePreProcess&quot;,b),a=b.content,!b.isDefaultPrevented()){if(d.hasEventListeners(&quot;PastePostProcess&quot;)&amp;&amp;!b.isDefaultPrevented()){var e=c.add(d.getBody(),&quot;div&quot;,{style:&quot;display:none&quot;},a);b=d.fire(&quot;PastePostProcess&quot;,{node:e}),c.remove(e),a=b.node.innerHTML}b.isDefaultPrevented()||d.insertContent(a,{merge:d.settings.paste_merge_formats!==!1})}}function f(a){a=d.dom.encode(a).replace(/\r\n/g,&quot;\n&quot;);var b,f=d.dom.getParent(d.selection.getStart(),d.dom.isBlock),g=d.settings.forced_root_block;g&amp;&amp;(b=d.dom.createHTML(g,d.settings.forced_root_block_attrs),b=b.substr(0,b.length-3)+&quot;&gt;&quot;),f&amp;&amp;/^(PRE|DIV)$/.test(f.nodeName)||!g?a=c.filter(a,[[/\n/g,&quot;&lt;br&gt;&quot;]]):(a=c.filter(a,[[/\n\n/g,&quot;&lt;/p&gt;&quot;+b],[/^(.*&lt;\/p&gt;)(&lt;p&gt;)$/,b+&quot;$1&quot;],[/\n/g,&quot;&lt;br /&gt;&quot;]]),-1!=a.indexOf(&quot;&lt;p&gt;&quot;)&amp;&amp;(a=b+a)),e(a)}function g(){function b(a){var b,c,d,f=a.startContainer;if(b=a.getClientRects(),b.length)return b[0];if(a.collapsed&amp;&amp;1==f.nodeType){for(d=f.childNodes[s.startOffset];d&amp;&amp;3==d.nodeType&amp;&amp;!d.data.length;)d=d.nextSibling;if(d)return&quot;BR&quot;==d.tagName&amp;&amp;(c=e.doc.createTextNode(&quot;\ufeff&quot;),d.parentNode.insertBefore(c,d),a=e.createRng(),a.setStartBefore(c),a.setEndAfter(c),b=a.getClientRects(),e.remove(c)),b.length?b[0]:void 0}}var c,e=d.dom,f=d.getBody(),g=d.dom.getViewPort(d.getWin()),h=g.y,i=20;if(s=d.selection.getRng(),d.inline&amp;&amp;(c=d.selection.getScrollContainer(),c&amp;&amp;c.scrollTop&gt;0&amp;&amp;(h=c.scrollTop)),s.getClientRects){var j=b(s);if(j)i=h+(j.top-e.getPos(f).y);else{i=h;var k=s.startContainer;k&amp;&amp;(3==k.nodeType&amp;&amp;k.parentNode!=f&amp;&amp;(k=k.parentNode),1==k.nodeType&amp;&amp;(i=e.getPos(k,c||f).y))}}r=e.add(d.getBody(),&quot;div&quot;,{id:&quot;mcepastebin&quot;,contentEditable:!0,&quot;data-mce-bogus&quot;:&quot;all&quot;,style:&quot;position: absolute; top: &quot;+i+&quot;px;width: 10px; height: 10px; overflow: hidden; opacity: 0&quot;},x),(a.ie||a.gecko)&amp;&amp;e.setStyle(r,&quot;left&quot;,&quot;rtl&quot;==e.getStyle(f,&quot;direction&quot;,!0)?65535:-65535),e.bind(r,&quot;beforedeactivate focusin focusout&quot;,function(a){a.stopPropagation()}),r.focus(),d.selection.select(r,!0)}function h(){if(r){for(var a;a=d.dom.get(&quot;mcepastebin&quot;);)d.dom.remove(a),d.dom.unbind(a);s&amp;&amp;d.selection.setRng(s)}r=s=null}function i(){var a,b,c,e,f=&quot;&quot;;for(a=d.dom.select(&quot;div[id=mcepastebin]&quot;),b=0;b&lt;a.length;b++)c=a[b],c.firstChild&amp;&amp;&quot;mcepastebin&quot;==c.firstChild.id&amp;&amp;(c=c.firstChild),e=c.innerHTML,f!=x&amp;&amp;(f+=e);return f}function j(a){var b={};if(a){if(a.getData){var c=a.getData(&quot;Text&quot;);c&amp;&amp;c.length&gt;0&amp;&amp;(b[&quot;text/plain&quot;]=c)}if(a.types)for(var d=0;d&lt;a.types.length;d++){var e=a.types[d];b[e]=a.getData(e)}}return b}function k(a){return j(a.clipboardData||d.getDoc().dataTransfer)}function l(a,b){function c(c){function f(){b&amp;&amp;(d.selection.setRng(b),b=null),e(&#39;&lt;img src=&quot;&#39;+i.result+&#39;&quot;&gt;&#39;)}var g,h,i;if(c)for(g=0;g&lt;c.length;g++)if(h=c[g],/^image\/(jpeg|png|gif)$/.test(h.type))return i=new FileReader,i.onload=f,i.readAsDataURL(h.getAsFile?h.getAsFile():h),a.preventDefault(),!0}var f=a.clipboardData||a.dataTransfer;return d.settings.paste_data_images&amp;&amp;f?c(f.items)||c(f.files):void 0}function m(a){var b=a.clipboardData;return-1!=navigator.userAgent.indexOf(&quot;Android&quot;)&amp;&amp;b&amp;&amp;b.items&amp;&amp;0===b.items.length}function n(a){var b,c,e=d.getDoc();if(e.caretPositionFromPoint)c=e.caretPositionFromPoint(a.clientX,a.clientY),b=e.createRange(),b.setStart(c.offsetNode,c.offset),b.collapse(!0);else if(e.caretRangeFromPoint)b=e.caretRangeFromPoint(a.clientX,a.clientY);else if(e.body.createTextRange){b=e.body.createTextRange();try{b.moveToPoint(a.clientX,a.clientY),b.collapse(!0)}catch(f){b.collapse(a.clientY&lt;e.body.clientHeight)}}return b}function o(a,b){return b in a&amp;&amp;a[b].length&gt;0}function p(a){return b.metaKeyPressed(a)&amp;&amp;86==a.keyCode||a.shiftKey&amp;&amp;45==a.keyCode}function q(){d.on(&quot;keydown&quot;,function(b){function c(a){p(a)&amp;&amp;!a.isDefaultPrevented()&amp;&amp;h()}if(p(b)&amp;&amp;!b.isDefaultPrevented()){if(t=b.shiftKey&amp;&amp;86==b.keyCode,t&amp;&amp;a.webkit&amp;&amp;-1!=navigator.userAgent.indexOf(&quot;Version/&quot;))return;if(b.stopImmediatePropagation(),v=(new Date).getTime(),a.ie&amp;&amp;t)return b.preventDefault(),void d.fire(&quot;paste&quot;,{ieFake:!0});h(),g(),d.once(&quot;keyup&quot;,c),d.once(&quot;paste&quot;,function(){d.off(&quot;keyup&quot;,c)})}}),d.on(&quot;paste&quot;,function(b){var j=(new Date).getTime(),n=k(b),p=(new Date).getTime()-j,q=(new Date).getTime()-v-p&lt;1e3,s=&quot;text&quot;==u.pasteFormat||t;return t=!1,b.isDefaultPrevented()||m(b)?void h():l(b)?void h():(q||b.preventDefault(),!a.ie||q&amp;&amp;!b.ieFake||(g(),d.dom.bind(r,&quot;paste&quot;,function(a){a.stopPropagation()}),d.getDoc().execCommand(&quot;Paste&quot;,!1,null),n[&quot;text/html&quot;]=i()),void setTimeout(function(){var a;return o(n,&quot;text/html&quot;)?a=n[&quot;text/html&quot;]:(a=i(),a==x&amp;&amp;(s=!0)),a=c.trimHtml(a),r&amp;&amp;r.firstChild&amp;&amp;&quot;mcepastebin&quot;===r.firstChild.id&amp;&amp;(s=!0),h(),a.length||(s=!0),s&amp;&amp;(a=o(n,&quot;text/plain&quot;)&amp;&amp;-1==a.indexOf(&quot;&lt;/p&gt;&quot;)?n[&quot;text/plain&quot;]:c.innerText(a)),a==x?void(q||d.windowManager.alert(&quot;Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.&quot;)):void(s?f(a):e(a))},0))}),d.on(&quot;dragstart dragend&quot;,function(a){w=&quot;dragstart&quot;==a.type}),d.on(&quot;drop&quot;,function(a){var b=n(a);if(!a.isDefaultPrevented()&amp;&amp;!w&amp;&amp;!l(a,b)&amp;&amp;b&amp;&amp;d.settings.paste_filter_drop!==!1){var g=j(a.dataTransfer),h=g[&quot;mce-internal&quot;]||g[&quot;text/html&quot;]||g[&quot;text/plain&quot;];h&amp;&amp;(a.preventDefault(),d.undoManager.transact(function(){g[&quot;mce-internal&quot;]&amp;&amp;d.execCommand(&quot;Delete&quot;),d.selection.setRng(b),h=c.trimHtml(h),g[&quot;text/html&quot;]?e(h):f(h)}))}}),d.on(&quot;dragover dragend&quot;,function(a){var b,c=a.dataTransfer;if(d.settings.paste_data_images&amp;&amp;c)for(b=0;b&lt;c.types.length;b++)if(&quot;Files&quot;==c.types[b])return a.preventDefault(),!1})}var r,s,t,u=this,v=0,w=!1,x=&quot;%MCEPASTEBIN%&quot;;u.pasteHtml=e,u.pasteText=f,d.on(&quot;preInit&quot;,function(){q(),d.parser.addNodeFilter(&quot;img&quot;,function(b){if(!d.settings.paste_data_images)for(var c=b.length;c--;){var e=b[c].attributes.map.src;e&amp;&amp;/^(data:image|webkit\-fake\-url)/.test(e)&amp;&amp;(b[c].attr(&quot;data-mce-object&quot;)||e===a.transparentSrc||b[c].remove())}})})}}),d(&quot;tinymce/pasteplugin/WordFilter&quot;,[&quot;tinymce/util/Tools&quot;,&quot;tinymce/html/DomParser&quot;,&quot;tinymce/html/Schema&quot;,&quot;tinymce/html/Serializer&quot;,&quot;tinymce/html/Node&quot;,&quot;tinymce/pasteplugin/Utils&quot;],function(a,b,c,d,e,f){function g(a){return/&lt;font face=&quot;Times New Roman&quot;|class=&quot;?Mso|style=&quot;[^&quot;]*\bmso-|style=&#39;[^&#39;&#39;]*\bmso-|w:WordDocument/i.test(a)||/class=&quot;OutlineElement/.test(a)||/id=&quot;?docs\-internal\-guid\-/.test(a)}function h(b){var c,d;return d=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],b=b.replace(/^[\u00a0 ]+/,&quot;&quot;),a.each(d,function(a){return a.test(b)?(c=!0,!1):void 0}),c}function i(a){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u00d8\u25CF]\s*/.test(a)}function j(j){var k=j.settings;j.on(&quot;BeforePastePreProcess&quot;,function(l){function m(a){function b(a){var c=&quot;&quot;;if(3===a.type)return a.value;if(a=a.firstChild)do c+=b(a);while(a=a.next);return c}function c(a,b){if(3===a.type&amp;&amp;b.test(a.value))return a.value=a.value.replace(b,&quot;&quot;),!1;if(a=a.firstChild)do if(!c(a,b))return!1;while(a=a.next);return!0}function d(a){if(a._listIgnore)return void a.remove();if(a=a.firstChild)do d(a);while(a=a.next)}function f(a,b,f){var h=a._listLevel||k;h!=k&amp;&amp;(k&gt;h?g&amp;&amp;(g=g.parent.parent):(j=g,g=null)),g&amp;&amp;g.name==b?g.append(a):(j=j||g,g=new e(b,1),f&gt;1&amp;&amp;g.attr(&quot;start&quot;,&quot;&quot;+f),a.wrap(g)),a.name=&quot;li&quot;,h&gt;k&amp;&amp;j&amp;&amp;j.lastChild.append(g),k=h,d(a),c(a,/^\u00a0+/),c(a,/^\s*([\u2022\u00b7\u00a7\u00d8\u25CF]|\w+\.)/),c(a,/^\u00a0+/)}for(var g,j,k=1,l=[],m=a.firstChild;&quot;undefined&quot;!=typeof m&amp;&amp;null!==m;)if(l.push(m),m=m.walk(),null!==m)for(;&quot;undefined&quot;!=typeof m&amp;&amp;m.parent!==a;)m=m.walk();for(var n=0;n&lt;l.length;n++)if(a=l[n],&quot;p&quot;==a.name&amp;&amp;a.firstChild){var o=b(a);if(i(o)){f(a,&quot;ul&quot;);continue}if(h(o)){var p=/([0-9]+)\./.exec(o),q=1;p&amp;&amp;(q=parseInt(p[1],10)),f(a,&quot;ol&quot;,q);continue}if(a._listLevel){f(a,&quot;ul&quot;,1);continue}g=null}else j=g,g=null}function n(b,c){var d,f={},g=j.dom.parseStyle(c);return a.each(g,function(a,e){switch(e){case&quot;mso-list&quot;:d=/\w+ \w+([0-9]+)/i.exec(c),d&amp;&amp;(b._listLevel=parseInt(d[1],10)),/Ignore/i.test(a)&amp;&amp;b.firstChild&amp;&amp;(b._listIgnore=!0,b.firstChild._listIgnore=!0);break;case&quot;horiz-align&quot;:e=&quot;text-align&quot;;break;case&quot;vert-align&quot;:e=&quot;vertical-align&quot;;break;case&quot;font-color&quot;:case&quot;mso-foreground&quot;:e=&quot;color&quot;;break;case&quot;mso-background&quot;:case&quot;mso-highlight&quot;:e=&quot;background&quot;;break;case&quot;font-weight&quot;:case&quot;font-style&quot;:return void(&quot;normal&quot;!=a&amp;&amp;(f[e]=a));case&quot;mso-element&quot;:if(/^(comment|comment-list)$/i.test(a))return void b.remove()}return 0===e.indexOf(&quot;mso-comment&quot;)?void b.remove():void(0!==e.indexOf(&quot;mso-&quot;)&amp;&amp;(&quot;all&quot;==o||p&amp;&amp;p[e])&amp;&amp;(f[e]=a))}),/(bold)/i.test(f[&quot;font-weight&quot;])&amp;&amp;(delete f[&quot;font-weight&quot;],b.wrap(new e(&quot;b&quot;,1))),/(italic)/i.test(f[&quot;font-style&quot;])&amp;&amp;(delete f[&quot;font-style&quot;],b.wrap(new e(&quot;i&quot;,1))),f=j.dom.serializeStyle(f,b.name),f?f:null}var o,p,q=l.content;if(o=k.paste_retain_style_properties,o&amp;&amp;(p=a.makeMap(o.split(/[, ]/))),k.paste_enable_default_filters!==!1&amp;&amp;g(l.content)){l.wordContent=!0,q=f.filter(q,[/&lt;!--[\s\S]+?--&gt;/gi,/&lt;(!|script[^&gt;]*&gt;.*?&lt;\/script(?=[&gt;\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/&gt;]))[^&gt;]*&gt;/gi,[/&lt;(\/?)s&gt;/gi,&quot;&lt;$1strike&gt;&quot;],[/&amp;nbsp;/gi,&quot;\xa0&quot;],[/&lt;span\s+style\s*=\s*&quot;\s*mso-spacerun\s*:\s*yes\s*;?\s*&quot;\s*&gt;([\s\u00a0]*)&lt;\/span&gt;/gi,function(a,b){return b.length&gt;0?b.replace(/./,&quot; &quot;).slice(Math.floor(b.length/2)).split(&quot;&quot;).join(&quot;\xa0&quot;):&quot;&quot;}]]);var r=k.paste_word_valid_elements;r||(r=&quot;-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody&quot;);var s=new c({valid_elements:r,valid_children:&quot;-li[p]&quot;});a.each(s.elements,function(a){a.attributes[&quot;class&quot;]||(a.attributes[&quot;class&quot;]={},a.attributesOrder.push(&quot;class&quot;)),a.attributes.style||(a.attributes.style={},a.attributesOrder.push(&quot;style&quot;))});var t=new b({},s);t.addAttributeFilter(&quot;style&quot;,function(a){for(var b,c=a.length;c--;)b=a[c],b.attr(&quot;style&quot;,n(b,b.attr(&quot;style&quot;))),&quot;span&quot;==b.name&amp;&amp;b.parent&amp;&amp;!b.attributes.length&amp;&amp;b.unwrap()}),t.addAttributeFilter(&quot;class&quot;,function(a){for(var b,c,d=a.length;d--;)b=a[d],c=b.attr(&quot;class&quot;),/^(MsoCommentReference|MsoCommentText|msoDel|MsoCaption)$/i.test(c)&amp;&amp;b.remove(),b.attr(&quot;class&quot;,null)}),t.addNodeFilter(&quot;del&quot;,function(a){for(var b=a.length;b--;)a[b].remove()}),t.addNodeFilter(&quot;a&quot;,function(a){for(var b,c,d,e=a.length;e--;)if(b=a[e],c=b.attr(&quot;href&quot;),d=b.attr(&quot;name&quot;),c&amp;&amp;-1!=c.indexOf(&quot;#_msocom_&quot;))b.remove();else if(c&amp;&amp;0===c.indexOf(&quot;file://&quot;)&amp;&amp;(c=c.split(&quot;#&quot;)[1],c&amp;&amp;(c=&quot;#&quot;+c)),c||d){if(d&amp;&amp;!/^_?(?:toc|edn|ftn)/i.test(d)){b.unwrap();continue}b.attr({href:c,name:d})}else b.unwrap()});var u=t.parse(q);k.paste_convert_word_fake_lists!==!1&amp;&amp;m(u),l.content=new d({},s).serialize(u)}})}return j.isWordContent=g,j}),d(&quot;tinymce/pasteplugin/Quirks&quot;,[&quot;tinymce/Env&quot;,&quot;tinymce/util/Tools&quot;,&quot;tinymce/pasteplugin/WordFilter&quot;,&quot;tinymce/pasteplugin/Utils&quot;],function(a,b,c,d){return function(e){function f(a){e.on(&quot;BeforePastePreProcess&quot;,function(b){b.content=a(b.content)})}function g(a){if(!c.isWordContent(a))return a;var f=[];b.each(e.schema.getBlockElements(),function(a,b){f.push(b)});var g=new RegExp(&quot;(?:&lt;br&gt;&amp;nbsp;[\\s\\r\\n]+|&lt;br&gt;)*(&lt;\\/?(&quot;+f.join(&quot;|&quot;)+&quot;)[^&gt;]*&gt;)(?:&lt;br&gt;&amp;nbsp;[\\s\\r\\n]+|&lt;br&gt;)*&quot;,&quot;g&quot;);return a=d.filter(a,[[g,&quot;$1&quot;]]),a=d.filter(a,[[/&lt;br&gt;&lt;br&gt;/g,&quot;&lt;BR&gt;&lt;BR&gt;&quot;],[/&lt;br&gt;/g,&quot; &quot;],[/&lt;BR&gt;&lt;BR&gt;/g,&quot;&lt;br&gt;&quot;]])}function h(a){if(c.isWordContent(a))return a;var b=e.settings.paste_webkit_styles;if(e.settings.paste_remove_styles_if_webkit===!1||&quot;all&quot;==b)return a;if(b&amp;&amp;(b=b.split(/[, ]/)),b){var d=e.dom,f=e.selection.getNode();a=a.replace(/(&lt;[^&gt;]+) style=&quot;([^&quot;]*)&quot;([^&gt;]*&gt;)/gi,function(a,c,e,g){var h=d.parseStyle(e,&quot;span&quot;),i={};if(&quot;none&quot;===b)return c+g;for(var j=0;j&lt;b.length;j++){var k=h[b[j]],l=d.getStyle(f,b[j],!0);/color/.test(b[j])&amp;&amp;(k=d.toHex(k),l=d.toHex(l)),l!=k&amp;&amp;(i[b[j]]=k)}return i=d.serializeStyle(i,&quot;span&quot;),i?c+&#39; style=&quot;&#39;+i+&#39;&quot;&#39;+g:c+g})}else a=a.replace(/(&lt;[^&gt;]+) style=&quot;([^&quot;]*)&quot;([^&gt;]*&gt;)/gi,&quot;$1$3&quot;);return a=a.replace(/(&lt;[^&gt;]+) data-mce-style=&quot;([^&quot;]+)&quot;([^&gt;]*&gt;)/gi,function(a,b,c,d){return b+&#39; style=&quot;&#39;+c+&#39;&quot;&#39;+d})}a.webkit&amp;&amp;f(h),a.ie&amp;&amp;f(g)}}),d(&quot;tinymce/pasteplugin/Plugin&quot;,[&quot;tinymce/PluginManager&quot;,&quot;tinymce/pasteplugin/Clipboard&quot;,&quot;tinymce/pasteplugin/WordFilter&quot;,&quot;tinymce/pasteplugin/Quirks&quot;],function(a,b,c,d){var e;a.add(&quot;paste&quot;,function(a){function f(){&quot;text&quot;==g.pasteFormat?(this.active(!1),g.pasteFormat=&quot;html&quot;):(g.pasteFormat=&quot;text&quot;,this.active(!0),e||(a.windowManager.alert(&quot;Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.&quot;),e=!0))}var g,h=this,i=a.settings;h.clipboard=g=new b(a),h.quirks=new d(a),h.wordFilter=new c(a),a.settings.paste_as_text&amp;&amp;(h.clipboard.pasteFormat=&quot;text&quot;),i.paste_preprocess&amp;&amp;a.on(&quot;PastePreProcess&quot;,function(a){i.paste_preprocess.call(h,h,a)}),i.paste_postprocess&amp;&amp;a.on(&quot;PastePostProcess&quot;,function(a){i.paste_postprocess.call(h,h,a)}),a.addCommand(&quot;mceInsertClipboardContent&quot;,function(a,b){b.content&amp;&amp;h.clipboard.pasteHtml(b.content),b.text&amp;&amp;h.clipboard.pasteText(b.text)}),a.paste_block_drop&amp;&amp;a.on(&quot;dragend dragover draggesture dragdrop drop drag&quot;,function(a){a.preventDefault(),a.stopPropagation()}),a.settings.paste_data_images||a.on(&quot;drop&quot;,function(a){var b=a.dataTransfer;b&amp;&amp;b.files&amp;&amp;b.files.length&gt;0&amp;&amp;a.preventDefault()}),a.addButton(&quot;pastetext&quot;,{icon:&quot;pastetext&quot;,tooltip:&quot;Paste as text&quot;,onclick:f,active:&quot;text&quot;==h.clipboard.pasteFormat}),a.addMenuItem(&quot;pastetext&quot;,{text:&quot;Paste as text&quot;,selectable:!0,active:g.pasteFormat,onclick:f})})}),f([&quot;tinymce/pasteplugin/Utils&quot;,&quot;tinymce/pasteplugin/WordFilter&quot;])}(this);</pre>
</body>
</html>
