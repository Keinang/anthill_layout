<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">!function(a,b){&quot;use strict&quot;;function c(a,b){for(var c,d=[],g=0;g&lt;a.length;++g){if(c=f[a[g]]||e(a[g]),!c)throw&quot;module definition dependecy not found: &quot;+a[g];d.push(c)}b.apply(null,d)}function d(a,d,e){if(&quot;string&quot;!=typeof a)throw&quot;invalid module definition, module id must be defined and be a string&quot;;if(d===b)throw&quot;invalid module definition, dependencies must be specified&quot;;if(e===b)throw&quot;invalid module definition, definition function must be specified&quot;;c(d,function(){f[a]=e.apply(null,arguments)})}function e(b){for(var c=a,d=b.split(/[.\/]/),e=0;e&lt;d.length;++e){if(!c[d[e]])return;c=c[d[e]]}return c}var f={};d(&quot;tinymce/tableplugin/TableGrid&quot;,[&quot;tinymce/util/Tools&quot;,&quot;tinymce/Env&quot;],function(a,c){function d(a,b){return parseInt(a.getAttribute(b)||1,10)}var e=a.each;return function(f,g){function h(){var a=0;F=[],G=0,e([&quot;thead&quot;,&quot;tbody&quot;,&quot;tfoot&quot;],function(b){var c=L.select(&quot;&gt; &quot;+b+&quot; tr&quot;,g);e(c,function(c,f){f+=a,e(L.select(&quot;&gt; td, &gt; th&quot;,c),function(a,c){var e,g,h,i;if(F[f])for(;F[f][c];)c++;for(h=d(a,&quot;rowspan&quot;),i=d(a,&quot;colspan&quot;),g=f;f+h&gt;g;g++)for(F[g]||(F[g]=[]),e=c;c+i&gt;e;e++)F[g][e]={part:b,real:g==f&amp;&amp;e==c,elm:a,rowspan:h,colspan:i};G=Math.max(G,c+1)})}),a+=c.length})}function i(a,b){return a=a.cloneNode(b),a.removeAttribute(&quot;id&quot;),a}function j(a,b){var c;return c=F[b],c?c[a]:void 0}function k(a,b,c){a&amp;&amp;(c=parseInt(c,10),1===c?a.removeAttribute(b,1):a.setAttribute(b,c,1))}function l(a){return a&amp;&amp;(L.hasClass(a.elm,&quot;mce-item-selected&quot;)||a==J)}function m(){var a=[];return e(g.rows,function(b){e(b.cells,function(c){return L.hasClass(c,&quot;mce-item-selected&quot;)||J&amp;&amp;c==J.elm?(a.push(b),!1):void 0})}),a}function n(){var a=L.createRng();a.setStartAfter(g),a.setEndAfter(g),K.setRng(a),L.remove(g)}function o(b){var d,g={};return f.settings.table_clone_elements!==!1&amp;&amp;(g=a.makeMap((f.settings.table_clone_elements||&quot;strong em b i span font h1 h2 h3 h4 h5 h6 p div&quot;).toUpperCase(),/[ ,]/)),a.walk(b,function(a){var f;return 3==a.nodeType?(e(L.getParents(a.parentNode,null,b).reverse(),function(a){g[a.nodeName]&amp;&amp;(a=i(a,!1),d?f&amp;&amp;f.appendChild(a):d=f=a,f=a)}),f&amp;&amp;(f.innerHTML=c.ie?&quot;&amp;nbsp;&quot;:&#39;&lt;br data-mce-bogus=&quot;1&quot; /&gt;&#39;),!1):void 0},&quot;childNodes&quot;),b=i(b,!1),k(b,&quot;rowSpan&quot;,1),k(b,&quot;colSpan&quot;,1),d?b.appendChild(d):(!c.ie||c.ie&gt;10)&amp;&amp;(b.innerHTML=&#39;&lt;br data-mce-bogus=&quot;1&quot; /&gt;&#39;),b}function p(){var a,b=L.createRng();return e(L.select(&quot;tr&quot;,g),function(a){0===a.cells.length&amp;&amp;L.remove(a)}),0===L.select(&quot;tr&quot;,g).length?(b.setStartBefore(g),b.setEndBefore(g),K.setRng(b),void L.remove(g)):(e(L.select(&quot;thead,tbody,tfoot&quot;,g),function(a){0===a.rows.length&amp;&amp;L.remove(a)}),h(),void(H&amp;&amp;(a=F[Math.min(F.length-1,H.y)],a&amp;&amp;(K.select(a[Math.min(a.length-1,H.x)].elm,!0),K.collapse(!0)))))}function q(a,b,c,d){var e,f,g,h,i;for(e=F[b][a].elm.parentNode,g=1;c&gt;=g;g++)if(e=L.getNext(e,&quot;tr&quot;)){for(f=a;f&gt;=0;f--)if(i=F[b+g][f].elm,i.parentNode==e){for(h=1;d&gt;=h;h++)L.insertAfter(o(i),i);break}if(-1==f)for(h=1;d&gt;=h;h++)e.insertBefore(o(e.cells[0]),e.cells[0])}}function r(){e(F,function(a,b){e(a,function(a,c){var e,f,g;if(l(a)&amp;&amp;(a=a.elm,e=d(a,&quot;colspan&quot;),f=d(a,&quot;rowspan&quot;),e&gt;1||f&gt;1)){for(k(a,&quot;rowSpan&quot;,1),k(a,&quot;colSpan&quot;,1),g=0;e-1&gt;g;g++)L.insertAfter(o(a),a);q(c,b,f-1,e)}})})}function s(b,c,d){var f,g,i,m,n,o,q,s,t,u,v;if(b?(f=A(b),g=f.x,i=f.y,m=g+(c-1),n=i+(d-1)):(H=I=null,e(F,function(a,b){e(a,function(a,c){l(a)&amp;&amp;(H||(H={x:c,y:b}),I={x:c,y:b})})}),H&amp;&amp;(g=H.x,i=H.y,m=I.x,n=I.y)),s=j(g,i),t=j(m,n),s&amp;&amp;t&amp;&amp;s.part==t.part){for(r(),h(),s=j(g,i).elm,k(s,&quot;colSpan&quot;,m-g+1),k(s,&quot;rowSpan&quot;,n-i+1),q=i;n&gt;=q;q++)for(o=g;m&gt;=o;o++)F[q]&amp;&amp;F[q][o]&amp;&amp;(b=F[q][o].elm,b!=s&amp;&amp;(u=a.grep(b.childNodes),e(u,function(a){s.appendChild(a)}),u.length&amp;&amp;(u=a.grep(s.childNodes),v=0,e(u,function(a){&quot;BR&quot;==a.nodeName&amp;&amp;L.getAttrib(a,&quot;data-mce-bogus&quot;)&amp;&amp;v++&lt;u.length-1&amp;&amp;s.removeChild(a)})),L.remove(b)));p()}}function t(a){var c,f,g,h,j,m,n,p,q;if(e(F,function(b,d){return e(b,function(b){return l(b)&amp;&amp;(b=b.elm,j=b.parentNode,m=i(j,!1),c=d,a)?!1:void 0}),a?!c:void 0}),c!==b){for(h=0;h&lt;F[0].length;h++)if(F[c][h]&amp;&amp;(f=F[c][h].elm,f!=g)){if(a){if(c&gt;0&amp;&amp;F[c-1][h]&amp;&amp;(p=F[c-1][h].elm,q=d(p,&quot;rowSpan&quot;),q&gt;1)){k(p,&quot;rowSpan&quot;,q+1);continue}}else if(q=d(f,&quot;rowspan&quot;),q&gt;1){k(f,&quot;rowSpan&quot;,q+1);continue}n=o(f),k(n,&quot;colSpan&quot;,f.colSpan),m.appendChild(n),g=f}m.hasChildNodes()&amp;&amp;(a?j.parentNode.insertBefore(m,j):L.insertAfter(m,j))}}function u(a){var b,c;e(F,function(c){return e(c,function(c,d){return l(c)&amp;&amp;(b=d,a)?!1:void 0}),a?!b:void 0}),e(F,function(e,f){var g,h,i;e[b]&amp;&amp;(g=e[b].elm,g!=c&amp;&amp;(i=d(g,&quot;colspan&quot;),h=d(g,&quot;rowspan&quot;),1==i?a?(g.parentNode.insertBefore(o(g),g),q(b,f,h-1,i)):(L.insertAfter(o(g),g),q(b,f,h-1,i)):k(g,&quot;colSpan&quot;,g.colSpan+1),c=g))})}function v(){var b=[];e(F,function(c){e(c,function(c,f){l(c)&amp;&amp;-1===a.inArray(b,f)&amp;&amp;(e(F,function(a){var b,c=a[f].elm;b=d(c,&quot;colSpan&quot;),b&gt;1?k(c,&quot;colSpan&quot;,b-1):L.remove(c)}),b.push(f))})}),p()}function w(){function a(a){var b,c;e(a.cells,function(a){var c=d(a,&quot;rowSpan&quot;);c&gt;1&amp;&amp;(k(a,&quot;rowSpan&quot;,c-1),b=A(a),q(b.x,b.y,1,1))}),b=A(a.cells[0]),e(F[b.y],function(a){var b;a=a.elm,a!=c&amp;&amp;(b=d(a,&quot;rowSpan&quot;),1&gt;=b?L.remove(a):k(a,&quot;rowSpan&quot;,b-1),c=a)})}var b;b=m(),e(b.reverse(),function(b){a(b)}),p()}function x(){var a=m();return L.remove(a),p(),a}function y(){var a=m();return e(a,function(b,c){a[c]=i(b,!0)}),a}function z(a,b){var c=m(),d=c[b?0:c.length-1],f=d.cells.length;a&amp;&amp;(e(F,function(a){var b;return f=0,e(a,function(a){a.real&amp;&amp;(f+=a.colspan),a.elm.parentNode==d&amp;&amp;(b=1)}),b?!1:void 0}),b||a.reverse(),e(a,function(a){var c,e,g=a.cells.length;for(c=0;g&gt;c;c++)e=a.cells[c],k(e,&quot;colSpan&quot;,1),k(e,&quot;rowSpan&quot;,1);for(c=g;f&gt;c;c++)a.appendChild(o(a.cells[g-1]));for(c=f;g&gt;c;c++)L.remove(a.cells[c]);b?d.parentNode.insertBefore(a,d):L.insertAfter(a,d)}),L.removeClass(L.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;),&quot;mce-item-selected&quot;))}function A(a){var b;return e(F,function(c,d){return e(c,function(c,e){return c.elm==a?(b={x:e,y:d},!1):void 0}),!b}),b}function B(a){H=A(a)}function C(){var a,b;return a=b=0,e(F,function(c,d){e(c,function(c,e){var f,g;l(c)&amp;&amp;(c=F[d][e],e&gt;a&amp;&amp;(a=e),d&gt;b&amp;&amp;(b=d),c.real&amp;&amp;(f=c.colspan-1,g=c.rowspan-1,f&amp;&amp;e+f&gt;a&amp;&amp;(a=e+f),g&amp;&amp;d+g&gt;b&amp;&amp;(b=d+g)))})}),{x:a,y:b}}function D(a){var b,c,d,e,f,g,h,i,j,k;if(I=A(a),H&amp;&amp;I){for(b=Math.min(H.x,I.x),c=Math.min(H.y,I.y),d=Math.max(H.x,I.x),e=Math.max(H.y,I.y),f=d,g=e,k=c;g&gt;=k;k++)a=F[k][b],a.real||b-(a.colspan-1)&lt;b&amp;&amp;(b-=a.colspan-1);for(j=b;f&gt;=j;j++)a=F[c][j],a.real||c-(a.rowspan-1)&lt;c&amp;&amp;(c-=a.rowspan-1);for(k=c;e&gt;=k;k++)for(j=b;d&gt;=j;j++)a=F[k][j],a.real&amp;&amp;(h=a.colspan-1,i=a.rowspan-1,h&amp;&amp;j+h&gt;f&amp;&amp;(f=j+h),i&amp;&amp;k+i&gt;g&amp;&amp;(g=k+i));for(L.removeClass(L.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;),&quot;mce-item-selected&quot;),k=c;g&gt;=k;k++)for(j=b;f&gt;=j;j++)F[k][j]&amp;&amp;L.addClass(F[k][j].elm,&quot;mce-item-selected&quot;)}}function E(a,b){var c,d,e;c=A(a),d=c.y*G+c.x;do{if(d+=b,e=j(d%G,Math.floor(d/G)),!e)break;if(e.elm!=a)return K.select(e.elm,!0),L.isEmpty(e.elm)&amp;&amp;K.collapse(!0),!0}while(e.elm==a);return!1}var F,G,H,I,J,K=f.selection,L=K.dom;g=g||L.getParent(K.getStart(),&quot;table&quot;),h(),J=L.getParent(K.getStart(),&quot;th,td&quot;),J&amp;&amp;(H=A(J),I=C(),J=j(H.x,H.y)),a.extend(this,{deleteTable:n,split:r,merge:s,insertRow:t,insertCol:u,deleteCols:v,deleteRows:w,cutRows:x,copyRows:y,pasteRows:z,getPos:A,setStartCell:B,setEndCell:D,moveRelIdx:E,refresh:h})}}),d(&quot;tinymce/tableplugin/Quirks&quot;,[&quot;tinymce/util/VK&quot;,&quot;tinymce/Env&quot;,&quot;tinymce/util/Tools&quot;],function(a,b,c){function d(a,b){return parseInt(a.getAttribute(b)||1,10)}var e=c.each;return function(c){function f(){function b(b){function f(a,d){var e=a?&quot;previousSibling&quot;:&quot;nextSibling&quot;,f=c.dom.getParent(d,&quot;tr&quot;),h=f[e];if(h)return q(c,d,h,a),b.preventDefault(),!0;var k=c.dom.getParent(f,&quot;table&quot;),l=f.parentNode,m=l.nodeName.toLowerCase();if(&quot;tbody&quot;===m||m===(a?&quot;tfoot&quot;:&quot;thead&quot;)){var n=g(a,k,l,&quot;tbody&quot;);if(null!==n)return i(a,n,d)}return j(a,f,e,k)}function g(a,b,d,e){var f=c.dom.select(&quot;&gt;&quot;+e,b),g=f.indexOf(d);if(a&amp;&amp;0===g||!a&amp;&amp;g===f.length-1)return h(a,b);if(-1===g){var i=&quot;thead&quot;===d.tagName.toLowerCase()?0:f.length-1;return f[i]}return f[g+(a?-1:1)]}function h(a,b){var d=a?&quot;thead&quot;:&quot;tfoot&quot;,e=c.dom.select(&quot;&gt;&quot;+d,b);return 0!==e.length?e[0]:null}function i(a,d,e){var f=k(d,a);return f&amp;&amp;q(c,e,f,a),b.preventDefault(),!0}function j(a,d,e,g){var h=g[e];if(h)return l(h),!0;var i=c.dom.getParent(g,&quot;td,th&quot;);if(i)return f(a,i,b);var j=k(d,!a);return l(j),b.preventDefault(),!1}function k(a,b){var d=a&amp;&amp;a[b?&quot;lastChild&quot;:&quot;firstChild&quot;];return d&amp;&amp;&quot;BR&quot;===d.nodeName?c.dom.getParent(d,&quot;td,th&quot;):d}function l(a){c.selection.setCursorLocation(a,0)}function m(){return t==a.UP||t==a.DOWN}function n(a){var b=a.selection.getNode(),c=a.dom.getParent(b,&quot;tr&quot;);return null!==c}function o(a){for(var b=0,c=a;c.previousSibling;)c=c.previousSibling,b+=d(c,&quot;colspan&quot;);return b}function p(a,b){var c=0,f=0;return e(a.children,function(a,e){return c+=d(a,&quot;colspan&quot;),f=e,c&gt;b?!1:void 0}),f}function q(a,b,d,e){var f=o(c.dom.getParent(b,&quot;td,th&quot;)),g=p(d,f),h=d.childNodes[g],i=k(h,e);l(i||h)}function r(a){var b=c.selection.getNode(),d=c.dom.getParent(b,&quot;td,th&quot;),e=c.dom.getParent(a,&quot;td,th&quot;);return d&amp;&amp;d!==e&amp;&amp;s(d,e)}function s(a,b){return c.dom.getParent(a,&quot;TABLE&quot;)===c.dom.getParent(b,&quot;TABLE&quot;)}var t=b.keyCode;if(m()&amp;&amp;n(c)){var u=c.selection.getNode();setTimeout(function(){r(u)&amp;&amp;f(!b.shiftKey&amp;&amp;t===a.UP,u,b)},0)}}c.on(&quot;KeyDown&quot;,function(a){b(a)})}function g(){function a(a,b){var c,d=b.ownerDocument,e=d.createRange();return e.setStartBefore(b),e.setEnd(a.endContainer,a.endOffset),c=d.createElement(&quot;body&quot;),c.appendChild(e.cloneContents()),0===c.innerHTML.replace(/&lt;(br|img|object|embed|input|textarea)[^&gt;]*&gt;/gi,&quot;-&quot;).replace(/&lt;[^&gt;]+&gt;/g,&quot;&quot;).length}c.on(&quot;KeyDown&quot;,function(b){var d,e,f=c.dom;(37==b.keyCode||38==b.keyCode)&amp;&amp;(d=c.selection.getRng(),e=f.getParent(d.startContainer,&quot;table&quot;),e&amp;&amp;c.getBody().firstChild==e&amp;&amp;a(d,e)&amp;&amp;(d=f.createRng(),d.setStartBefore(e),d.setEndBefore(e),c.selection.setRng(d),b.preventDefault()))})}function h(){c.on(&quot;KeyDown SetContent VisualAid&quot;,function(){var a;for(a=c.getBody().lastChild;a;a=a.previousSibling)if(3==a.nodeType){if(a.nodeValue.length&gt;0)break}else if(1==a.nodeType&amp;&amp;(&quot;BR&quot;==a.tagName||!a.getAttribute(&quot;data-mce-bogus&quot;)))break;a&amp;&amp;&quot;TABLE&quot;==a.nodeName&amp;&amp;(c.settings.forced_root_block?c.dom.add(c.getBody(),c.settings.forced_root_block,c.settings.forced_root_block_attrs,b.ie&amp;&amp;b.ie&lt;11?&quot;&amp;nbsp;&quot;:&#39;&lt;br data-mce-bogus=&quot;1&quot; /&gt;&#39;):c.dom.add(c.getBody(),&quot;br&quot;,{&quot;data-mce-bogus&quot;:&quot;1&quot;}))}),c.on(&quot;PreProcess&quot;,function(a){var b=a.node.lastChild;b&amp;&amp;(&quot;BR&quot;==b.nodeName||1==b.childNodes.length&amp;&amp;(&quot;BR&quot;==b.firstChild.nodeName||&quot;\xa0&quot;==b.firstChild.nodeValue))&amp;&amp;b.previousSibling&amp;&amp;&quot;TABLE&quot;==b.previousSibling.nodeName&amp;&amp;c.dom.remove(b)})}function i(){function a(a,b,c,d){var e,f,g,h=3,i=a.dom.getParent(b.startContainer,&quot;TABLE&quot;);return i&amp;&amp;(e=i.parentNode),f=b.startContainer.nodeType==h&amp;&amp;0===b.startOffset&amp;&amp;0===b.endOffset&amp;&amp;d&amp;&amp;(&quot;TR&quot;==c.nodeName||c==e),g=(&quot;TD&quot;==c.nodeName||&quot;TH&quot;==c.nodeName)&amp;&amp;!d,f||g}function b(){var b=c.selection.getRng(),d=c.selection.getNode(),e=c.dom.getParent(b.startContainer,&quot;TD,TH&quot;);if(a(c,b,d,e)){e||(e=d);for(var f=e.lastChild;f.lastChild;)f=f.lastChild;3==f.nodeType&amp;&amp;(b.setEnd(f,f.data.length),c.selection.setRng(b))}}c.on(&quot;KeyDown&quot;,function(){b()}),c.on(&quot;MouseDown&quot;,function(a){2!=a.button&amp;&amp;b()})}function j(){c.on(&quot;keydown&quot;,function(b){if((b.keyCode==a.DELETE||b.keyCode==a.BACKSPACE)&amp;&amp;!b.isDefaultPrevented()){var d=c.dom.getParent(c.selection.getStart(),&quot;table&quot;);if(d){for(var e=c.dom.select(&quot;td,th&quot;,d),f=e.length;f--;)if(!c.dom.hasClass(e[f],&quot;mce-item-selected&quot;))return;b.preventDefault(),c.execCommand(&quot;mceTableDelete&quot;)}}})}j(),b.webkit&amp;&amp;(f(),i()),b.gecko&amp;&amp;(g(),h()),b.ie&gt;10&amp;&amp;(g(),h())}}),d(&quot;tinymce/tableplugin/CellSelection&quot;,[&quot;tinymce/tableplugin/TableGrid&quot;,&quot;tinymce/dom/TreeWalker&quot;,&quot;tinymce/util/Tools&quot;],function(a,b,c){return function(d){function e(a){d.getBody().style.webkitUserSelect=&quot;&quot;,(a||l)&amp;&amp;(d.dom.removeClass(d.dom.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;),&quot;mce-item-selected&quot;),l=!1)}function f(b){var c,e,f=b.target;if(!j&amp;&amp;h&amp;&amp;(g||f!=h)&amp;&amp;(&quot;TD&quot;==f.nodeName||&quot;TH&quot;==f.nodeName)){e=k.getParent(f,&quot;table&quot;),e==i&amp;&amp;(g||(g=new a(d,e),g.setStartCell(h),d.getBody().style.webkitUserSelect=&quot;none&quot;),g.setEndCell(f),l=!0),c=d.selection.getSel();try{c.removeAllRanges?c.removeAllRanges():c.empty()}catch(m){}b.preventDefault()}}var g,h,i,j,k=d.dom,l=!0;return d.on(&quot;MouseDown&quot;,function(a){2==a.button||j||(e(),h=k.getParent(a.target,&quot;td,th&quot;),i=k.getParent(h,&quot;table&quot;))}),d.on(&quot;mouseover&quot;,f),d.on(&quot;remove&quot;,function(){k.unbind(d.getDoc(),&quot;mouseover&quot;,f)}),d.on(&quot;MouseUp&quot;,function(){function a(a,d){var f=new b(a,a);do{if(3==a.nodeType&amp;&amp;0!==c.trim(a.nodeValue).length)return void(d?e.setStart(a,0):e.setEnd(a,a.nodeValue.length));if(&quot;BR&quot;==a.nodeName)return void(d?e.setStartBefore(a):e.setEndBefore(a))}while(a=d?f.next():f.prev())}var e,f,j,l,m,n=d.selection;if(h){if(g&amp;&amp;(d.getBody().style.webkitUserSelect=&quot;&quot;),f=k.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;),f.length&gt;0){e=k.createRng(),l=f[0],e.setStartBefore(l),e.setEndAfter(l),a(l,1),j=new b(l,k.getParent(f[0],&quot;table&quot;));do if(&quot;TD&quot;==l.nodeName||&quot;TH&quot;==l.nodeName){if(!k.hasClass(l,&quot;mce-item-selected&quot;))break;m=l}while(l=j.next());a(m),n.setRng(e)}d.nodeChanged(),h=g=i=null}}),d.on(&quot;KeyUp Drop SetContent&quot;,function(a){e(&quot;setcontent&quot;==a.type),h=g=i=null,j=!1}),d.on(&quot;ObjectResizeStart ObjectResized&quot;,function(a){j=&quot;objectresized&quot;!=a.type}),{clear:e}}}),d(&quot;tinymce/tableplugin/Dialogs&quot;,[&quot;tinymce/util/Tools&quot;,&quot;tinymce/Env&quot;],function(a,b){var c=a.each;return function(d){function e(){var a=d.settings.color_picker_callback;return a?function(){var b=this;a.call(d,function(a){b.value(a).fire(&quot;change&quot;)},b.value())}:void 0}function f(a){return{title:&quot;Advanced&quot;,type:&quot;form&quot;,defaults:{onchange:function(){l(a,this.parents().reverse()[0],&quot;style&quot;==this.name())}},items:[{label:&quot;Style&quot;,name:&quot;style&quot;,type:&quot;textbox&quot;},{type:&quot;form&quot;,padding:0,formItemDefaults:{layout:&quot;grid&quot;,alignH:[&quot;start&quot;,&quot;right&quot;]},defaults:{size:7},items:[{label:&quot;Border color&quot;,type:&quot;colorbox&quot;,name:&quot;borderColor&quot;,onaction:e()},{label:&quot;Background color&quot;,type:&quot;colorbox&quot;,name:&quot;backgroundColor&quot;,onaction:e()}]}]}}function g(a){return a?a.replace(/px$/,&quot;&quot;):&quot;&quot;}function h(a){return/^[0-9]+$/.test(a)&amp;&amp;(a+=&quot;px&quot;),a}function i(a){c(&quot;left center right&quot;.split(&quot; &quot;),function(b){d.formatter.remove(&quot;align&quot;+b,{},a)})}function j(a){c(&quot;top middle bottom&quot;.split(&quot; &quot;),function(b){d.formatter.remove(&quot;valign&quot;+b,{},a)})}function k(b,c,d){function e(b,d){return d=d||[],a.each(b,function(a){var b={text:a.text||a.title};a.menu?b.menu=e(a.menu):(b.value=a.value,c&amp;&amp;c(b)),d.push(b)}),d}return e(b,d||[])}function l(a,b,c){var d=b.toJSON(),e=a.parseStyle(d.style);c?(b.find(&quot;#borderColor&quot;).value(e[&quot;border-color&quot;]||&quot;&quot;)[0].fire(&quot;change&quot;),b.find(&quot;#backgroundColor&quot;).value(e[&quot;background-color&quot;]||&quot;&quot;)[0].fire(&quot;change&quot;)):(e[&quot;border-color&quot;]=d.borderColor,e[&quot;background-color&quot;]=d.backgroundColor),b.find(&quot;#style&quot;).value(a.serializeStyle(a.parseStyle(a.serializeStyle(e))))}function m(a,b,c){var d=a.parseStyle(a.getAttrib(c,&quot;style&quot;));d[&quot;border-color&quot;]&amp;&amp;(b.borderColor=d[&quot;border-color&quot;]),d[&quot;background-color&quot;]&amp;&amp;(b.backgroundColor=d[&quot;background-color&quot;]),b.style=a.serializeStyle(d)}var n=this;n.tableProps=function(){n.table(!0)},n.table=function(e){function j(){var c;l(s,this),t=a.extend(t,this.toJSON()),a.each(&quot;backgroundColor borderColor&quot;.split(&quot; &quot;),function(a){delete t[a]}),t[&quot;class&quot;]===!1&amp;&amp;delete t[&quot;class&quot;],d.undoManager.transact(function(){n||(n=d.plugins.table.insertTable(t.cols||1,t.rows||1)),d.dom.setAttribs(n,{cellspacing:t.cellspacing,cellpadding:t.cellpadding,border:t.border,style:t.style,&quot;class&quot;:t[&quot;class&quot;]}),s.getAttrib(n,&quot;width&quot;)?s.setAttrib(n,&quot;width&quot;,g(t.width)):s.setStyle(n,&quot;width&quot;,h(t.width)),s.setStyle(n,&quot;height&quot;,h(t.height)),c=s.select(&quot;caption&quot;,n)[0],c&amp;&amp;!t.caption&amp;&amp;s.remove(c),!c&amp;&amp;t.caption&amp;&amp;(c=s.create(&quot;caption&quot;),c.innerHTML=b.ie?&quot;\xa0&quot;:&#39;&lt;br data-mce-bogus=&quot;1&quot;/&gt;&#39;,n.insertBefore(c,n.firstChild)),i(n),t.align&amp;&amp;d.formatter.apply(&quot;align&quot;+t.align,{},n),d.focus(),d.addVisual()})}var n,o,p,q,r,s=d.dom,t={};e===!0?(n=s.getParent(d.selection.getStart(),&quot;table&quot;),n&amp;&amp;(t={width:g(s.getStyle(n,&quot;width&quot;)||s.getAttrib(n,&quot;width&quot;)),height:g(s.getStyle(n,&quot;height&quot;)||s.getAttrib(n,&quot;height&quot;)),cellspacing:n?s.getAttrib(n,&quot;cellspacing&quot;):&quot;&quot;,cellpadding:n?s.getAttrib(n,&quot;cellpadding&quot;):&quot;&quot;,border:n?s.getAttrib(n,&quot;border&quot;):&quot;&quot;,caption:!!s.select(&quot;caption&quot;,n)[0],&quot;class&quot;:s.getAttrib(n,&quot;class&quot;)},c(&quot;left center right&quot;.split(&quot; &quot;),function(a){d.formatter.matchNode(n,&quot;align&quot;+a)&amp;&amp;(t.align=a)}))):(o={label:&quot;Cols&quot;,name:&quot;cols&quot;},p={label:&quot;Rows&quot;,name:&quot;rows&quot;}),d.settings.table_class_list&amp;&amp;(t[&quot;class&quot;]&amp;&amp;(t[&quot;class&quot;]=t[&quot;class&quot;].replace(/\s*mce\-item\-table\s*/g,&quot;&quot;)),q={name:&quot;class&quot;,type:&quot;listbox&quot;,label:&quot;Class&quot;,values:k(d.settings.table_class_list,function(a){a.value&amp;&amp;(a.textStyle=function(){return d.formatter.getCssText({block:&quot;table&quot;,classes:[a.value]})})})}),r={type:&quot;form&quot;,layout:&quot;flex&quot;,direction:&quot;column&quot;,labelGapCalc:&quot;children&quot;,padding:0,items:[{type:&quot;form&quot;,labelGapCalc:!1,padding:0,layout:&quot;grid&quot;,columns:2,defaults:{type:&quot;textbox&quot;,maxWidth:50},items:[o,p,{label:&quot;Width&quot;,name:&quot;width&quot;},{label:&quot;Height&quot;,name:&quot;height&quot;},{label:&quot;Cell spacing&quot;,name:&quot;cellspacing&quot;},{label:&quot;Cell padding&quot;,name:&quot;cellpadding&quot;},{label:&quot;Border&quot;,name:&quot;border&quot;},{label:&quot;Caption&quot;,name:&quot;caption&quot;,type:&quot;checkbox&quot;}]},{label:&quot;Alignment&quot;,name:&quot;align&quot;,type:&quot;listbox&quot;,text:&quot;None&quot;,values:[{text:&quot;None&quot;,value:&quot;&quot;},{text:&quot;Left&quot;,value:&quot;left&quot;},{text:&quot;Center&quot;,value:&quot;center&quot;},{text:&quot;Right&quot;,value:&quot;right&quot;}]},q]},d.settings.table_advtab!==!1?(m(s,t,n),d.windowManager.open({title:&quot;Table properties&quot;,data:t,bodyType:&quot;tabpanel&quot;,body:[{title:&quot;General&quot;,type:&quot;form&quot;,items:r},f(s)],onsubmit:j})):d.windowManager.open({title:&quot;Table properties&quot;,data:t,body:r,onsubmit:j})},n.merge=function(a,b){d.windowManager.open({title:&quot;Merge cells&quot;,body:[{label:&quot;Cols&quot;,name:&quot;cols&quot;,type:&quot;textbox&quot;,value:&quot;1&quot;,size:10},{label:&quot;Rows&quot;,name:&quot;rows&quot;,type:&quot;textbox&quot;,value:&quot;1&quot;,size:10}],onsubmit:function(){var c=this.toJSON();d.undoManager.transact(function(){a.merge(b,c.cols,c.rows)})}})},n.cell=function(){function b(){l(p,this),n=a.extend(n,this.toJSON()),d.undoManager.transact(function(){c(q,function(a){d.dom.setAttribs(a,{scope:n.scope,style:n.style,&quot;class&quot;:n[&quot;class&quot;]}),d.dom.setStyles(a,{width:h(n.width),height:h(n.height)}),n.type&amp;&amp;a.nodeName.toLowerCase()!=n.type&amp;&amp;(a=p.rename(a,n.type)),i(a),n.align&amp;&amp;d.formatter.apply(&quot;align&quot;+n.align,{},a),j(a),n.valign&amp;&amp;d.formatter.apply(&quot;valign&quot;+n.valign,{},a)}),d.focus()})}var e,n,o,p=d.dom,q=[];if(q=d.dom.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;),e=d.dom.getParent(d.selection.getStart(),&quot;td,th&quot;),!q.length&amp;&amp;e&amp;&amp;q.push(e),e=e||q[0]){n={width:g(p.getStyle(e,&quot;width&quot;)||p.getAttrib(e,&quot;width&quot;)),height:g(p.getStyle(e,&quot;height&quot;)||p.getAttrib(e,&quot;height&quot;)),scope:p.getAttrib(e,&quot;scope&quot;),&quot;class&quot;:p.getAttrib(e,&quot;class&quot;)},n.type=e.nodeName.toLowerCase(),c(&quot;left center right&quot;.split(&quot; &quot;),function(a){d.formatter.matchNode(e,&quot;align&quot;+a)&amp;&amp;(n.align=a)}),c(&quot;top middle bottom&quot;.split(&quot; &quot;),function(a){d.formatter.matchNode(e,&quot;valign&quot;+a)&amp;&amp;(n.valign=a)}),d.settings.table_cell_class_list&amp;&amp;(o={name:&quot;class&quot;,type:&quot;listbox&quot;,label:&quot;Class&quot;,values:k(d.settings.table_cell_class_list,function(a){a.value&amp;&amp;(a.textStyle=function(){return d.formatter.getCssText({block:&quot;td&quot;,classes:[a.value]})})})});var r={type:&quot;form&quot;,layout:&quot;flex&quot;,direction:&quot;column&quot;,labelGapCalc:&quot;children&quot;,padding:0,items:[{type:&quot;form&quot;,layout:&quot;grid&quot;,columns:2,labelGapCalc:!1,padding:0,defaults:{type:&quot;textbox&quot;,maxWidth:50},items:[{label:&quot;Width&quot;,name:&quot;width&quot;},{label:&quot;Height&quot;,name:&quot;height&quot;},{label:&quot;Cell type&quot;,name:&quot;type&quot;,type:&quot;listbox&quot;,text:&quot;None&quot;,minWidth:90,maxWidth:null,values:[{text:&quot;Cell&quot;,value:&quot;td&quot;},{text:&quot;Header cell&quot;,value:&quot;th&quot;}]},{label:&quot;Scope&quot;,name:&quot;scope&quot;,type:&quot;listbox&quot;,text:&quot;None&quot;,minWidth:90,maxWidth:null,values:[{text:&quot;None&quot;,value:&quot;&quot;},{text:&quot;Row&quot;,value:&quot;row&quot;},{text:&quot;Column&quot;,value:&quot;col&quot;},{text:&quot;Row group&quot;,value:&quot;rowgroup&quot;},{text:&quot;Column group&quot;,value:&quot;colgroup&quot;}]},{label:&quot;H Align&quot;,name:&quot;align&quot;,type:&quot;listbox&quot;,text:&quot;None&quot;,minWidth:90,maxWidth:null,values:[{text:&quot;None&quot;,value:&quot;&quot;},{text:&quot;Left&quot;,value:&quot;left&quot;},{text:&quot;Center&quot;,value:&quot;center&quot;},{text:&quot;Right&quot;,value:&quot;right&quot;}]},{label:&quot;V Align&quot;,name:&quot;valign&quot;,type:&quot;listbox&quot;,text:&quot;None&quot;,minWidth:90,maxWidth:null,values:[{text:&quot;None&quot;,value:&quot;&quot;},{text:&quot;Top&quot;,value:&quot;top&quot;},{text:&quot;Middle&quot;,value:&quot;middle&quot;},{text:&quot;Bottom&quot;,value:&quot;bottom&quot;}]}]},o]};d.settings.table_cell_advtab!==!1?(m(p,n,e),d.windowManager.open({title:&quot;Cell properties&quot;,bodyType:&quot;tabpanel&quot;,data:n,body:[{title:&quot;General&quot;,type:&quot;form&quot;,items:r},f(p)],onsubmit:b})):d.windowManager.open({title:&quot;Cell properties&quot;,data:n,body:r,onsubmit:b})}},n.row=function(){function b(){var b,e,f;l(r,this),p=a.extend(p,this.toJSON()),d.undoManager.transact(function(){var a=p.type;c(s,function(c){d.dom.setAttribs(c,{scope:p.scope,style:p.style,&quot;class&quot;:p[&quot;class&quot;]}),d.dom.setStyles(c,{height:h(p.height)}),a!=c.parentNode.nodeName.toLowerCase()&amp;&amp;(b=r.getParent(c,&quot;table&quot;),e=c.parentNode,f=r.select(a,b)[0],f||(f=r.create(a),b.firstChild?b.insertBefore(f,b.firstChild):b.appendChild(f)),f.appendChild(c),e.hasChildNodes()||r.remove(e)),i(c),p.align&amp;&amp;d.formatter.apply(&quot;align&quot;+p.align,{},c)}),d.focus()})}var e,j,n,o,p,q,r=d.dom,s=[];e=d.dom.getParent(d.selection.getStart(),&quot;table&quot;),j=d.dom.getParent(d.selection.getStart(),&quot;td,th&quot;),c(e.rows,function(a){c(a.cells,function(b){return r.hasClass(b,&quot;mce-item-selected&quot;)||b==j?(s.push(a),!1):void 0})}),n=s[0],n&amp;&amp;(p={height:g(r.getStyle(n,&quot;height&quot;)||r.getAttrib(n,&quot;height&quot;)),scope:r.getAttrib(n,&quot;scope&quot;),&quot;class&quot;:r.getAttrib(n,&quot;class&quot;)},p.type=n.parentNode.nodeName.toLowerCase(),c(&quot;left center right&quot;.split(&quot; &quot;),function(a){d.formatter.matchNode(n,&quot;align&quot;+a)&amp;&amp;(p.align=a)}),d.settings.table_row_class_list&amp;&amp;(o={name:&quot;class&quot;,type:&quot;listbox&quot;,label:&quot;Class&quot;,values:k(d.settings.table_row_class_list,function(a){a.value&amp;&amp;(a.textStyle=function(){return d.formatter.getCssText({block:&quot;tr&quot;,classes:[a.value]})})})}),q={type:&quot;form&quot;,columns:2,padding:0,defaults:{type:&quot;textbox&quot;},items:[{type:&quot;listbox&quot;,name:&quot;type&quot;,label:&quot;Row type&quot;,text:&quot;None&quot;,maxWidth:null,values:[{text:&quot;Header&quot;,value:&quot;thead&quot;},{text:&quot;Body&quot;,value:&quot;tbody&quot;},{text:&quot;Footer&quot;,value:&quot;tfoot&quot;}]},{type:&quot;listbox&quot;,name:&quot;align&quot;,label:&quot;Alignment&quot;,text:&quot;None&quot;,maxWidth:null,values:[{text:&quot;None&quot;,value:&quot;&quot;},{text:&quot;Left&quot;,value:&quot;left&quot;},{text:&quot;Center&quot;,value:&quot;center&quot;},{text:&quot;Right&quot;,value:&quot;right&quot;}]},{label:&quot;Height&quot;,name:&quot;height&quot;},o]},d.settings.table_row_advtab!==!1?(m(r,p,n),d.windowManager.open({title:&quot;Row properties&quot;,data:p,bodyType:&quot;tabpanel&quot;,body:[{title:&quot;General&quot;,type:&quot;form&quot;,items:q},f(r)],onsubmit:b})):d.windowManager.open({title:&quot;Row properties&quot;,data:p,body:q,onsubmit:b}))}}}),d(&quot;tinymce/tableplugin/Plugin&quot;,[&quot;tinymce/tableplugin/TableGrid&quot;,&quot;tinymce/tableplugin/Quirks&quot;,&quot;tinymce/tableplugin/CellSelection&quot;,&quot;tinymce/tableplugin/Dialogs&quot;,&quot;tinymce/util/Tools&quot;,&quot;tinymce/dom/TreeWalker&quot;,&quot;tinymce/Env&quot;,&quot;tinymce/PluginManager&quot;],function(a,b,c,d,e,f,g,h){function i(e){function f(a){return function(){e.execCommand(a)}}function h(a,b){var c,d,f,h;for(f=&#39;&lt;table id=&quot;__mce&quot;&gt;&lt;tbody&gt;&#39;,c=0;b&gt;c;c++){for(f+=&quot;&lt;tr&gt;&quot;,d=0;a&gt;d;d++)f+=&quot;&lt;td&gt;&quot;+(g.ie?&quot; &quot;:&quot;&lt;br&gt;&quot;)+&quot;&lt;/td&gt;&quot;;f+=&quot;&lt;/tr&gt;&quot;}return f+=&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;,e.undoManager.transact(function(){e.insertContent(f),h=e.dom.get(&quot;__mce&quot;),e.dom.setAttrib(h,&quot;id&quot;,null),e.dom.setAttribs(h,e.settings.table_default_attributes||{}),e.dom.setStyles(h,e.settings.table_default_styles||{})}),h}function i(a,b){function c(){a.disabled(!e.dom.getParent(e.selection.getStart(),b)),e.selection.selectorChanged(b,function(b){a.disabled(!b)})}e.initialized?c():e.on(&quot;init&quot;,c)}function k(){i(this,&quot;table&quot;)}function l(){i(this,&quot;td,th&quot;)}function m(){var a=&quot;&quot;;a=&#39;&lt;table role=&quot;grid&quot; class=&quot;mce-grid mce-grid-border&quot; aria-readonly=&quot;true&quot;&gt;&#39;;for(var b=0;10&gt;b;b++){a+=&quot;&lt;tr&gt;&quot;;for(var c=0;10&gt;c;c++)a+=&#39;&lt;td role=&quot;gridcell&quot; tabindex=&quot;-1&quot;&gt;&lt;a id=&quot;mcegrid&#39;+(10*b+c)+&#39;&quot; href=&quot;#&quot; data-mce-x=&quot;&#39;+c+&#39;&quot; data-mce-y=&quot;&#39;+b+&#39;&quot;&gt;&lt;/a&gt;&lt;/td&gt;&#39;;a+=&quot;&lt;/tr&gt;&quot;}return a+=&quot;&lt;/table&gt;&quot;,a+=&#39;&lt;div class=&quot;mce-text-center&quot; role=&quot;presentation&quot;&gt;1 x 1&lt;/div&gt;&#39;}function n(a,b,c){var d,f,g,h,i,j=c.getEl().getElementsByTagName(&quot;table&quot;)[0],k=c.isRtl()||&quot;tl-tr&quot;==c.parent().rel;for(j.nextSibling.innerHTML=a+1+&quot; x &quot;+(b+1),k&amp;&amp;(a=9-a),f=0;10&gt;f;f++)for(d=0;10&gt;d;d++)h=j.rows[f].childNodes[d].firstChild,i=(k?d&gt;=a:a&gt;=d)&amp;&amp;b&gt;=f,e.dom.toggleClass(h,&quot;mce-active&quot;,i),i&amp;&amp;(g=h);return g.parentNode}var o,p=this,q=new d(e);e.settings.table_grid===!1?e.addMenuItem(&quot;inserttable&quot;,{text:&quot;Insert table&quot;,icon:&quot;table&quot;,context:&quot;table&quot;,onclick:q.table}):e.addMenuItem(&quot;inserttable&quot;,{text:&quot;Insert table&quot;,icon:&quot;table&quot;,context:&quot;table&quot;,ariaHideMenu:!0,onclick:function(a){a.aria&amp;&amp;(this.parent().hideAll(),a.stopImmediatePropagation(),q.table())},onshow:function(){n(0,0,this.menu.items()[0])},onhide:function(){var a=this.menu.items()[0].getEl().getElementsByTagName(&quot;a&quot;);e.dom.removeClass(a,&quot;mce-active&quot;),e.dom.addClass(a[0],&quot;mce-active&quot;)},menu:[{type:&quot;container&quot;,html:m(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(a){var b,c,d=a.target;&quot;A&quot;==d.tagName.toUpperCase()&amp;&amp;(b=parseInt(d.getAttribute(&quot;data-mce-x&quot;),10),c=parseInt(d.getAttribute(&quot;data-mce-y&quot;),10),(this.isRtl()||&quot;tl-tr&quot;==this.parent().rel)&amp;&amp;(b=9-b),(b!==this.lastX||c!==this.lastY)&amp;&amp;(n(b,c,a.control),this.lastX=b,this.lastY=c))},onclick:function(a){var b=this;&quot;A&quot;==a.target.tagName.toUpperCase()&amp;&amp;(a.preventDefault(),a.stopPropagation(),b.parent().cancel(),e.undoManager.transact(function(){h(b.lastX+1,b.lastY+1)}),e.addVisual())}}]}),e.addMenuItem(&quot;tableprops&quot;,{text:&quot;Table properties&quot;,context:&quot;table&quot;,onPostRender:k,onclick:q.tableProps}),e.addMenuItem(&quot;deletetable&quot;,{text:&quot;Delete table&quot;,context:&quot;table&quot;,onPostRender:k,cmd:&quot;mceTableDelete&quot;}),e.addMenuItem(&quot;cell&quot;,{separator:&quot;before&quot;,text:&quot;Cell&quot;,context:&quot;table&quot;,menu:[{text:&quot;Cell properties&quot;,onclick:f(&quot;mceTableCellProps&quot;),onPostRender:l},{text:&quot;Merge cells&quot;,onclick:f(&quot;mceTableMergeCells&quot;),onPostRender:l},{text:&quot;Split cell&quot;,onclick:f(&quot;mceTableSplitCells&quot;),onPostRender:l}]}),e.addMenuItem(&quot;row&quot;,{text:&quot;Row&quot;,context:&quot;table&quot;,menu:[{text:&quot;Insert row before&quot;,onclick:f(&quot;mceTableInsertRowBefore&quot;),onPostRender:l},{text:&quot;Insert row after&quot;,onclick:f(&quot;mceTableInsertRowAfter&quot;),onPostRender:l},{text:&quot;Delete row&quot;,onclick:f(&quot;mceTableDeleteRow&quot;),onPostRender:l},{text:&quot;Row properties&quot;,onclick:f(&quot;mceTableRowProps&quot;),onPostRender:l},{text:&quot;-&quot;},{text:&quot;Cut row&quot;,onclick:f(&quot;mceTableCutRow&quot;),onPostRender:l},{text:&quot;Copy row&quot;,onclick:f(&quot;mceTableCopyRow&quot;),onPostRender:l},{text:&quot;Paste row before&quot;,onclick:f(&quot;mceTablePasteRowBefore&quot;),onPostRender:l},{text:&quot;Paste row after&quot;,onclick:f(&quot;mceTablePasteRowAfter&quot;),onPostRender:l}]}),e.addMenuItem(&quot;column&quot;,{text:&quot;Column&quot;,context:&quot;table&quot;,menu:[{text:&quot;Insert column before&quot;,onclick:f(&quot;mceTableInsertColBefore&quot;),onPostRender:l},{text:&quot;Insert column after&quot;,onclick:f(&quot;mceTableInsertColAfter&quot;),onPostRender:l},{text:&quot;Delete column&quot;,onclick:f(&quot;mceTableDeleteCol&quot;),onPostRender:l}]});var r=[];j(&quot;inserttable tableprops deletetable | cell row column&quot;.split(&quot; &quot;),function(a){r.push(&quot;|&quot;==a?{text:&quot;-&quot;}:e.menuItems[a])}),e.addButton(&quot;table&quot;,{type:&quot;menubutton&quot;,title:&quot;Table&quot;,menu:r}),g.isIE||e.on(&quot;click&quot;,function(a){a=a.target,&quot;TABLE&quot;===a.nodeName&amp;&amp;(e.selection.select(a),e.nodeChanged())}),p.quirks=new b(e),e.on(&quot;Init&quot;,function(){p.cellSelection=new c(e)}),j({mceTableSplitCells:function(a){a.split()},mceTableMergeCells:function(a){var b;b=e.dom.getParent(e.selection.getStart(),&quot;th,td&quot;),e.dom.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;).length?a.merge():q.merge(a,b)},mceTableInsertRowBefore:function(a){a.insertRow(!0)},mceTableInsertRowAfter:function(a){a.insertRow()},mceTableInsertColBefore:function(a){a.insertCol(!0)},mceTableInsertColAfter:function(a){a.insertCol()},mceTableDeleteCol:function(a){a.deleteCols()},mceTableDeleteRow:function(a){a.deleteRows()},mceTableCutRow:function(a){o=a.cutRows()},mceTableCopyRow:function(a){o=a.copyRows()},mceTablePasteRowBefore:function(a){a.pasteRows(o,!0)},mceTablePasteRowAfter:function(a){a.pasteRows(o)},mceTableDelete:function(a){a.deleteTable()}},function(b,c){e.addCommand(c,function(){var c=new a(e);c&amp;&amp;(b(c),e.execCommand(&quot;mceRepaint&quot;),p.cellSelection.clear())})}),j({mceInsertTable:q.table,mceTableProps:function(){q.table(!0)},mceTableRowProps:q.row,mceTableCellProps:q.cell},function(a,b){e.addCommand(b,function(b,c){a(c)})}),e.settings.table_tab_navigation!==!1&amp;&amp;e.on(&quot;keydown&quot;,function(b){var c,d,f;9==b.keyCode&amp;&amp;(c=e.dom.getParent(e.selection.getStart(),&quot;th,td&quot;),c&amp;&amp;(b.preventDefault(),d=new a(e),f=b.shiftKey?-1:1,e.undoManager.transact(function(){!d.moveRelIdx(c,f)&amp;&amp;f&gt;0&amp;&amp;(d.insertRow(),d.refresh(),d.moveRelIdx(c,f))})))}),p.insertTable=h}var j=e.each;h.add(&quot;table&quot;,i)})}(this);</pre>
</body>
</html>
